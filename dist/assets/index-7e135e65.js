function _A(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var i8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function al(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var s8={exports:{}},oh={},o8={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),AA=Symbol.for("react.portal"),EA=Symbol.for("react.fragment"),TA=Symbol.for("react.strict_mode"),IA=Symbol.for("react.profiler"),SA=Symbol.for("react.provider"),xA=Symbol.for("react.context"),RA=Symbol.for("react.forward_ref"),kA=Symbol.for("react.suspense"),CA=Symbol.for("react.memo"),PA=Symbol.for("react.lazy"),gg=Symbol.iterator;function NA(t){return t===null||typeof t!="object"?null:(t=gg&&t[gg]||t["@@iterator"],typeof t=="function"?t:null)}var f8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a8=Object.assign,l8={};function of(t,e,r){this.props=t,this.context=e,this.refs=l8,this.updater=r||f8}of.prototype.isReactComponent={};of.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};of.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u8(){}u8.prototype=of.prototype;function V5(t,e,r){this.props=t,this.context=e,this.refs=l8,this.updater=r||f8}var F5=V5.prototype=new u8;F5.constructor=V5;a8(F5,of.prototype);F5.isPureReactComponent=!0;var yg=Array.isArray,c8=Object.prototype.hasOwnProperty,B5={current:null},h8={key:!0,ref:!0,__self:!0,__source:!0};function d8(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)c8.call(e,n)&&!h8.hasOwnProperty(n)&&(i[n]=e[n]);var f=arguments.length-2;if(f===1)i.children=r;else if(1<f){for(var a=Array(f),l=0;l<f;l++)a[l]=arguments[l+2];i.children=a}if(t&&t.defaultProps)for(n in f=t.defaultProps,f)i[n]===void 0&&(i[n]=f[n]);return{$$typeof:ll,type:t,key:s,ref:o,props:i,_owner:B5.current}}function MA(t,e){return{$$typeof:ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function j5(t){return typeof t=="object"&&t!==null&&t.$$typeof===ll}function OA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var vg=/\/+/g;function Fd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OA(""+t.key):e.toString(36)}function Iu(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ll:case AA:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Fd(o,0):n,yg(i)?(r="",t!=null&&(r=t.replace(vg,"$&/")+"/"),Iu(i,e,r,"",function(l){return l})):i!=null&&(j5(i)&&(i=MA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",yg(t))for(var f=0;f<t.length;f++){s=t[f];var a=n+Fd(s,f);o+=Iu(s,e,r,a,i)}else if(a=NA(t),typeof a=="function")for(t=a.call(t),f=0;!(s=t.next()).done;)s=s.value,a=n+Fd(s,f++),o+=Iu(s,e,r,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gl(t,e,r){if(t==null)return t;var n=[],i=0;return Iu(t,n,"","",function(s){return e.call(r,s,i++)}),n}function DA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nr={current:null},Su={transition:null},LA={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:Su,ReactCurrentOwner:B5};Ae.Children={map:Gl,forEach:function(t,e,r){Gl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Gl(t,function(){e++}),e},toArray:function(t){return Gl(t,function(e){return e})||[]},only:function(t){if(!j5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=of;Ae.Fragment=EA;Ae.Profiler=IA;Ae.PureComponent=V5;Ae.StrictMode=TA;Ae.Suspense=kA;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;Ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=a8({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=B5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(a in e)c8.call(e,a)&&!h8.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&f!==void 0?f[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){f=Array(a);for(var l=0;l<a;l++)f[l]=arguments[l+2];n.children=f}return{$$typeof:ll,type:t.type,key:i,ref:s,props:n,_owner:o}};Ae.createContext=function(t){return t={$$typeof:xA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SA,_context:t},t.Consumer=t};Ae.createElement=d8;Ae.createFactory=function(t){var e=d8.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:RA,render:t}};Ae.isValidElement=j5;Ae.lazy=function(t){return{$$typeof:PA,_payload:{_status:-1,_result:t},_init:DA}};Ae.memo=function(t,e){return{$$typeof:CA,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Su.transition;Su.transition={};try{t()}finally{Su.transition=e}};Ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ae.useCallback=function(t,e){return Nr.current.useCallback(t,e)};Ae.useContext=function(t){return Nr.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Nr.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Nr.current.useEffect(t,e)};Ae.useId=function(){return Nr.current.useId()};Ae.useImperativeHandle=function(t,e,r){return Nr.current.useImperativeHandle(t,e,r)};Ae.useInsertionEffect=function(t,e){return Nr.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Nr.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Nr.current.useMemo(t,e)};Ae.useReducer=function(t,e,r){return Nr.current.useReducer(t,e,r)};Ae.useRef=function(t){return Nr.current.useRef(t)};Ae.useState=function(t){return Nr.current.useState(t)};Ae.useSyncExternalStore=function(t,e,r){return Nr.current.useSyncExternalStore(t,e,r)};Ae.useTransition=function(){return Nr.current.useTransition()};Ae.version="18.2.0";o8.exports=Ae;var L=o8.exports;const p8=al(L),UA=_A({__proto__:null,default:p8},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=L,FA=Symbol.for("react.element"),BA=Symbol.for("react.fragment"),jA=Object.prototype.hasOwnProperty,zA=VA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HA={key:!0,ref:!0,__self:!0,__source:!0};function m8(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)jA.call(e,n)&&!HA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:FA,type:t,key:s,ref:o,props:i,_owner:zA.current}}oh.Fragment=BA;oh.jsx=m8;oh.jsxs=m8;s8.exports=oh;var x=s8.exports,X1={},g8={exports:{}},rn={},y8={exports:{}},v8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,C){var N=A.length;A.push(C);e:for(;0<N;){var E=N-1>>>1,d=A[E];if(0<i(d,C))A[E]=C,A[N]=d,N=E;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var C=A[0],N=A.pop();if(N!==C){A[0]=N;e:for(var E=0,d=A.length,R=d>>>1;E<R;){var se=2*(E+1)-1,g=A[se],U=se+1,F=A[U];if(0>i(g,N))U<d&&0>i(F,g)?(A[E]=F,A[U]=N,E=U):(A[E]=g,A[se]=N,E=se);else if(U<d&&0>i(F,N))A[E]=F,A[U]=N,E=U;else break e}}return C}function i(A,C){var N=A.sortIndex-C.sortIndex;return N!==0?N:A.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,f=o.now();t.unstable_now=function(){return o.now()-f}}var a=[],l=[],u=1,h=null,p=3,y=!1,w=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(A){for(var C=r(l);C!==null;){if(C.callback===null)n(l);else if(C.startTime<=A)n(l),C.sortIndex=C.expirationTime,e(a,C);else break;C=r(l)}}function M(A){if(S=!1,T(A),!w)if(r(a)!==null)w=!0,_(O);else{var C=r(l);C!==null&&I(M,C.startTime-A)}}function O(A,C){w=!1,S&&(S=!1,v(H),H=-1),y=!0;var N=p;try{for(T(C),h=r(a);h!==null&&(!(h.expirationTime>C)||A&&!ue());){var E=h.callback;if(typeof E=="function"){h.callback=null,p=h.priorityLevel;var d=E(h.expirationTime<=C);C=t.unstable_now(),typeof d=="function"?h.callback=d:h===r(a)&&n(a),T(C)}else n(a);h=r(a)}if(h!==null)var R=!0;else{var se=r(l);se!==null&&I(M,se.startTime-C),R=!1}return R}finally{h=null,p=N,y=!1}}var V=!1,B=null,H=-1,W=5,re=-1;function ue(){return!(t.unstable_now()-re<W)}function Me(){if(B!==null){var A=t.unstable_now();re=A;var C=!0;try{C=B(!0,A)}finally{C?k():(V=!1,B=null)}}else V=!1}var k;if(typeof b=="function")k=function(){b(Me)};else if(typeof MessageChannel<"u"){var c=new MessageChannel,m=c.port2;c.port1.onmessage=Me,k=function(){m.postMessage(null)}}else k=function(){P(Me,0)};function _(A){B=A,V||(V=!0,k())}function I(A,C){H=P(function(){A(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,_(O))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(A){switch(p){case 1:case 2:case 3:var C=3;break;default:C=p}var N=p;p=C;try{return A()}finally{p=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var N=p;p=A;try{return C()}finally{p=N}},t.unstable_scheduleCallback=function(A,C,N){var E=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?E+N:E):N=E,A){case 1:var d=-1;break;case 2:d=250;break;case 5:d=1073741823;break;case 4:d=1e4;break;default:d=5e3}return d=N+d,A={id:u++,callback:C,priorityLevel:A,startTime:N,expirationTime:d,sortIndex:-1},N>E?(A.sortIndex=N,e(l,A),r(a)===null&&A===r(l)&&(S?(v(H),H=-1):S=!0,I(M,N-E))):(A.sortIndex=d,e(a,A),w||y||(w=!0,_(O))),A},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(A){var C=p;return function(){var N=p;p=C;try{return A.apply(this,arguments)}finally{p=N}}}})(v8);y8.exports=v8;var GA=y8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b8=L,en=GA;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _8=new Set,_a={};function D0(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(_a[t]=e,t=0;t<e.length;t++)_8.add(e[t])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z1=Object.prototype.hasOwnProperty,$A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bg={},_g={};function qA(t){return Z1.call(_g,t)?!0:Z1.call(bg,t)?!1:$A.test(t)?_g[t]=!0:(bg[t]=!0,!1)}function WA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KA(t,e,r,n){if(e===null||typeof e>"u"||WA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fr[t]=new Mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fr[e]=new Mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fr[t]=new Mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fr[t]=new Mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fr[t]=new Mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fr[t]=new Mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fr[t]=new Mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fr[t]=new Mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fr[t]=new Mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var z5=/[\-:]([a-z])/g;function H5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z5,H5);fr[e]=new Mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z5,H5);fr[e]=new Mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z5,H5);fr[e]=new Mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fr[t]=new Mr(t,1,!1,t.toLowerCase(),null,!1,!1)});fr.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fr[t]=new Mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function G5(t,e,r,n){var i=fr.hasOwnProperty(e)?fr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KA(e,r,i,n)&&(r=null),n||i===null?qA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ji=b8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),to=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),$5=Symbol.for("react.strict_mode"),e6=Symbol.for("react.profiler"),w8=Symbol.for("react.provider"),A8=Symbol.for("react.context"),q5=Symbol.for("react.forward_ref"),t6=Symbol.for("react.suspense"),r6=Symbol.for("react.suspense_list"),W5=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),E8=Symbol.for("react.offscreen"),wg=Symbol.iterator;function xf(t){return t===null||typeof t!="object"?null:(t=wg&&t[wg]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Bd;function Gf(t){if(Bd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Bd=e&&e[1]||""}return`
`+Bd+t}var jd=!1;function zd(t,e){if(!t||jd)return"";jd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,f=s.length-1;1<=o&&0<=f&&i[o]!==s[f];)f--;for(;1<=o&&0<=f;o--,f--)if(i[o]!==s[f]){if(o!==1||f!==1)do if(o--,f--,0>f||i[o]!==s[f]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=f);break}}}finally{jd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gf(t):""}function QA(t){switch(t.tag){case 5:return Gf(t.type);case 16:return Gf("Lazy");case 13:return Gf("Suspense");case 19:return Gf("SuspenseList");case 0:case 2:case 15:return t=zd(t.type,!1),t;case 11:return t=zd(t.type.render,!1),t;case 1:return t=zd(t.type,!0),t;default:return""}}function n6(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case to:return"Portal";case e6:return"Profiler";case $5:return"StrictMode";case t6:return"Suspense";case r6:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A8:return(t.displayName||"Context")+".Consumer";case w8:return(t._context.displayName||"Context")+".Provider";case q5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W5:return e=t.displayName||null,e!==null?e:n6(t.type)||"Memo";case Zi:e=t._payload,t=t._init;try{return n6(t(e))}catch{}}return null}function YA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n6(e);case 8:return e===$5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JA(t){var e=T8(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ql(t){t._valueTracker||(t._valueTracker=JA(t))}function I8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=T8(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function i6(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ag(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Is(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S8(t,e){e=e.checked,e!=null&&G5(t,"checked",e,!1)}function s6(t,e){S8(t,e);var r=Is(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?o6(t,e.type,r):e.hasOwnProperty("defaultValue")&&o6(t,e.type,Is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Eg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function o6(t,e,r){(e!=="number"||Zu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $f=Array.isArray;function _o(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Is(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function f6(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error($(92));if($f(r)){if(1<r.length)throw Error($(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Is(r)}}function x8(t,e){var r=Is(e.value),n=Is(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ig(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a6(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wl,k8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wa(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XA=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(t){XA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ra[e]=ra[t]})});function C8(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ra.hasOwnProperty(t)&&ra[t]?(""+e).trim():e+"px"}function P8(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=C8(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var ZA=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l6(t,e){if(e){if(ZA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function u6(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c6=null;function K5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var h6=null,wo=null,Ao=null;function Sg(t){if(t=hl(t)){if(typeof h6!="function")throw Error($(280));var e=t.stateNode;e&&(e=ch(e),h6(t.stateNode,t.type,e))}}function N8(t){wo?Ao?Ao.push(t):Ao=[t]:wo=t}function M8(){if(wo){var t=wo,e=Ao;if(Ao=wo=null,Sg(t),e)for(t=0;t<e.length;t++)Sg(e[t])}}function O8(t,e){return t(e)}function D8(){}var Hd=!1;function L8(t,e,r){if(Hd)return t(e,r);Hd=!0;try{return O8(t,e,r)}finally{Hd=!1,(wo!==null||Ao!==null)&&(D8(),M8())}}function Aa(t,e){var r=t.stateNode;if(r===null)return null;var n=ch(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error($(231,e,typeof r));return r}var d6=!1;if(Ci)try{var Rf={};Object.defineProperty(Rf,"passive",{get:function(){d6=!0}}),window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{d6=!1}function eE(t,e,r,n,i,s,o,f,a){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var na=!1,ec=null,tc=!1,p6=null,tE={onError:function(t){na=!0,ec=t}};function rE(t,e,r,n,i,s,o,f,a){na=!1,ec=null,eE.apply(tE,arguments)}function nE(t,e,r,n,i,s,o,f,a){if(rE.apply(this,arguments),na){if(na){var l=ec;na=!1,ec=null}else throw Error($(198));tc||(tc=!0,p6=l)}}function L0(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function U8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xg(t){if(L0(t)!==t)throw Error($(188))}function iE(t){var e=t.alternate;if(!e){if(e=L0(t),e===null)throw Error($(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return xg(i),t;if(s===n)return xg(i),e;s=s.sibling}throw Error($(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,f=i.child;f;){if(f===r){o=!0,r=i,n=s;break}if(f===n){o=!0,n=i,r=s;break}f=f.sibling}if(!o){for(f=s.child;f;){if(f===r){o=!0,r=s,n=i;break}if(f===n){o=!0,n=s,r=i;break}f=f.sibling}if(!o)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?t:e}function V8(t){return t=iE(t),t!==null?F8(t):null}function F8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F8(t);if(e!==null)return e;t=t.sibling}return null}var B8=en.unstable_scheduleCallback,Rg=en.unstable_cancelCallback,sE=en.unstable_shouldYield,oE=en.unstable_requestPaint,Dt=en.unstable_now,fE=en.unstable_getCurrentPriorityLevel,Q5=en.unstable_ImmediatePriority,j8=en.unstable_UserBlockingPriority,rc=en.unstable_NormalPriority,aE=en.unstable_LowPriority,z8=en.unstable_IdlePriority,fh=null,Yn=null;function lE(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(fh,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:hE,uE=Math.log,cE=Math.LN2;function hE(t){return t>>>=0,t===0?32:31-(uE(t)/cE|0)|0}var Kl=64,Ql=4194304;function qf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var f=o&~i;f!==0?n=qf(f):(s&=o,s!==0&&(n=qf(s)))}else o=r&~i,o!==0?n=qf(o):s!==0&&(n=qf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-kn(e),i=1<<r,n|=t[r],e&=~i;return n}function dE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pE(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kn(s),f=1<<o,a=i[o];a===-1?(!(f&r)||f&n)&&(i[o]=dE(f,e)):a<=e&&(t.expiredLanes|=f),s&=~f}}function m6(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H8(){var t=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),t}function Gd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ul(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=r}function mE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-kn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Y5(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-kn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Pe=0;function G8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $8,J5,q8,W8,K8,g6=!1,Yl=[],ds=null,ps=null,ms=null,Ea=new Map,Ta=new Map,ts=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kg(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(e.pointerId)}}function kf(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hl(e),e!==null&&J5(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yE(t,e,r,n,i){switch(e){case"focusin":return ds=kf(ds,t,e,r,n,i),!0;case"dragenter":return ps=kf(ps,t,e,r,n,i),!0;case"mouseover":return ms=kf(ms,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ea.set(s,kf(Ea.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ta.set(s,kf(Ta.get(s)||null,t,e,r,n,i)),!0}return!1}function Q8(t){var e=o0(t.target);if(e!==null){var r=L0(e);if(r!==null){if(e=r.tag,e===13){if(e=U8(r),e!==null){t.blockedOn=e,K8(t.priority,function(){q8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=y6(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);c6=n,r.target.dispatchEvent(n),c6=null}else return e=hl(r),e!==null&&J5(e),t.blockedOn=r,!1;e.shift()}return!0}function Cg(t,e,r){xu(t)&&r.delete(e)}function vE(){g6=!1,ds!==null&&xu(ds)&&(ds=null),ps!==null&&xu(ps)&&(ps=null),ms!==null&&xu(ms)&&(ms=null),Ea.forEach(Cg),Ta.forEach(Cg)}function Cf(t,e){t.blockedOn===e&&(t.blockedOn=null,g6||(g6=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,vE)))}function Ia(t){function e(i){return Cf(i,t)}if(0<Yl.length){Cf(Yl[0],t);for(var r=1;r<Yl.length;r++){var n=Yl[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ds!==null&&Cf(ds,t),ps!==null&&Cf(ps,t),ms!==null&&Cf(ms,t),Ea.forEach(e),Ta.forEach(e),r=0;r<ts.length;r++)n=ts[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ts.length&&(r=ts[0],r.blockedOn===null);)Q8(r),r.blockedOn===null&&ts.shift()}var Eo=ji.ReactCurrentBatchConfig,ic=!0;function bE(t,e,r,n){var i=Pe,s=Eo.transition;Eo.transition=null;try{Pe=1,X5(t,e,r,n)}finally{Pe=i,Eo.transition=s}}function _E(t,e,r,n){var i=Pe,s=Eo.transition;Eo.transition=null;try{Pe=4,X5(t,e,r,n)}finally{Pe=i,Eo.transition=s}}function X5(t,e,r,n){if(ic){var i=y6(t,e,r,n);if(i===null)e1(t,e,n,sc,r),kg(t,n);else if(yE(i,t,e,r,n))n.stopPropagation();else if(kg(t,n),e&4&&-1<gE.indexOf(t)){for(;i!==null;){var s=hl(i);if(s!==null&&$8(s),s=y6(t,e,r,n),s===null&&e1(t,e,n,sc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else e1(t,e,n,null,r)}}var sc=null;function y6(t,e,r,n){if(sc=null,t=K5(n),t=o0(t),t!==null)if(e=L0(t),e===null)t=null;else if(r=e.tag,r===13){if(t=U8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sc=t,null}function Y8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fE()){case Q5:return 1;case j8:return 4;case rc:case aE:return 16;case z8:return 536870912;default:return 16}default:return 16}}var ls=null,Z5=null,Ru=null;function J8(){if(Ru)return Ru;var t,e=Z5,r=e.length,n,i="value"in ls?ls.value:ls.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Ru=i.slice(t,1<n?1-n:void 0)}function ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function Pg(){return!1}function nn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var f in t)t.hasOwnProperty(f)&&(r=t[f],this[f]=r?r(s):s[f]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jl:Pg,this.isPropagationStopped=Pg,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),e}var ff={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=nn(ff),cl=St({},ff,{view:0,detail:0}),wE=nn(cl),$d,qd,Pf,ah=St({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pf&&(Pf&&t.type==="mousemove"?($d=t.screenX-Pf.screenX,qd=t.screenY-Pf.screenY):qd=$d=0,Pf=t),$d)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),Ng=nn(ah),AE=St({},ah,{dataTransfer:0}),EE=nn(AE),TE=St({},cl,{relatedTarget:0}),Wd=nn(TE),IE=St({},ff,{animationName:0,elapsedTime:0,pseudoElement:0}),SE=nn(IE),xE=St({},ff,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RE=nn(xE),kE=St({},ff,{data:0}),Mg=nn(kE),CE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ME(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NE[t])?!!e[t]:!1}function tp(){return ME}var OE=St({},cl,{key:function(t){if(t.key){var e=CE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(t){return t.type==="keypress"?ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DE=nn(OE),LE=St({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Og=nn(LE),UE=St({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),VE=nn(UE),FE=St({},ff,{propertyName:0,elapsedTime:0,pseudoElement:0}),BE=nn(FE),jE=St({},ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zE=nn(jE),HE=[9,13,27,32],rp=Ci&&"CompositionEvent"in window,ia=null;Ci&&"documentMode"in document&&(ia=document.documentMode);var GE=Ci&&"TextEvent"in window&&!ia,X8=Ci&&(!rp||ia&&8<ia&&11>=ia),Dg=String.fromCharCode(32),Lg=!1;function Z8(t,e){switch(t){case"keyup":return HE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function $E(t,e){switch(t){case"compositionend":return eb(e);case"keypress":return e.which!==32?null:(Lg=!0,Dg);case"textInput":return t=e.data,t===Dg&&Lg?null:t;default:return null}}function qE(t,e){if(no)return t==="compositionend"||!rp&&Z8(t,e)?(t=J8(),Ru=Z5=ls=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X8&&e.locale!=="ko"?null:e.data;default:return null}}var WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WE[t.type]:e==="textarea"}function tb(t,e,r,n){N8(n),e=oc(e,"onChange"),0<e.length&&(r=new ep("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var sa=null,Sa=null;function KE(t){hb(t,0)}function lh(t){var e=oo(t);if(I8(e))return t}function QE(t,e){if(t==="change")return e}var rb=!1;if(Ci){var Kd;if(Ci){var Qd="oninput"in document;if(!Qd){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Qd=typeof Vg.oninput=="function"}Kd=Qd}else Kd=!1;rb=Kd&&(!document.documentMode||9<document.documentMode)}function Fg(){sa&&(sa.detachEvent("onpropertychange",nb),Sa=sa=null)}function nb(t){if(t.propertyName==="value"&&lh(Sa)){var e=[];tb(e,Sa,t,K5(t)),L8(KE,e)}}function YE(t,e,r){t==="focusin"?(Fg(),sa=e,Sa=r,sa.attachEvent("onpropertychange",nb)):t==="focusout"&&Fg()}function JE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lh(Sa)}function XE(t,e){if(t==="click")return lh(e)}function ZE(t,e){if(t==="input"||t==="change")return lh(e)}function e7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:e7;function xa(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Z1.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,e){var r=Bg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bg(r)}}function ib(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ib(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sb(){for(var t=window,e=Zu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zu(t.document)}return e}function np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function t7(t){var e=sb(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ib(r.ownerDocument.documentElement,r)){if(n!==null&&np(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=jg(r,s);var o=jg(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r7=Ci&&"documentMode"in document&&11>=document.documentMode,io=null,v6=null,oa=null,b6=!1;function zg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;b6||io==null||io!==Zu(n)||(n=io,"selectionStart"in n&&np(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oa&&xa(oa,n)||(oa=n,n=oc(v6,"onSelect"),0<n.length&&(e=new ep("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=io)))}function Xl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var so={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},Yd={},ob={};Ci&&(ob=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function uh(t){if(Yd[t])return Yd[t];if(!so[t])return t;var e=so[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ob)return Yd[t]=e[r];return t}var fb=uh("animationend"),ab=uh("animationiteration"),lb=uh("animationstart"),ub=uh("transitionend"),cb=new Map,Hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){cb.set(t,e),D0(e,[t])}for(var Jd=0;Jd<Hg.length;Jd++){var Xd=Hg[Jd],n7=Xd.toLowerCase(),i7=Xd[0].toUpperCase()+Xd.slice(1);Ns(n7,"on"+i7)}Ns(fb,"onAnimationEnd");Ns(ab,"onAnimationIteration");Ns(lb,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(ub,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);D0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));D0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));D0("onBeforeInput",["compositionend","keypress","textInput","paste"]);D0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));D0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));D0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wf));function Gg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,nE(n,e,void 0,t),t.currentTarget=null}function hb(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var f=n[o],a=f.instance,l=f.currentTarget;if(f=f.listener,a!==s&&i.isPropagationStopped())break e;Gg(i,f,l),s=a}else for(o=0;o<n.length;o++){if(f=n[o],a=f.instance,l=f.currentTarget,f=f.listener,a!==s&&i.isPropagationStopped())break e;Gg(i,f,l),s=a}}}if(tc)throw t=p6,tc=!1,p6=null,t}function dt(t,e){var r=e[T6];r===void 0&&(r=e[T6]=new Set);var n=t+"__bubble";r.has(n)||(db(e,t,2,!1),r.add(n))}function Zd(t,e,r){var n=0;e&&(n|=4),db(r,t,n,e)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Ra(t){if(!t[Zl]){t[Zl]=!0,_8.forEach(function(r){r!=="selectionchange"&&(s7.has(r)||Zd(r,!1,t),Zd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zl]||(e[Zl]=!0,Zd("selectionchange",!1,e))}}function db(t,e,r,n){switch(Y8(e)){case 1:var i=bE;break;case 4:i=_E;break;default:i=X5}r=i.bind(null,e,r,t),i=void 0,!d6||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function e1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var f=n.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;f!==null;){if(o=o0(f),o===null)return;if(a=o.tag,a===5||a===6){n=s=o;continue e}f=f.parentNode}}n=n.return}L8(function(){var l=s,u=K5(r),h=[];e:{var p=cb.get(t);if(p!==void 0){var y=ep,w=t;switch(t){case"keypress":if(ku(r)===0)break e;case"keydown":case"keyup":y=DE;break;case"focusin":w="focus",y=Wd;break;case"focusout":w="blur",y=Wd;break;case"beforeblur":case"afterblur":y=Wd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=EE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=VE;break;case fb:case ab:case lb:y=SE;break;case ub:y=BE;break;case"scroll":y=wE;break;case"wheel":y=zE;break;case"copy":case"cut":case"paste":y=RE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Og}var S=(e&4)!==0,P=!S&&t==="scroll",v=S?p!==null?p+"Capture":null:p;S=[];for(var b=l,T;b!==null;){T=b;var M=T.stateNode;if(T.tag===5&&M!==null&&(T=M,v!==null&&(M=Aa(b,v),M!=null&&S.push(ka(b,M,T)))),P)break;b=b.return}0<S.length&&(p=new y(p,w,null,r,u),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&r!==c6&&(w=r.relatedTarget||r.fromElement)&&(o0(w)||w[Pi]))break e;if((y||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=l,w=w?o0(w):null,w!==null&&(P=L0(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=l),y!==w)){if(S=Ng,M="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=Og,M="onPointerLeave",v="onPointerEnter",b="pointer"),P=y==null?p:oo(y),T=w==null?p:oo(w),p=new S(M,b+"leave",y,r,u),p.target=P,p.relatedTarget=T,M=null,o0(u)===l&&(S=new S(v,b+"enter",w,r,u),S.target=T,S.relatedTarget=P,M=S),P=M,y&&w)t:{for(S=y,v=w,b=0,T=S;T;T=q0(T))b++;for(T=0,M=v;M;M=q0(M))T++;for(;0<b-T;)S=q0(S),b--;for(;0<T-b;)v=q0(v),T--;for(;b--;){if(S===v||v!==null&&S===v.alternate)break t;S=q0(S),v=q0(v)}S=null}else S=null;y!==null&&$g(h,p,y,S,!1),w!==null&&P!==null&&$g(h,P,w,S,!0)}}e:{if(p=l?oo(l):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var O=QE;else if(Ug(p))if(rb)O=ZE;else{O=JE;var V=YE}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=XE);if(O&&(O=O(t,l))){tb(h,O,r,u);break e}V&&V(t,p,l),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&o6(p,"number",p.value)}switch(V=l?oo(l):window,t){case"focusin":(Ug(V)||V.contentEditable==="true")&&(io=V,v6=l,oa=null);break;case"focusout":oa=v6=io=null;break;case"mousedown":b6=!0;break;case"contextmenu":case"mouseup":case"dragend":b6=!1,zg(h,r,u);break;case"selectionchange":if(r7)break;case"keydown":case"keyup":zg(h,r,u)}var B;if(rp)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else no?Z8(t,r)&&(H="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(H="onCompositionStart");H&&(X8&&r.locale!=="ko"&&(no||H!=="onCompositionStart"?H==="onCompositionEnd"&&no&&(B=J8()):(ls=u,Z5="value"in ls?ls.value:ls.textContent,no=!0)),V=oc(l,H),0<V.length&&(H=new Mg(H,t,null,r,u),h.push({event:H,listeners:V}),B?H.data=B:(B=eb(r),B!==null&&(H.data=B)))),(B=GE?$E(t,r):qE(t,r))&&(l=oc(l,"onBeforeInput"),0<l.length&&(u=new Mg("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:l}),u.data=B))}hb(h,e)})}function ka(t,e,r){return{instance:t,listener:e,currentTarget:r}}function oc(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Aa(t,r),s!=null&&n.unshift(ka(t,s,i)),s=Aa(t,e),s!=null&&n.push(ka(t,s,i))),t=t.return}return n}function q0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $g(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var f=r,a=f.alternate,l=f.stateNode;if(a!==null&&a===n)break;f.tag===5&&l!==null&&(f=l,i?(a=Aa(r,s),a!=null&&o.unshift(ka(r,a,f))):i||(a=Aa(r,s),a!=null&&o.push(ka(r,a,f)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var o7=/\r\n?/g,f7=/\u0000|\uFFFD/g;function qg(t){return(typeof t=="string"?t:""+t).replace(o7,`
`).replace(f7,"")}function eu(t,e,r){if(e=qg(e),qg(t)!==e&&r)throw Error($(425))}function fc(){}var _6=null,w6=null;function A6(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E6=typeof setTimeout=="function"?setTimeout:void 0,a7=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,l7=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(t){return Wg.resolve(null).then(t).catch(u7)}:E6;function u7(t){setTimeout(function(){throw t})}function t1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ia(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ia(e)}function gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var af=Math.random().toString(36).slice(2),zn="__reactFiber$"+af,Ca="__reactProps$"+af,Pi="__reactContainer$"+af,T6="__reactEvents$"+af,c7="__reactListeners$"+af,h7="__reactHandles$"+af;function o0(t){var e=t[zn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pi]||r[zn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Kg(t);t!==null;){if(r=t[zn])return r;t=Kg(t)}return e}t=r,r=t.parentNode}return null}function hl(t){return t=t[zn]||t[Pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function ch(t){return t[Ca]||null}var I6=[],fo=-1;function Ms(t){return{current:t}}function gt(t){0>fo||(t.current=I6[fo],I6[fo]=null,fo--)}function Oe(t,e){fo++,I6[fo]=t.current,t.current=e}var Ss={},Tr=Ms(Ss),Br=Ms(!1),y0=Ss;function Oo(t,e){var r=t.type.contextTypes;if(!r)return Ss;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jr(t){return t=t.childContextTypes,t!=null}function ac(){gt(Br),gt(Tr)}function Qg(t,e,r){if(Tr.current!==Ss)throw Error($(168));Oe(Tr,e),Oe(Br,r)}function pb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error($(108,YA(t)||"Unknown",i));return St({},r,n)}function lc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ss,y0=Tr.current,Oe(Tr,t),Oe(Br,Br.current),!0}function Yg(t,e,r){var n=t.stateNode;if(!n)throw Error($(169));r?(t=pb(t,e,y0),n.__reactInternalMemoizedMergedChildContext=t,gt(Br),gt(Tr),Oe(Tr,t)):gt(Br),Oe(Br,r)}var yi=null,hh=!1,r1=!1;function mb(t){yi===null?yi=[t]:yi.push(t)}function d7(t){hh=!0,mb(t)}function Os(){if(!r1&&yi!==null){r1=!0;var t=0,e=Pe;try{var r=yi;for(Pe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}yi=null,hh=!1}catch(i){throw yi!==null&&(yi=yi.slice(t+1)),B8(Q5,Os),i}finally{Pe=e,r1=!1}}return null}var ao=[],lo=0,uc=null,cc=0,an=[],ln=0,v0=null,wi=1,Ai="";function n0(t,e){ao[lo++]=cc,ao[lo++]=uc,uc=t,cc=e}function gb(t,e,r){an[ln++]=wi,an[ln++]=Ai,an[ln++]=v0,v0=t;var n=wi;t=Ai;var i=32-kn(n)-1;n&=~(1<<i),r+=1;var s=32-kn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,wi=1<<32-kn(e)+i|r<<i|n,Ai=s+t}else wi=1<<s|r<<i|n,Ai=t}function ip(t){t.return!==null&&(n0(t,1),gb(t,1,0))}function sp(t){for(;t===uc;)uc=ao[--lo],ao[lo]=null,cc=ao[--lo],ao[lo]=null;for(;t===v0;)v0=an[--ln],an[ln]=null,Ai=an[--ln],an[ln]=null,wi=an[--ln],an[ln]=null}var Zr=null,Qr=null,bt=!1,xn=null;function yb(t,e){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Jg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zr=t,Qr=gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zr=t,Qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=v0!==null?{id:wi,overflow:Ai}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Zr=t,Qr=null,!0):!1;default:return!1}}function S6(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x6(t){if(bt){var e=Qr;if(e){var r=e;if(!Jg(t,e)){if(S6(t))throw Error($(418));e=gs(r.nextSibling);var n=Zr;e&&Jg(t,e)?yb(n,r):(t.flags=t.flags&-4097|2,bt=!1,Zr=t)}}else{if(S6(t))throw Error($(418));t.flags=t.flags&-4097|2,bt=!1,Zr=t}}}function Xg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zr=t}function tu(t){if(t!==Zr)return!1;if(!bt)return Xg(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!A6(t.type,t.memoizedProps)),e&&(e=Qr)){if(S6(t))throw vb(),Error($(418));for(;e;)yb(t,e),e=gs(e.nextSibling)}if(Xg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Qr=gs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Qr=null}}else Qr=Zr?gs(t.stateNode.nextSibling):null;return!0}function vb(){for(var t=Qr;t;)t=gs(t.nextSibling)}function Do(){Qr=Zr=null,bt=!1}function op(t){xn===null?xn=[t]:xn.push(t)}var p7=ji.ReactCurrentBatchConfig;function Tn(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var hc=Ms(null),dc=null,uo=null,fp=null;function ap(){fp=uo=dc=null}function lp(t){var e=hc.current;gt(hc),t._currentValue=e}function R6(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function To(t,e){dc=t,fp=uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fr=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(fp!==t)if(t={context:t,memoizedValue:e,next:null},uo===null){if(dc===null)throw Error($(308));uo=t,dc.dependencies={lanes:0,firstContext:t}}else uo=uo.next=t;return e}var f0=null;function up(t){f0===null?f0=[t]:f0.push(t)}function bb(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,up(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ni(t,n)}function Ni(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var es=!1;function cp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _b(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ys(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ni(t,r)}return i=n.interleaved,i===null?(e.next=e,up(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ni(t,r)}function Cu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Y5(t,r)}}function Zg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pc(t,e,r,n){var i=t.updateQueue;es=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var a=f,l=a.next;a.next=null,o===null?s=l:o.next=l,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,f=u.lastBaseUpdate,f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,u=l=a=null,f=s;do{var p=f.lane,y=f.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:y,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var w=t,S=f;switch(p=e,y=r,S.tag){case 1:if(w=S.payload,typeof w=="function"){h=w.call(y,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,p=typeof w=="function"?w.call(y,h,p):w,p==null)break e;h=St({},h,p);break e;case 2:es=!0}}f.callback!==null&&f.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[f]:p.push(f))}else y={eventTime:y,lane:p,tag:f.tag,payload:f.payload,callback:f.callback,next:null},u===null?(l=u=y,a=h):u=u.next=y,o|=p;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;p=f,f=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(a=h),i.baseState=a,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_0|=o,t.lanes=o,t.memoizedState=h}}function e2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error($(191,i));i.call(n)}}}var wb=new b8.Component().refs;function k6(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dh={isMounted:function(t){return(t=t._reactInternals)?L0(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pr(),i=bs(t),s=xi(n,i);s.payload=e,r!=null&&(s.callback=r),e=ys(t,s,i),e!==null&&(Cn(e,t,i,n),Cu(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pr(),i=bs(t),s=xi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ys(t,s,i),e!==null&&(Cn(e,t,i,n),Cu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pr(),n=bs(t),i=xi(r,n);i.tag=2,e!=null&&(i.callback=e),e=ys(t,i,n),e!==null&&(Cn(e,t,n,r),Cu(e,t,n))}};function t2(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!xa(r,n)||!xa(i,s):!0}function Ab(t,e,r){var n=!1,i=Ss,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=jr(e)?y0:Tr.current,n=e.contextTypes,s=(n=n!=null)?Oo(t,i):Ss),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function r2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&dh.enqueueReplaceState(e,e.state,null)}function C6(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=wb,cp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=jr(e)?y0:Tr.current,i.context=Oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(k6(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dh.enqueueReplaceState(i,i.state,null),pc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var f=i.refs;f===wb&&(f=i.refs={}),o===null?delete f[s]:f[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!r._owner)throw Error($(290,t))}return t}function ru(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n2(t){var e=t._init;return e(t._payload)}function Eb(t){function e(v,b){if(t){var T=v.deletions;T===null?(v.deletions=[b],v.flags|=16):T.push(b)}}function r(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=_s(v,b),v.index=0,v.sibling=null,v}function s(v,b,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<b?(v.flags|=2,b):T):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function f(v,b,T,M){return b===null||b.tag!==6?(b=l1(T,v.mode,M),b.return=v,b):(b=i(b,T),b.return=v,b)}function a(v,b,T,M){var O=T.type;return O===ro?u(v,b,T.props.children,M,T.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Zi&&n2(O)===b.type)?(M=i(b,T.props),M.ref=Nf(v,b,T),M.return=v,M):(M=Lu(T.type,T.key,T.props,null,v.mode,M),M.ref=Nf(v,b,T),M.return=v,M)}function l(v,b,T,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=u1(T,v.mode,M),b.return=v,b):(b=i(b,T.children||[]),b.return=v,b)}function u(v,b,T,M,O){return b===null||b.tag!==7?(b=d0(T,v.mode,M,O),b.return=v,b):(b=i(b,T),b.return=v,b)}function h(v,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=l1(""+b,v.mode,T),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $l:return T=Lu(b.type,b.key,b.props,null,v.mode,T),T.ref=Nf(v,null,b),T.return=v,T;case to:return b=u1(b,v.mode,T),b.return=v,b;case Zi:var M=b._init;return h(v,M(b._payload),T)}if($f(b)||xf(b))return b=d0(b,v.mode,T,null),b.return=v,b;ru(v,b)}return null}function p(v,b,T,M){var O=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:f(v,b,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $l:return T.key===O?a(v,b,T,M):null;case to:return T.key===O?l(v,b,T,M):null;case Zi:return O=T._init,p(v,b,O(T._payload),M)}if($f(T)||xf(T))return O!==null?null:u(v,b,T,M,null);ru(v,T)}return null}function y(v,b,T,M,O){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(T)||null,f(b,v,""+M,O);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $l:return v=v.get(M.key===null?T:M.key)||null,a(b,v,M,O);case to:return v=v.get(M.key===null?T:M.key)||null,l(b,v,M,O);case Zi:var V=M._init;return y(v,b,T,V(M._payload),O)}if($f(M)||xf(M))return v=v.get(T)||null,u(b,v,M,O,null);ru(b,M)}return null}function w(v,b,T,M){for(var O=null,V=null,B=b,H=b=0,W=null;B!==null&&H<T.length;H++){B.index>H?(W=B,B=null):W=B.sibling;var re=p(v,B,T[H],M);if(re===null){B===null&&(B=W);break}t&&B&&re.alternate===null&&e(v,B),b=s(re,b,H),V===null?O=re:V.sibling=re,V=re,B=W}if(H===T.length)return r(v,B),bt&&n0(v,H),O;if(B===null){for(;H<T.length;H++)B=h(v,T[H],M),B!==null&&(b=s(B,b,H),V===null?O=B:V.sibling=B,V=B);return bt&&n0(v,H),O}for(B=n(v,B);H<T.length;H++)W=y(B,v,H,T[H],M),W!==null&&(t&&W.alternate!==null&&B.delete(W.key===null?H:W.key),b=s(W,b,H),V===null?O=W:V.sibling=W,V=W);return t&&B.forEach(function(ue){return e(v,ue)}),bt&&n0(v,H),O}function S(v,b,T,M){var O=xf(T);if(typeof O!="function")throw Error($(150));if(T=O.call(T),T==null)throw Error($(151));for(var V=O=null,B=b,H=b=0,W=null,re=T.next();B!==null&&!re.done;H++,re=T.next()){B.index>H?(W=B,B=null):W=B.sibling;var ue=p(v,B,re.value,M);if(ue===null){B===null&&(B=W);break}t&&B&&ue.alternate===null&&e(v,B),b=s(ue,b,H),V===null?O=ue:V.sibling=ue,V=ue,B=W}if(re.done)return r(v,B),bt&&n0(v,H),O;if(B===null){for(;!re.done;H++,re=T.next())re=h(v,re.value,M),re!==null&&(b=s(re,b,H),V===null?O=re:V.sibling=re,V=re);return bt&&n0(v,H),O}for(B=n(v,B);!re.done;H++,re=T.next())re=y(B,v,H,re.value,M),re!==null&&(t&&re.alternate!==null&&B.delete(re.key===null?H:re.key),b=s(re,b,H),V===null?O=re:V.sibling=re,V=re);return t&&B.forEach(function(Me){return e(v,Me)}),bt&&n0(v,H),O}function P(v,b,T,M){if(typeof T=="object"&&T!==null&&T.type===ro&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case $l:e:{for(var O=T.key,V=b;V!==null;){if(V.key===O){if(O=T.type,O===ro){if(V.tag===7){r(v,V.sibling),b=i(V,T.props.children),b.return=v,v=b;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Zi&&n2(O)===V.type){r(v,V.sibling),b=i(V,T.props),b.ref=Nf(v,V,T),b.return=v,v=b;break e}r(v,V);break}else e(v,V);V=V.sibling}T.type===ro?(b=d0(T.props.children,v.mode,M,T.key),b.return=v,v=b):(M=Lu(T.type,T.key,T.props,null,v.mode,M),M.ref=Nf(v,b,T),M.return=v,v=M)}return o(v);case to:e:{for(V=T.key;b!==null;){if(b.key===V)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){r(v,b.sibling),b=i(b,T.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else e(v,b);b=b.sibling}b=u1(T,v.mode,M),b.return=v,v=b}return o(v);case Zi:return V=T._init,P(v,b,V(T._payload),M)}if($f(T))return w(v,b,T,M);if(xf(T))return S(v,b,T,M);ru(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,T),b.return=v,v=b):(r(v,b),b=l1(T,v.mode,M),b.return=v,v=b),o(v)):r(v,b)}return P}var Lo=Eb(!0),Tb=Eb(!1),dl={},Jn=Ms(dl),Pa=Ms(dl),Na=Ms(dl);function a0(t){if(t===dl)throw Error($(174));return t}function hp(t,e){switch(Oe(Na,e),Oe(Pa,t),Oe(Jn,dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:a6(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=a6(e,t)}gt(Jn),Oe(Jn,e)}function Uo(){gt(Jn),gt(Pa),gt(Na)}function Ib(t){a0(Na.current);var e=a0(Jn.current),r=a6(e,t.type);e!==r&&(Oe(Pa,t),Oe(Jn,r))}function dp(t){Pa.current===t&&(gt(Jn),gt(Pa))}var Tt=Ms(0);function mc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var n1=[];function pp(){for(var t=0;t<n1.length;t++)n1[t]._workInProgressVersionPrimary=null;n1.length=0}var Pu=ji.ReactCurrentDispatcher,i1=ji.ReactCurrentBatchConfig,b0=0,It=null,Gt=null,Qt=null,gc=!1,fa=!1,Ma=0,m7=0;function ur(){throw Error($(321))}function mp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Pn(t[r],e[r]))return!1;return!0}function gp(t,e,r,n,i,s){if(b0=s,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pu.current=t===null||t.memoizedState===null?b7:_7,t=r(n,i),fa){s=0;do{if(fa=!1,Ma=0,25<=s)throw Error($(301));s+=1,Qt=Gt=null,e.updateQueue=null,Pu.current=w7,t=r(n,i)}while(fa)}if(Pu.current=yc,e=Gt!==null&&Gt.next!==null,b0=0,Qt=Gt=It=null,gc=!1,e)throw Error($(300));return t}function yp(){var t=Ma!==0;return Ma=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?It.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function gn(){if(Gt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=Qt===null?It.memoizedState:Qt.next;if(e!==null)Qt=e,Gt=t;else{if(t===null)throw Error($(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Qt===null?It.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Oa(t,e){return typeof e=="function"?e(t):e}function s1(t){var e=gn(),r=e.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=t;var n=Gt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var f=o=null,a=null,l=s;do{var u=l.lane;if((b0&u)===u)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var h={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(f=a=h,o=n):a=a.next=h,It.lanes|=u,_0|=u}l=l.next}while(l!==null&&l!==s);a===null?o=n:a.next=f,Pn(n,e.memoizedState)||(Fr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,It.lanes|=s,_0|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function o1(t){var e=gn(),r=e.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(Fr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Sb(){}function xb(t,e){var r=It,n=gn(),i=e(),s=!Pn(n.memoizedState,i);if(s&&(n.memoizedState=i,Fr=!0),n=n.queue,vp(Cb.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Qt!==null&&Qt.memoizedState.tag&1){if(r.flags|=2048,Da(9,kb.bind(null,r,n,i,e),void 0,null),Jt===null)throw Error($(349));b0&30||Rb(r,e,i)}return i}function Rb(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function kb(t,e,r,n){e.value=r,e.getSnapshot=n,Pb(e)&&Nb(t)}function Cb(t,e,r){return r(function(){Pb(e)&&Nb(t)})}function Pb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Pn(t,r)}catch{return!0}}function Nb(t){var e=Ni(t,1);e!==null&&Cn(e,t,1,-1)}function i2(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e.queue=t,t=t.dispatch=v7.bind(null,It,t),[e.memoizedState,t]}function Da(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Mb(){return gn().memoizedState}function Nu(t,e,r,n){var i=Vn();It.flags|=t,i.memoizedState=Da(1|e,r,void 0,n===void 0?null:n)}function ph(t,e,r,n){var i=gn();n=n===void 0?null:n;var s=void 0;if(Gt!==null){var o=Gt.memoizedState;if(s=o.destroy,n!==null&&mp(n,o.deps)){i.memoizedState=Da(e,r,s,n);return}}It.flags|=t,i.memoizedState=Da(1|e,r,s,n)}function s2(t,e){return Nu(8390656,8,t,e)}function vp(t,e){return ph(2048,8,t,e)}function Ob(t,e){return ph(4,2,t,e)}function Db(t,e){return ph(4,4,t,e)}function Lb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ub(t,e,r){return r=r!=null?r.concat([t]):null,ph(4,4,Lb.bind(null,e,t),r)}function bp(){}function Vb(t,e){var r=gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Fb(t,e){var r=gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Bb(t,e,r){return b0&21?(Pn(r,e)||(r=H8(),It.lanes|=r,_0|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fr=!0),t.memoizedState=r)}function g7(t,e){var r=Pe;Pe=r!==0&&4>r?r:4,t(!0);var n=i1.transition;i1.transition={};try{t(!1),e()}finally{Pe=r,i1.transition=n}}function jb(){return gn().memoizedState}function y7(t,e,r){var n=bs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zb(t))Hb(e,r);else if(r=bb(t,e,r,n),r!==null){var i=Pr();Cn(r,t,n,i),Gb(r,e,n)}}function v7(t,e,r){var n=bs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zb(t))Hb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,f=s(o,r);if(i.hasEagerState=!0,i.eagerState=f,Pn(f,o)){var a=e.interleaved;a===null?(i.next=i,up(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}r=bb(t,e,i,n),r!==null&&(i=Pr(),Cn(r,t,n,i),Gb(r,e,n))}}function zb(t){var e=t.alternate;return t===It||e!==null&&e===It}function Hb(t,e){fa=gc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Gb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Y5(t,r)}}var yc={readContext:mn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},b7={readContext:mn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:s2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Nu(4194308,4,Lb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nu(4,2,t,e)},useMemo:function(t,e){var r=Vn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=y7.bind(null,It,t),[n.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:i2,useDebugValue:bp,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=i2(!1),e=t[0];return t=g7.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=It,i=Vn();if(bt){if(r===void 0)throw Error($(407));r=r()}else{if(r=e(),Jt===null)throw Error($(349));b0&30||Rb(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,s2(Cb.bind(null,n,s,t),[t]),n.flags|=2048,Da(9,kb.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Vn(),e=Jt.identifierPrefix;if(bt){var r=Ai,n=wi;r=(n&~(1<<32-kn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ma++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=m7++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_7={readContext:mn,useCallback:Vb,useContext:mn,useEffect:vp,useImperativeHandle:Ub,useInsertionEffect:Ob,useLayoutEffect:Db,useMemo:Fb,useReducer:s1,useRef:Mb,useState:function(){return s1(Oa)},useDebugValue:bp,useDeferredValue:function(t){var e=gn();return Bb(e,Gt.memoizedState,t)},useTransition:function(){var t=s1(Oa)[0],e=gn().memoizedState;return[t,e]},useMutableSource:Sb,useSyncExternalStore:xb,useId:jb,unstable_isNewReconciler:!1},w7={readContext:mn,useCallback:Vb,useContext:mn,useEffect:vp,useImperativeHandle:Ub,useInsertionEffect:Ob,useLayoutEffect:Db,useMemo:Fb,useReducer:o1,useRef:Mb,useState:function(){return o1(Oa)},useDebugValue:bp,useDeferredValue:function(t){var e=gn();return Gt===null?e.memoizedState=t:Bb(e,Gt.memoizedState,t)},useTransition:function(){var t=o1(Oa)[0],e=gn().memoizedState;return[t,e]},useMutableSource:Sb,useSyncExternalStore:xb,useId:jb,unstable_isNewReconciler:!1};function Vo(t,e){try{var r="",n=e;do r+=QA(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function f1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function P6(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var A7=typeof WeakMap=="function"?WeakMap:Map;function $b(t,e,r){r=xi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bc||(bc=!0,j6=n),P6(t,e)},r}function qb(t,e,r){r=xi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){P6(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){P6(t,e),typeof n!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function o2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new A7;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=L7.bind(null,t,e,r),e.then(t,t))}function f2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xi(-1,1),e.tag=2,ys(r,e,1))),r.lanes|=1),t)}var E7=ji.ReactCurrentOwner,Fr=!1;function Rr(t,e,r,n){e.child=t===null?Tb(e,null,r,n):Lo(e,t.child,r,n)}function l2(t,e,r,n,i){r=r.render;var s=e.ref;return To(e,i),n=gp(t,e,r,n,s,i),r=yp(),t!==null&&!Fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(bt&&r&&ip(e),e.flags|=1,Rr(t,e,n,i),e.child)}function u2(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!xp(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Wb(t,e,s,n,i)):(t=Lu(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:xa,r(o,n)&&t.ref===e.ref)return Mi(t,e,i)}return e.flags|=1,t=_s(s,n),t.ref=e.ref,t.return=e,e.child=t}function Wb(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(xa(s,n)&&t.ref===e.ref)if(Fr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Fr=!0);else return e.lanes=t.lanes,Mi(t,e,i)}return N6(t,e,r,n,i)}function Kb(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ho,qr),qr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(ho,qr),qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Oe(ho,qr),qr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Oe(ho,qr),qr|=n;return Rr(t,e,i,r),e.child}function Qb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function N6(t,e,r,n,i){var s=jr(r)?y0:Tr.current;return s=Oo(e,s),To(e,i),r=gp(t,e,r,n,s,i),n=yp(),t!==null&&!Fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(bt&&n&&ip(e),e.flags|=1,Rr(t,e,r,i),e.child)}function c2(t,e,r,n,i){if(jr(r)){var s=!0;lc(e)}else s=!1;if(To(e,i),e.stateNode===null)Mu(t,e),Ab(e,r,n),C6(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,f=e.memoizedProps;o.props=f;var a=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=mn(l):(l=jr(r)?y0:Tr.current,l=Oo(e,l));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==n||a!==l)&&r2(e,o,n,l),es=!1;var p=e.memoizedState;o.state=p,pc(e,n,o,i),a=e.memoizedState,f!==n||p!==a||Br.current||es?(typeof u=="function"&&(k6(e,r,u,n),a=e.memoizedState),(f=es||t2(e,r,f,n,p,a,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=l,n=f):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_b(t,e),f=e.memoizedProps,l=e.type===e.elementType?f:Tn(e.type,f),o.props=l,h=e.pendingProps,p=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=mn(a):(a=jr(r)?y0:Tr.current,a=Oo(e,a));var y=r.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==h||p!==a)&&r2(e,o,n,a),es=!1,p=e.memoizedState,o.state=p,pc(e,n,o,i);var w=e.memoizedState;f!==h||p!==w||Br.current||es?(typeof y=="function"&&(k6(e,r,y,n),w=e.memoizedState),(l=es||t2(e,r,l,n,p,w,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=a,n=l):(typeof o.componentDidUpdate!="function"||f===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return M6(t,e,r,n,s,i)}function M6(t,e,r,n,i,s){Qb(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Yg(e,r,!1),Mi(t,e,s);n=e.stateNode,E7.current=e;var f=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Lo(e,t.child,null,s),e.child=Lo(e,null,f,s)):Rr(t,e,f,s),e.memoizedState=n.state,i&&Yg(e,r,!0),e.child}function Yb(t){var e=t.stateNode;e.pendingContext?Qg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qg(t,e.context,!1),hp(t,e.containerInfo)}function h2(t,e,r,n,i){return Do(),op(i),e.flags|=256,Rr(t,e,r,n),e.child}var O6={dehydrated:null,treeContext:null,retryLane:0};function D6(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jb(t,e,r){var n=e.pendingProps,i=Tt.current,s=!1,o=(e.flags&128)!==0,f;if((f=o)||(f=t!==null&&t.memoizedState===null?!1:(i&2)!==0),f?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(Tt,i&1),t===null)return x6(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yh(o,n,0,null),t=d0(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=D6(r),e.memoizedState=O6,t):_p(e,o));if(i=t.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return T7(t,e,o,n,f,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,f=i.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=_s(i,a),n.subtreeFlags=i.subtreeFlags&14680064),f!==null?s=_s(f,s):(s=d0(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?D6(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=O6,n}return s=t.child,t=s.sibling,n=_s(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function _p(t,e){return e=yh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,r,n){return n!==null&&op(n),Lo(e,t.child,null,r),t=_p(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T7(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=f1(Error($(422))),nu(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=yh({mode:"visible",children:n.children},i,0,null),s=d0(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Lo(e,t.child,null,o),e.child.memoizedState=D6(o),e.memoizedState=O6,s);if(!(e.mode&1))return nu(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var f=n.dgst;return n=f,s=Error($(419)),n=f1(s,n,void 0),nu(t,e,o,n)}if(f=(o&t.childLanes)!==0,Fr||f){if(n=Jt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ni(t,i),Cn(n,t,i,-1))}return Sp(),n=f1(Error($(421))),nu(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Qr=gs(i.nextSibling),Zr=e,bt=!0,xn=null,t!==null&&(an[ln++]=wi,an[ln++]=Ai,an[ln++]=v0,wi=t.id,Ai=t.overflow,v0=e),e=_p(e,n.children),e.flags|=4096,e)}function d2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),R6(t.return,e,r)}function a1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Xb(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Rr(t,e,n.children,r),n=Tt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d2(t,r,e);else if(t.tag===19)d2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Oe(Tt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&mc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),a1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}a1(e,!0,r,null,s);break;case"together":a1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),_0|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,r=_s(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=_s(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function I7(t,e,r){switch(e.tag){case 3:Yb(e),Do();break;case 5:Ib(e);break;case 1:jr(e.type)&&lc(e);break;case 4:hp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Oe(hc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Tt,Tt.current&1),e.flags|=128,null):r&e.child.childLanes?Jb(t,e,r):(Oe(Tt,Tt.current&1),t=Mi(t,e,r),t!==null?t.sibling:null);Oe(Tt,Tt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xb(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Tt,Tt.current),n)break;return null;case 22:case 23:return e.lanes=0,Kb(t,e,r)}return Mi(t,e,r)}var Zb,L6,e_,t_;Zb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};L6=function(){};e_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,a0(Jn.current);var s=null;switch(r){case"input":i=i6(t,i),n=i6(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=f6(t,i),n=f6(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=fc)}l6(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var f=i[l];for(o in f)f.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var a=n[l];if(f=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&a!==f&&(a!=null||f!=null))if(l==="style")if(f){for(o in f)!f.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&f[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(s||(s=[]),s.push(l,r)),r=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,f=f?f.__html:void 0,a!=null&&f!==a&&(s=s||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(_a.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&dt("scroll",t),s||f===a||(s=[])):(s=s||[]).push(l,a))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};t_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Mf(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function S7(t,e,r){var n=e.pendingProps;switch(sp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(e),null;case 1:return jr(e.type)&&ac(),cr(e),null;case 3:return n=e.stateNode,Uo(),gt(Br),gt(Tr),pp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(G6(xn),xn=null))),L6(t,e),cr(e),null;case 5:dp(e);var i=a0(Na.current);if(r=e.type,t!==null&&e.stateNode!=null)e_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error($(166));return cr(e),null}if(t=a0(Jn.current),tu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zn]=e,n[Ca]=s,t=(e.mode&1)!==0,r){case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":case"embed":dt("load",n);break;case"video":case"audio":for(i=0;i<Wf.length;i++)dt(Wf[i],n);break;case"source":dt("error",n);break;case"img":case"image":case"link":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"input":Ag(n,s),dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},dt("invalid",n);break;case"textarea":Tg(n,s),dt("invalid",n)}l6(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var f=s[o];o==="children"?typeof f=="string"?n.textContent!==f&&(s.suppressHydrationWarning!==!0&&eu(n.textContent,f,t),i=["children",f]):typeof f=="number"&&n.textContent!==""+f&&(s.suppressHydrationWarning!==!0&&eu(n.textContent,f,t),i=["children",""+f]):_a.hasOwnProperty(o)&&f!=null&&o==="onScroll"&&dt("scroll",n)}switch(r){case"input":ql(n),Eg(n,s,!0);break;case"textarea":ql(n),Ig(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R8(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[zn]=e,t[Ca]=n,Zb(t,e,!1,!1),e.stateNode=t;e:{switch(o=u6(r,n),r){case"dialog":dt("cancel",t),dt("close",t),i=n;break;case"iframe":case"object":case"embed":dt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wf.length;i++)dt(Wf[i],t);i=n;break;case"source":dt("error",t),i=n;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=n;break;case"details":dt("toggle",t),i=n;break;case"input":Ag(t,n),i=i6(t,n),dt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),dt("invalid",t);break;case"textarea":Tg(t,n),i=f6(t,n),dt("invalid",t);break;default:i=n}l6(r,i),f=i;for(s in f)if(f.hasOwnProperty(s)){var a=f[s];s==="style"?P8(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&k8(t,a)):s==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&wa(t,a):typeof a=="number"&&wa(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_a.hasOwnProperty(s)?a!=null&&s==="onScroll"&&dt("scroll",t):a!=null&&G5(t,s,a,o))}switch(r){case"input":ql(t),Eg(t,n,!1);break;case"textarea":ql(t),Ig(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Is(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?_o(t,!!n.multiple,s,!1):n.defaultValue!=null&&_o(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cr(e),null;case 6:if(t&&e.stateNode!=null)t_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error($(166));if(r=a0(Na.current),a0(Jn.current),tu(e)){if(n=e.stateNode,r=e.memoizedProps,n[zn]=e,(s=n.nodeValue!==r)&&(t=Zr,t!==null))switch(t.tag){case 3:eu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=e,e.stateNode=n}return cr(e),null;case 13:if(gt(Tt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&Qr!==null&&e.mode&1&&!(e.flags&128))vb(),Do(),e.flags|=98560,s=!1;else if(s=tu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[zn]=e}else Do(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cr(e),s=!1}else xn!==null&&(G6(xn),xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Tt.current&1?qt===0&&(qt=3):Sp())),e.updateQueue!==null&&(e.flags|=4),cr(e),null);case 4:return Uo(),L6(t,e),t===null&&Ra(e.stateNode.containerInfo),cr(e),null;case 10:return lp(e.type._context),cr(e),null;case 17:return jr(e.type)&&ac(),cr(e),null;case 19:if(gt(Tt),s=e.memoizedState,s===null)return cr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Mf(s,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mc(t),o!==null){for(e.flags|=128,Mf(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Oe(Tt,Tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Dt()>Fo&&(e.flags|=128,n=!0,Mf(s,!1),e.lanes=4194304)}else{if(!n)if(t=mc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Mf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bt)return cr(e),null}else 2*Dt()-s.renderingStartTime>Fo&&r!==1073741824&&(e.flags|=128,n=!0,Mf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Dt(),e.sibling=null,r=Tt.current,Oe(Tt,n?r&1|2:r&1),e):(cr(e),null);case 22:case 23:return Ip(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qr&1073741824&&(cr(e),e.subtreeFlags&6&&(e.flags|=8192)):cr(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function x7(t,e){switch(sp(e),e.tag){case 1:return jr(e.type)&&ac(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),gt(Br),gt(Tr),pp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dp(e),null;case 13:if(gt(Tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Do()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(Tt),null;case 4:return Uo(),null;case 10:return lp(e.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var iu=!1,mr=!1,R7=typeof WeakSet=="function"?WeakSet:Set,ee=null;function co(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ct(t,e,n)}else r.current=null}function U6(t,e,r){try{r()}catch(n){Ct(t,e,n)}}var p2=!1;function k7(t,e){if(_6=ic,t=sb(),np(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,f=-1,a=-1,l=0,u=0,h=t,p=null;t:for(;;){for(var y;h!==r||i!==0&&h.nodeType!==3||(f=o+i),h!==s||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===r&&++l===i&&(f=o),p===s&&++u===n&&(a=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}r=f===-1||a===-1?null:{start:f,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(w6={focusedElem:t,selectionRange:r},ic=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,P=w.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:Tn(e.type,S),P);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(M){Ct(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return w=p2,p2=!1,w}function aa(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&U6(e,r,s)}i=i.next}while(i!==n)}}function mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function V6(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function r_(t){var e=t.alternate;e!==null&&(t.alternate=null,r_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Ca],delete e[T6],delete e[c7],delete e[h7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function n_(t){return t.tag===5||t.tag===3||t.tag===4}function m2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function F6(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=fc));else if(n!==4&&(t=t.child,t!==null))for(F6(t,e,r),t=t.sibling;t!==null;)F6(t,e,r),t=t.sibling}function B6(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(B6(t,e,r),t=t.sibling;t!==null;)B6(t,e,r),t=t.sibling}var rr=null,Sn=!1;function Qi(t,e,r){for(r=r.child;r!==null;)i_(t,e,r),r=r.sibling}function i_(t,e,r){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(fh,r)}catch{}switch(r.tag){case 5:mr||co(r,e);case 6:var n=rr,i=Sn;rr=null,Qi(t,e,r),rr=n,Sn=i,rr!==null&&(Sn?(t=rr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&(Sn?(t=rr,r=r.stateNode,t.nodeType===8?t1(t.parentNode,r):t.nodeType===1&&t1(t,r),Ia(t)):t1(rr,r.stateNode));break;case 4:n=rr,i=Sn,rr=r.stateNode.containerInfo,Sn=!0,Qi(t,e,r),rr=n,Sn=i;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&U6(r,e,o),i=i.next}while(i!==n)}Qi(t,e,r);break;case 1:if(!mr&&(co(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(f){Ct(r,e,f)}Qi(t,e,r);break;case 21:Qi(t,e,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,Qi(t,e,r),mr=n):Qi(t,e,r);break;default:Qi(t,e,r)}}function g2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new R7),e.forEach(function(n){var i=V7.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function _n(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,f=o;e:for(;f!==null;){switch(f.tag){case 5:rr=f.stateNode,Sn=!1;break e;case 3:rr=f.stateNode.containerInfo,Sn=!0;break e;case 4:rr=f.stateNode.containerInfo,Sn=!0;break e}f=f.return}if(rr===null)throw Error($(160));i_(s,o,i),rr=null,Sn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(l){Ct(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s_(e,t),e=e.sibling}function s_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Un(t),n&4){try{aa(3,t,t.return),mh(3,t)}catch(S){Ct(t,t.return,S)}try{aa(5,t,t.return)}catch(S){Ct(t,t.return,S)}}break;case 1:_n(e,t),Un(t),n&512&&r!==null&&co(r,r.return);break;case 5:if(_n(e,t),Un(t),n&512&&r!==null&&co(r,r.return),t.flags&32){var i=t.stateNode;try{wa(i,"")}catch(S){Ct(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,f=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{f==="input"&&s.type==="radio"&&s.name!=null&&S8(i,s),u6(f,o);var l=u6(f,s);for(o=0;o<a.length;o+=2){var u=a[o],h=a[o+1];u==="style"?P8(i,h):u==="dangerouslySetInnerHTML"?k8(i,h):u==="children"?wa(i,h):G5(i,u,h,l)}switch(f){case"input":s6(i,s);break;case"textarea":x8(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?_o(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?_o(i,!!s.multiple,s.defaultValue,!0):_o(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ca]=s}catch(S){Ct(t,t.return,S)}}break;case 6:if(_n(e,t),Un(t),n&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Ct(t,t.return,S)}}break;case 3:if(_n(e,t),Un(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ia(e.containerInfo)}catch(S){Ct(t,t.return,S)}break;case 4:_n(e,t),Un(t);break;case 13:_n(e,t),Un(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ep=Dt())),n&4&&g2(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(mr=(l=mr)||u,_n(e,t),mr=l):_n(e,t),Un(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(ee=t,u=t.child;u!==null;){for(h=ee=u;ee!==null;){switch(p=ee,y=p.child,p.tag){case 0:case 11:case 14:case 15:aa(4,p,p.return);break;case 1:co(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(S){Ct(n,r,S)}}break;case 5:co(p,p.return);break;case 22:if(p.memoizedState!==null){v2(h);continue}}y!==null?(y.return=p,ee=y):v2(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(f=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,f.style.display=C8("display",o))}catch(S){Ct(t,t.return,S)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(S){Ct(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(e,t),Un(t),n&4&&g2(t);break;case 21:break;default:_n(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(n_(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wa(i,""),n.flags&=-33);var s=m2(t);B6(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,f=m2(t);F6(t,f,o);break;default:throw Error($(161))}}catch(a){Ct(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C7(t,e,r){ee=t,o_(t)}function o_(t,e,r){for(var n=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||iu;if(!o){var f=i.alternate,a=f!==null&&f.memoizedState!==null||mr;f=iu;var l=mr;if(iu=o,(mr=a)&&!l)for(ee=i;ee!==null;)o=ee,a=o.child,o.tag===22&&o.memoizedState!==null?b2(i):a!==null?(a.return=o,ee=a):b2(i);for(;s!==null;)ee=s,o_(s),s=s.sibling;ee=i,iu=f,mr=l}y2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):y2(t)}}function y2(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||mh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Tn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&e2(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}e2(e,o,r)}break;case 5:var f=e.stateNode;if(r===null&&e.flags&4){r=f;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ia(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}mr||e.flags&512&&V6(e)}catch(p){Ct(e,e.return,p)}}if(e===t){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function v2(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function b2(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{mh(4,e)}catch(a){Ct(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(a){Ct(e,i,a)}}var s=e.return;try{V6(e)}catch(a){Ct(e,s,a)}break;case 5:var o=e.return;try{V6(e)}catch(a){Ct(e,o,a)}}}catch(a){Ct(e,e.return,a)}if(e===t){ee=null;break}var f=e.sibling;if(f!==null){f.return=e.return,ee=f;break}ee=e.return}}var P7=Math.ceil,vc=ji.ReactCurrentDispatcher,wp=ji.ReactCurrentOwner,dn=ji.ReactCurrentBatchConfig,xe=0,Jt=null,zt=null,sr=0,qr=0,ho=Ms(0),qt=0,La=null,_0=0,gh=0,Ap=0,la=null,Lr=null,Ep=0,Fo=1/0,pi=null,bc=!1,j6=null,vs=null,su=!1,us=null,_c=0,ua=0,z6=null,Ou=-1,Du=0;function Pr(){return xe&6?Dt():Ou!==-1?Ou:Ou=Dt()}function bs(t){return t.mode&1?xe&2&&sr!==0?sr&-sr:p7.transition!==null?(Du===0&&(Du=H8()),Du):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Y8(t.type)),t):1}function Cn(t,e,r,n){if(50<ua)throw ua=0,z6=null,Error($(185));ul(t,r,n),(!(xe&2)||t!==Jt)&&(t===Jt&&(!(xe&2)&&(gh|=r),qt===4&&rs(t,sr)),zr(t,n),r===1&&xe===0&&!(e.mode&1)&&(Fo=Dt()+500,hh&&Os()))}function zr(t,e){var r=t.callbackNode;pE(t,e);var n=nc(t,t===Jt?sr:0);if(n===0)r!==null&&Rg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Rg(r),e===1)t.tag===0?d7(_2.bind(null,t)):mb(_2.bind(null,t)),l7(function(){!(xe&6)&&Os()}),r=null;else{switch(G8(n)){case 1:r=Q5;break;case 4:r=j8;break;case 16:r=rc;break;case 536870912:r=z8;break;default:r=rc}r=p_(r,f_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function f_(t,e){if(Ou=-1,Du=0,xe&6)throw Error($(327));var r=t.callbackNode;if(Io()&&t.callbackNode!==r)return null;var n=nc(t,t===Jt?sr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=wc(t,n);else{e=n;var i=xe;xe|=2;var s=l_();(Jt!==t||sr!==e)&&(pi=null,Fo=Dt()+500,h0(t,e));do try{O7();break}catch(f){a_(t,f)}while(1);ap(),vc.current=s,xe=i,zt!==null?e=0:(Jt=null,sr=0,e=qt)}if(e!==0){if(e===2&&(i=m6(t),i!==0&&(n=i,e=H6(t,i))),e===1)throw r=La,h0(t,0),rs(t,n),zr(t,Dt()),r;if(e===6)rs(t,n);else{if(i=t.current.alternate,!(n&30)&&!N7(i)&&(e=wc(t,n),e===2&&(s=m6(t),s!==0&&(n=s,e=H6(t,s))),e===1))throw r=La,h0(t,0),rs(t,n),zr(t,Dt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error($(345));case 2:i0(t,Lr,pi);break;case 3:if(rs(t,n),(n&130023424)===n&&(e=Ep+500-Dt(),10<e)){if(nc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=E6(i0.bind(null,t,Lr,pi),e);break}i0(t,Lr,pi);break;case 4:if(rs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-kn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*P7(n/1960))-n,10<n){t.timeoutHandle=E6(i0.bind(null,t,Lr,pi),n);break}i0(t,Lr,pi);break;case 5:i0(t,Lr,pi);break;default:throw Error($(329))}}}return zr(t,Dt()),t.callbackNode===r?f_.bind(null,t):null}function H6(t,e){var r=la;return t.current.memoizedState.isDehydrated&&(h0(t,e).flags|=256),t=wc(t,e),t!==2&&(e=Lr,Lr=r,e!==null&&G6(e)),t}function G6(t){Lr===null?Lr=t:Lr.push.apply(Lr,t)}function N7(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rs(t,e){for(e&=~Ap,e&=~gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-kn(e),n=1<<r;t[r]=-1,e&=~n}}function _2(t){if(xe&6)throw Error($(327));Io();var e=nc(t,0);if(!(e&1))return zr(t,Dt()),null;var r=wc(t,e);if(t.tag!==0&&r===2){var n=m6(t);n!==0&&(e=n,r=H6(t,n))}if(r===1)throw r=La,h0(t,0),rs(t,e),zr(t,Dt()),r;if(r===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,i0(t,Lr,pi),zr(t,Dt()),null}function Tp(t,e){var r=xe;xe|=1;try{return t(e)}finally{xe=r,xe===0&&(Fo=Dt()+500,hh&&Os())}}function w0(t){us!==null&&us.tag===0&&!(xe&6)&&Io();var e=xe;xe|=1;var r=dn.transition,n=Pe;try{if(dn.transition=null,Pe=1,t)return t()}finally{Pe=n,dn.transition=r,xe=e,!(xe&6)&&Os()}}function Ip(){qr=ho.current,gt(ho)}function h0(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,a7(r)),zt!==null)for(r=zt.return;r!==null;){var n=r;switch(sp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ac();break;case 3:Uo(),gt(Br),gt(Tr),pp();break;case 5:dp(n);break;case 4:Uo();break;case 13:gt(Tt);break;case 19:gt(Tt);break;case 10:lp(n.type._context);break;case 22:case 23:Ip()}r=r.return}if(Jt=t,zt=t=_s(t.current,null),sr=qr=e,qt=0,La=null,Ap=gh=_0=0,Lr=la=null,f0!==null){for(e=0;e<f0.length;e++)if(r=f0[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}f0=null}return t}function a_(t,e){do{var r=zt;try{if(ap(),Pu.current=yc,gc){for(var n=It.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gc=!1}if(b0=0,Qt=Gt=It=null,fa=!1,Ma=0,wp.current=null,r===null||r.return===null){qt=1,La=e,zt=null;break}e:{var s=t,o=r.return,f=r,a=e;if(e=sr,f.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,u=f,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=f2(o);if(y!==null){y.flags&=-257,a2(y,o,f,s,e),y.mode&1&&o2(s,l,e),e=y,a=l;var w=e.updateQueue;if(w===null){var S=new Set;S.add(a),e.updateQueue=S}else w.add(a);break e}else{if(!(e&1)){o2(s,l,e),Sp();break e}a=Error($(426))}}else if(bt&&f.mode&1){var P=f2(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),a2(P,o,f,s,e),op(Vo(a,f));break e}}s=a=Vo(a,f),qt!==4&&(qt=2),la===null?la=[s]:la.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=$b(s,a,e);Zg(s,v);break e;case 1:f=a;var b=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(vs===null||!vs.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=qb(s,f,e);Zg(s,M);break e}}s=s.return}while(s!==null)}c_(r)}catch(O){e=O,zt===r&&r!==null&&(zt=r=r.return);continue}break}while(1)}function l_(){var t=vc.current;return vc.current=yc,t===null?yc:t}function Sp(){(qt===0||qt===3||qt===2)&&(qt=4),Jt===null||!(_0&268435455)&&!(gh&268435455)||rs(Jt,sr)}function wc(t,e){var r=xe;xe|=2;var n=l_();(Jt!==t||sr!==e)&&(pi=null,h0(t,e));do try{M7();break}catch(i){a_(t,i)}while(1);if(ap(),xe=r,vc.current=n,zt!==null)throw Error($(261));return Jt=null,sr=0,qt}function M7(){for(;zt!==null;)u_(zt)}function O7(){for(;zt!==null&&!sE();)u_(zt)}function u_(t){var e=d_(t.alternate,t,qr);t.memoizedProps=t.pendingProps,e===null?c_(t):zt=e,wp.current=null}function c_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=x7(r,e),r!==null){r.flags&=32767,zt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,zt=null;return}}else if(r=S7(r,e,qr),r!==null){zt=r;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);qt===0&&(qt=5)}function i0(t,e,r){var n=Pe,i=dn.transition;try{dn.transition=null,Pe=1,D7(t,e,r,n)}finally{dn.transition=i,Pe=n}return null}function D7(t,e,r,n){do Io();while(us!==null);if(xe&6)throw Error($(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(mE(t,s),t===Jt&&(zt=Jt=null,sr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||su||(su=!0,p_(rc,function(){return Io(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=Pe;Pe=1;var f=xe;xe|=4,wp.current=null,k7(t,r),s_(r,t),t7(w6),ic=!!_6,w6=_6=null,t.current=r,C7(r),oE(),xe=f,Pe=o,dn.transition=s}else t.current=r;if(su&&(su=!1,us=t,_c=i),s=t.pendingLanes,s===0&&(vs=null),lE(r.stateNode),zr(t,Dt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(bc)throw bc=!1,t=j6,j6=null,t;return _c&1&&t.tag!==0&&Io(),s=t.pendingLanes,s&1?t===z6?ua++:(ua=0,z6=t):ua=0,Os(),null}function Io(){if(us!==null){var t=G8(_c),e=dn.transition,r=Pe;try{if(dn.transition=null,Pe=16>t?16:t,us===null)var n=!1;else{if(t=us,us=null,_c=0,xe&6)throw Error($(331));var i=xe;for(xe|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var f=s.deletions;if(f!==null){for(var a=0;a<f.length;a++){var l=f[a];for(ee=l;ee!==null;){var u=ee;switch(u.tag){case 0:case 11:case 15:aa(8,u,s)}var h=u.child;if(h!==null)h.return=u,ee=h;else for(;ee!==null;){u=ee;var p=u.sibling,y=u.return;if(r_(u),u===l){ee=null;break}if(p!==null){p.return=y,ee=p;break}ee=y}}}var w=s.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:aa(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ee=v;break e}ee=s.return}}var b=t.current;for(ee=b;ee!==null;){o=ee;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ee=T;else e:for(o=b;ee!==null;){if(f=ee,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:mh(9,f)}}catch(O){Ct(f,f.return,O)}if(f===o){ee=null;break e}var M=f.sibling;if(M!==null){M.return=f.return,ee=M;break e}ee=f.return}}if(xe=i,Os(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(fh,t)}catch{}n=!0}return n}finally{Pe=r,dn.transition=e}}return!1}function w2(t,e,r){e=Vo(r,e),e=$b(t,e,1),t=ys(t,e,1),e=Pr(),t!==null&&(ul(t,1,e),zr(t,e))}function Ct(t,e,r){if(t.tag===3)w2(t,t,r);else for(;e!==null;){if(e.tag===3){w2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vs===null||!vs.has(n))){t=Vo(r,t),t=qb(e,t,1),e=ys(e,t,1),t=Pr(),e!==null&&(ul(e,1,t),zr(e,t));break}}e=e.return}}function L7(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pr(),t.pingedLanes|=t.suspendedLanes&r,Jt===t&&(sr&r)===r&&(qt===4||qt===3&&(sr&130023424)===sr&&500>Dt()-Ep?h0(t,0):Ap|=r),zr(t,e)}function h_(t,e){e===0&&(t.mode&1?(e=Ql,Ql<<=1,!(Ql&130023424)&&(Ql=4194304)):e=1);var r=Pr();t=Ni(t,e),t!==null&&(ul(t,e,r),zr(t,r))}function U7(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),h_(t,r)}function V7(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(e),h_(t,r)}var d_;d_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Br.current)Fr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Fr=!1,I7(t,e,r);Fr=!!(t.flags&131072)}else Fr=!1,bt&&e.flags&1048576&&gb(e,cc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mu(t,e),t=e.pendingProps;var i=Oo(e,Tr.current);To(e,r),i=gp(null,e,n,t,i,r);var s=yp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jr(n)?(s=!0,lc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cp(e),i.updater=dh,e.stateNode=i,i._reactInternals=e,C6(e,n,t,r),e=M6(null,e,n,!0,s,r)):(e.tag=0,bt&&s&&ip(e),Rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mu(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=B7(n),t=Tn(n,t),i){case 0:e=N6(null,e,n,t,r);break e;case 1:e=c2(null,e,n,t,r);break e;case 11:e=l2(null,e,n,t,r);break e;case 14:e=u2(null,e,n,Tn(n.type,t),r);break e}throw Error($(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),N6(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),c2(t,e,n,i,r);case 3:e:{if(Yb(e),t===null)throw Error($(387));n=e.pendingProps,s=e.memoizedState,i=s.element,_b(t,e),pc(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vo(Error($(423)),e),e=h2(t,e,n,r,i);break e}else if(n!==i){i=Vo(Error($(424)),e),e=h2(t,e,n,r,i);break e}else for(Qr=gs(e.stateNode.containerInfo.firstChild),Zr=e,bt=!0,xn=null,r=Tb(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Do(),n===i){e=Mi(t,e,r);break e}Rr(t,e,n,r)}e=e.child}return e;case 5:return Ib(e),t===null&&x6(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,A6(n,i)?o=null:s!==null&&A6(n,s)&&(e.flags|=32),Qb(t,e),Rr(t,e,o,r),e.child;case 6:return t===null&&x6(e),null;case 13:return Jb(t,e,r);case 4:return hp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Lo(e,null,n,r):Rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),l2(t,e,n,i,r);case 7:return Rr(t,e,e.pendingProps,r),e.child;case 8:return Rr(t,e,e.pendingProps.children,r),e.child;case 12:return Rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(hc,n._currentValue),n._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!Br.current){e=Mi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var f=s.dependencies;if(f!==null){o=s.child;for(var a=f.firstContext;a!==null;){if(a.context===n){if(s.tag===1){a=xi(-1,r&-r),a.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?a.next=a:(a.next=u.next,u.next=a),l.pending=a}}s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),R6(s.return,r,e),f.lanes|=r;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=r,f=o.alternate,f!==null&&(f.lanes|=r),R6(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,To(e,r),i=mn(i),n=n(i),e.flags|=1,Rr(t,e,n,r),e.child;case 14:return n=e.type,i=Tn(n,e.pendingProps),i=Tn(n.type,i),u2(t,e,n,i,r);case 15:return Wb(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),Mu(t,e),e.tag=1,jr(n)?(t=!0,lc(e)):t=!1,To(e,r),Ab(e,n,i),C6(e,n,i,r),M6(null,e,n,!0,t,r);case 19:return Xb(t,e,r);case 22:return Kb(t,e,r)}throw Error($(156,e.tag))};function p_(t,e){return B8(t,e)}function F7(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,r,n){return new F7(t,e,r,n)}function xp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function B7(t){if(typeof t=="function")return xp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q5)return 11;if(t===W5)return 14}return 2}function _s(t,e){var r=t.alternate;return r===null?(r=cn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lu(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")xp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ro:return d0(r.children,i,s,e);case $5:o=8,i|=8;break;case e6:return t=cn(12,r,e,i|2),t.elementType=e6,t.lanes=s,t;case t6:return t=cn(13,r,e,i),t.elementType=t6,t.lanes=s,t;case r6:return t=cn(19,r,e,i),t.elementType=r6,t.lanes=s,t;case E8:return yh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w8:o=10;break e;case A8:o=9;break e;case q5:o=11;break e;case W5:o=14;break e;case Zi:o=16,n=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=cn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function d0(t,e,r,n){return t=cn(7,t,n,e),t.lanes=r,t}function yh(t,e,r,n){return t=cn(22,t,n,e),t.elementType=E8,t.lanes=r,t.stateNode={isHidden:!1},t}function l1(t,e,r){return t=cn(6,t,null,e),t.lanes=r,t}function u1(t,e,r){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j7(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gd(0),this.expirationTimes=Gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rp(t,e,r,n,i,s,o,f,a){return t=new j7(t,e,r,f,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(s),t}function z7(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function m_(t){if(!t)return Ss;t=t._reactInternals;e:{if(L0(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var r=t.type;if(jr(r))return pb(t,r,e)}return e}function g_(t,e,r,n,i,s,o,f,a){return t=Rp(r,n,!0,t,i,s,o,f,a),t.context=m_(null),r=t.current,n=Pr(),i=bs(r),s=xi(n,i),s.callback=e??null,ys(r,s,i),t.current.lanes=i,ul(t,i,n),zr(t,n),t}function vh(t,e,r,n){var i=e.current,s=Pr(),o=bs(i);return r=m_(r),e.context===null?e.context=r:e.pendingContext=r,e=xi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ys(i,e,o),t!==null&&(Cn(t,i,o,s),Cu(t,i,o)),o}function Ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function A2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kp(t,e){A2(t,e),(t=t.alternate)&&A2(t,e)}function H7(){return null}var y_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cp(t){this._internalRoot=t}bh.prototype.render=Cp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));vh(t,e,null,null)};bh.prototype.unmount=Cp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;w0(function(){vh(null,t,null,null)}),e[Pi]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=W8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ts.length&&e!==0&&e<ts[r].priority;r++);ts.splice(r,0,t),r===0&&Q8(t)}};function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function E2(){}function G7(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Ac(o);s.call(l)}}var o=g_(e,n,t,0,null,!1,!1,"",E2);return t._reactRootContainer=o,t[Pi]=o.current,Ra(t.nodeType===8?t.parentNode:t),w0(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var f=n;n=function(){var l=Ac(a);f.call(l)}}var a=Rp(t,0,!1,null,null,!1,!1,"",E2);return t._reactRootContainer=a,t[Pi]=a.current,Ra(t.nodeType===8?t.parentNode:t),w0(function(){vh(e,a,r,n)}),a}function wh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var f=i;i=function(){var a=Ac(o);f.call(a)}}vh(e,o,t,i)}else o=G7(r,e,t,i,n);return Ac(o)}$8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=qf(e.pendingLanes);r!==0&&(Y5(e,r|1),zr(e,Dt()),!(xe&6)&&(Fo=Dt()+500,Os()))}break;case 13:w0(function(){var n=Ni(t,1);if(n!==null){var i=Pr();Cn(n,t,1,i)}}),kp(t,1)}};J5=function(t){if(t.tag===13){var e=Ni(t,134217728);if(e!==null){var r=Pr();Cn(e,t,134217728,r)}kp(t,134217728)}};q8=function(t){if(t.tag===13){var e=bs(t),r=Ni(t,e);if(r!==null){var n=Pr();Cn(r,t,e,n)}kp(t,e)}};W8=function(){return Pe};K8=function(t,e){var r=Pe;try{return Pe=t,e()}finally{Pe=r}};h6=function(t,e,r){switch(e){case"input":if(s6(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ch(n);if(!i)throw Error($(90));I8(n),s6(n,i)}}}break;case"textarea":x8(t,r);break;case"select":e=r.value,e!=null&&_o(t,!!r.multiple,e,!1)}};O8=Tp;D8=w0;var $7={usingClientEntryPoint:!1,Events:[hl,oo,ch,N8,M8,Tp]},Of={findFiberByHostInstance:o0,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},q7={bundleType:Of.bundleType,version:Of.version,rendererPackageName:Of.rendererPackageName,rendererConfig:Of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V8(t),t===null?null:t.stateNode},findFiberByHostInstance:Of.findFiberByHostInstance||H7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{fh=ou.inject(q7),Yn=ou}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$7;rn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(e))throw Error($(200));return z7(t,e,null,r)};rn.createRoot=function(t,e){if(!Pp(t))throw Error($(299));var r=!1,n="",i=y_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rp(t,1,!1,null,null,r,!1,n,i),t[Pi]=e.current,Ra(t.nodeType===8?t.parentNode:t),new Cp(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=V8(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return w0(t)};rn.hydrate=function(t,e,r){if(!_h(e))throw Error($(200));return wh(null,t,e,!0,r)};rn.hydrateRoot=function(t,e,r){if(!Pp(t))throw Error($(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=y_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=g_(e,null,t,1,r??null,i,!1,s,o),t[Pi]=e.current,Ra(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new bh(e)};rn.render=function(t,e,r){if(!_h(e))throw Error($(200));return wh(null,t,e,!1,r)};rn.unmountComponentAtNode=function(t){if(!_h(t))throw Error($(40));return t._reactRootContainer?(w0(function(){wh(null,null,t,!1,function(){t._reactRootContainer=null,t[Pi]=null})}),!0):!1};rn.unstable_batchedUpdates=Tp;rn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_h(r))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return wh(t,e,r,!1,n)};rn.version="18.2.0-next-9e3b772b8-20220608";function v_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v_)}catch(t){console.error(t)}}v_(),g8.exports=rn;var W7=g8.exports,T2=W7;X1.createRoot=T2.createRoot,X1.hydrateRoot=T2.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ua.apply(this,arguments)}var cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cs||(cs={}));const I2="popstate";function K7(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:f}=n.location;return $6("",{pathname:s,search:o,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ec(i)}return Y7(e,r,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Np(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q7(){return Math.random().toString(36).substr(2,8)}function S2(t,e){return{usr:t.state,key:t.key,idx:e}}function $6(t,e,r,n){return r===void 0&&(r=null),Ua({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lf(e):e,{state:r,key:e&&e.key||n||Q7()})}function Ec(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Y7(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,f=cs.Pop,a=null,l=u();l==null&&(l=0,o.replaceState(Ua({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function h(){f=cs.Pop;let P=u(),v=P==null?null:P-l;l=P,a&&a({action:f,location:S.location,delta:v})}function p(P,v){f=cs.Push;let b=$6(S.location,P,v);r&&r(b,P),l=u()+1;let T=S2(b,l),M=S.createHref(b);try{o.pushState(T,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(M)}s&&a&&a({action:f,location:S.location,delta:1})}function y(P,v){f=cs.Replace;let b=$6(S.location,P,v);r&&r(b,P),l=u();let T=S2(b,l),M=S.createHref(b);o.replaceState(T,"",M),s&&a&&a({action:f,location:S.location,delta:0})}function w(P){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof P=="string"?P:Ec(P);return Lt(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let S={get action(){return f},get location(){return t(i,o)},listen(P){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(I2,h),a=P,()=>{i.removeEventListener(I2,h),a=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let v=w(P);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(P){return o.go(P)}};return S}var x2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(x2||(x2={}));function J7(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?lf(e):e,i=Mp(n.pathname||"/",r);if(i==null)return null;let s=b_(t);X7(s);let o=null;for(let f=0;o==null&&f<s.length;++f)o=fT(s[f],uT(i));return o}function b_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,f)=>{let a={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(Lt(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(n.length));let l=ws([n,a.relativePath]),u=r.concat(a);s.children&&s.children.length>0&&(Lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),b_(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:sT(l,s.index),routesMeta:u})};return t.forEach((s,o)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))i(s,o);else for(let a of __(s.path))i(s,o,a)}),e}function __(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=__(n.join("/")),f=[];return f.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&f.push(...o),f.map(a=>t.startsWith("/")&&a===""?"/":a)}function X7(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:oT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Z7=/^:\w+$/,eT=3,tT=2,rT=1,nT=10,iT=-2,R2=t=>t==="*";function sT(t,e){let r=t.split("/"),n=r.length;return r.some(R2)&&(n+=iT),e&&(n+=tT),r.filter(i=>!R2(i)).reduce((i,s)=>i+(Z7.test(s)?eT:s===""?rT:nT),n)}function oT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function fT(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let f=r[o],a=o===r.length-1,l=i==="/"?e:e.slice(i.length)||"/",u=aT({path:f.relativePath,caseSensitive:f.caseSensitive,end:a},l);if(!u)return null;Object.assign(n,u.params);let h=f.route;s.push({params:n,pathname:ws([i,u.pathname]),pathnameBase:pT(ws([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=ws([i,u.pathnameBase]))}return s}function aT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=lT(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((l,u,h)=>{if(u==="*"){let p=f[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return l[u]=cT(f[h]||"",u),l},{}),pathname:s,pathnameBase:o,pattern:t}}function lT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Np(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,f)=>(n.push(f),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uT(t){try{return decodeURI(t)}catch(e){return Np(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cT(t,e){try{return decodeURIComponent(t)}catch(r){return Np(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Mp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function hT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?lf(t):t;return{pathname:r?r.startsWith("/")?r:dT(r,e):e,search:mT(n),hash:gT(i)}}function dT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function c1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Op(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Dp(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=lf(t):(i=Ua({},t),Lt(!i.pathname||!i.pathname.includes("?"),c1("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),c1("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),c1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,f;if(n||o==null)f=r;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}f=h>=0?e[h]:"/"}let a=hT(i,f),l=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(l||u)&&(a.pathname+="/"),a}const ws=t=>t.join("/").replace(/\/\/+/g,"/"),pT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const w_=["post","put","patch","delete"];new Set(w_);const vT=["get",...w_];new Set(vT);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tc.apply(this,arguments)}const Lp=L.createContext(null),bT=L.createContext(null),uf=L.createContext(null),Ah=L.createContext(null),Ds=L.createContext({outlet:null,matches:[],isDataRoute:!1}),A_=L.createContext(null);function _T(t,e){let{relative:r}=e===void 0?{}:e;cf()||Lt(!1);let{basename:n,navigator:i}=L.useContext(uf),{hash:s,pathname:o,search:f}=T_(t,{relative:r}),a=o;return n!=="/"&&(a=o==="/"?n:ws([n,o])),i.createHref({pathname:a,search:f,hash:s})}function cf(){return L.useContext(Ah)!=null}function pl(){return cf()||Lt(!1),L.useContext(Ah).location}function E_(t){L.useContext(uf).static||L.useLayoutEffect(t)}function U0(){let{isDataRoute:t}=L.useContext(Ds);return t?MT():wT()}function wT(){cf()||Lt(!1);let t=L.useContext(Lp),{basename:e,navigator:r}=L.useContext(uf),{matches:n}=L.useContext(Ds),{pathname:i}=pl(),s=JSON.stringify(Op(n).map(a=>a.pathnameBase)),o=L.useRef(!1);return E_(()=>{o.current=!0}),L.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){r.go(a);return}let u=Dp(a,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ws([e,u.pathname])),(l.replace?r.replace:r.push)(u,l.state,l)},[e,r,s,i,t])}function T_(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=L.useContext(Ds),{pathname:i}=pl(),s=JSON.stringify(Op(n).map(o=>o.pathnameBase));return L.useMemo(()=>Dp(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function AT(t,e){return ET(t,e)}function ET(t,e,r){cf()||Lt(!1);let{navigator:n}=L.useContext(uf),{matches:i}=L.useContext(Ds),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let f=s?s.pathnameBase:"/";s&&s.route;let a=pl(),l;if(e){var u;let S=typeof e=="string"?lf(e):e;f==="/"||(u=S.pathname)!=null&&u.startsWith(f)||Lt(!1),l=S}else l=a;let h=l.pathname||"/",p=f==="/"?h:h.slice(f.length)||"/",y=J7(t,{pathname:p}),w=RT(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:ws([f,n.encodeLocation?n.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:ws([f,n.encodeLocation?n.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r);return e&&w?L.createElement(Ah.Provider,{value:{location:Tc({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:cs.Pop}},w):w}function TT(){let t=NT(),e=yT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),r?L.createElement("pre",{style:i},r):null,s)}const IT=L.createElement(TT,null);class ST extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?L.createElement(Ds.Provider,{value:this.props.routeContext},L.createElement(A_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xT(t){let{routeContext:e,match:r,children:n}=t,i=L.useContext(Lp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(Ds.Provider,{value:e},n)}function RT(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let f=s.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));f>=0||Lt(!1),s=s.slice(0,Math.min(s.length,f+1))}return s.reduceRight((f,a,l)=>{let u=a.route.id?o==null?void 0:o[a.route.id]:null,h=null;r&&(h=a.route.errorElement||IT);let p=e.concat(s.slice(0,l+1)),y=()=>{let w;return u?w=h:a.route.Component?w=L.createElement(a.route.Component,null):a.route.element?w=a.route.element:w=f,L.createElement(xT,{match:a,routeContext:{outlet:f,matches:p,isDataRoute:r!=null},children:w})};return r&&(a.route.ErrorBoundary||a.route.errorElement||l===0)?L.createElement(ST,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var I_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(I_||{}),Ic=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ic||{});function kT(t){let e=L.useContext(Lp);return e||Lt(!1),e}function CT(t){let e=L.useContext(bT);return e||Lt(!1),e}function PT(t){let e=L.useContext(Ds);return e||Lt(!1),e}function S_(t){let e=PT(),r=e.matches[e.matches.length-1];return r.route.id||Lt(!1),r.route.id}function NT(){var t;let e=L.useContext(A_),r=CT(Ic.UseRouteError),n=S_(Ic.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function MT(){let{router:t}=kT(I_.UseNavigateStable),e=S_(Ic.UseNavigateStable),r=L.useRef(!1);return E_(()=>{r.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Tc({fromRouteId:e},s)))},[t,e])}function OT(t){let{to:e,replace:r,state:n,relative:i}=t;cf()||Lt(!1);let{matches:s}=L.useContext(Ds),{pathname:o}=pl(),f=U0(),a=Dp(e,Op(s).map(u=>u.pathnameBase),o,i==="path"),l=JSON.stringify(a);return L.useEffect(()=>f(JSON.parse(l),{replace:r,state:n,relative:i}),[f,l,i,r,n]),null}function Gr(t){Lt(!1)}function DT(t){let{basename:e="/",children:r=null,location:n,navigationType:i=cs.Pop,navigator:s,static:o=!1}=t;cf()&&Lt(!1);let f=e.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:f,navigator:s,static:o}),[f,s,o]);typeof n=="string"&&(n=lf(n));let{pathname:l="/",search:u="",hash:h="",state:p=null,key:y="default"}=n,w=L.useMemo(()=>{let S=Mp(l,f);return S==null?null:{location:{pathname:S,search:u,hash:h,state:p,key:y},navigationType:i}},[f,l,u,h,p,y,i]);return w==null?null:L.createElement(uf.Provider,{value:a},L.createElement(Ah.Provider,{children:r,value:w}))}function LT(t){let{children:e,location:r}=t;return AT(q6(e),r)}new Promise(()=>{});function q6(t,e){e===void 0&&(e=[]);let r=[];return L.Children.forEach(t,(n,i)=>{if(!L.isValidElement(n))return;let s=[...e,i];if(n.type===L.Fragment){r.push.apply(r,q6(n.props.children,s));return}n.type!==Gr&&Lt(!1),!n.props.index||!n.props.children||Lt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=q6(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W6(){return W6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W6.apply(this,arguments)}function UT(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function VT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FT(t,e){return t.button===0&&(!e||e==="_self")&&!VT(t)}const BT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],jT="startTransition",k2=UA[jT];function zT(t){let{basename:e,children:r,future:n,window:i}=t,s=L.useRef();s.current==null&&(s.current=K7({window:i,v5Compat:!0}));let o=s.current,[f,a]=L.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},u=L.useCallback(h=>{l&&k2?k2(()=>a(h)):a(h)},[a,l]);return L.useLayoutEffect(()=>o.listen(u),[o,u]),L.createElement(DT,{basename:e,children:r,location:f.location,navigationType:f.action,navigator:o})}const HT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=L.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:f,target:a,to:l,preventScrollReset:u}=e,h=UT(e,BT),{basename:p}=L.useContext(uf),y,w=!1;if(typeof l=="string"&&GT.test(l)&&(y=l,HT))try{let b=new URL(window.location.href),T=l.startsWith("//")?new URL(b.protocol+l):new URL(l),M=Mp(T.pathname,p);T.origin===b.origin&&M!=null?l=M+T.search+T.hash:w=!0}catch{}let S=_T(l,{relative:i}),P=$T(l,{replace:o,state:f,target:a,preventScrollReset:u,relative:i});function v(b){n&&n(b),b.defaultPrevented||P(b)}return L.createElement("a",W6({},h,{href:y||S,onClick:w||s?n:v,ref:r,target:a}))});var C2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(C2||(C2={}));var P2;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P2||(P2={}));function $T(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,f=U0(),a=pl(),l=T_(t,{relative:o});return L.useCallback(u=>{if(FT(u,r)){u.preventDefault();let h=n!==void 0?n:Ec(a)===Ec(l);f(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[a,f,l,n,i,r,t,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},qT=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],f=t[r++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(a&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},R_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,f=o?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0,u=s>>2,h=(s&3)<<4|f>>4;let p=(f&15)<<2|l>>6,y=l&63;a||(y=64,o||(p=64)),n.push(r[u],r[h],r[p],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],f=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||f==null||l==null||h==null)throw new WT;const p=s<<2|f>>4;if(n.push(p),l!==64){const y=f<<4&240|l>>2;if(n.push(y),h!==64){const w=l<<6&192|h;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KT=function(t){const e=x_(t);return R_.encodeByteArray(e,!0)},Sc=function(t){return KT(t).replace(/\./g,"")},k_=function(t){try{return R_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=()=>QT().__FIREBASE_DEFAULTS__,JT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k_(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return YT()||JT()||XT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},C_=t=>{var e,r;return(r=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},P_=t=>{const e=C_(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},N_=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config},M_=t=>{var e;return(e=Eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),f="";return[Sc(JSON.stringify(r)),Sc(JSON.stringify(o)),f].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ir())}function tI(){var t;const e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iI(){const t=Ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sI(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="FirebaseError";class hi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=fI,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aI(s,n):"Error",f=`${this.serviceName}: ${o} (${i}).`;return new hi(i,f,n)}}function aI(t,e){return t.replace(lI,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const lI=/\{\$([^}]+)}/g;function uI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(N2(s)&&N2(o)){if(!xc(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function N2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Kf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function cI(t,e){const r=new hI(t,e);return r.subscribe.bind(r)}class hI{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=h1),i.error===void 0&&(i.error=h1),i.complete===void 0&&(i.complete=h1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function h1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pI=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new ZT;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gI(e))try{this.getOrInitializeService({instanceIdentifier:s0})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=s0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=s0){return this.instances.has(e)}getOptions(e=s0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(s);n===f&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mI(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=s0){return this.component?this.component.multipleInstances?e:s0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mI(t){return t===s0?void 0:t}function gI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new pI(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const vI={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},bI=Te.INFO,_I={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},wI=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=_I[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Up=class{constructor(e){this.name=e,this._logLevel=bI,this._logHandler=wI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}};const AI=(t,e)=>e.some(r=>t instanceof r);let M2,O2;function EI(){return M2||(M2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TI(){return O2||(O2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,K6=new WeakMap,L_=new WeakMap,d1=new WeakMap,Vp=new WeakMap;function II(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(As(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&D_.set(r,t)}).catch(()=>{}),Vp.set(e,t),e}function SI(t){if(K6.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});K6.set(t,e)}let Q6={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return K6.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L_.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return As(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xI(t){Q6=t(Q6)}function RI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(p1(this),e,...r);return L_.set(n,e.sort?e.sort():[e]),As(n)}:TI().includes(t)?function(...e){return t.apply(p1(this),e),As(D_.get(this))}:function(...e){return As(t.apply(p1(this),e))}}function kI(t){return typeof t=="function"?RI(t):(t instanceof IDBTransaction&&SI(t),AI(t,EI())?new Proxy(t,Q6):t)}function As(t){if(t instanceof IDBRequest)return II(t);if(d1.has(t))return d1.get(t);const e=kI(t);return e!==t&&(d1.set(t,e),Vp.set(e,t)),e}const p1=t=>Vp.get(t);function CI(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),f=As(o);return n&&o.addEventListener("upgradeneeded",a=>{n(As(o.result),a.oldVersion,a.newVersion,As(o.transaction),a)}),r&&o.addEventListener("blocked",a=>r(a.oldVersion,a.newVersion,a)),f.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),f}const PI=["get","getKey","getAll","getAllKeys","count"],NI=["put","add","delete","clear"],m1=new Map;function D2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(m1.get(e))return m1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=NI.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||PI.includes(r)))return;const s=async function(o,...f){const a=this.transaction(o,i?"readwrite":"readonly");let l=a.store;return n&&(l=l.index(f.shift())),(await Promise.all([l[r](...f),i&&a.done]))[0]};return m1.set(e,s),s}xI(t=>({...t,get:(e,r,n)=>D2(e,r)||t.get(e,r,n),has:(e,r)=>!!D2(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(OI(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function OI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y6="@firebase/app",L2="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Up("@firebase/app"),DI="@firebase/app-compat",LI="@firebase/analytics-compat",UI="@firebase/analytics",VI="@firebase/app-check-compat",FI="@firebase/app-check",BI="@firebase/auth",jI="@firebase/auth-compat",zI="@firebase/database",HI="@firebase/database-compat",GI="@firebase/functions",$I="@firebase/functions-compat",qI="@firebase/installations",WI="@firebase/installations-compat",KI="@firebase/messaging",QI="@firebase/messaging-compat",YI="@firebase/performance",JI="@firebase/performance-compat",XI="@firebase/remote-config",ZI="@firebase/remote-config-compat",eS="@firebase/storage",tS="@firebase/storage-compat",rS="@firebase/firestore",nS="@firebase/firestore-compat",iS="firebase",sS="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="[DEFAULT]",oS={[Y6]:"fire-core",[DI]:"fire-core-compat",[UI]:"fire-analytics",[LI]:"fire-analytics-compat",[FI]:"fire-app-check",[VI]:"fire-app-check-compat",[BI]:"fire-auth",[jI]:"fire-auth-compat",[zI]:"fire-rtdb",[HI]:"fire-rtdb-compat",[GI]:"fire-fn",[$I]:"fire-fn-compat",[qI]:"fire-iid",[WI]:"fire-iid-compat",[KI]:"fire-fcm",[QI]:"fire-fcm-compat",[YI]:"fire-perf",[JI]:"fire-perf-compat",[XI]:"fire-rc",[ZI]:"fire-rc-compat",[eS]:"fire-gcs",[tS]:"fire-gcs-compat",[rS]:"fire-fst",[nS]:"fire-fst-compat","fire-js":"fire-js",[iS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,X6=new Map;function fS(t,e){try{t.container.addComponent(e)}catch(r){A0.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function E0(t){const e=t.name;if(X6.has(e))return A0.debug(`There were multiple attempts to register component ${e}.`),!1;X6.set(e,t);for(const r of Rc.values())fS(r,t);return!0}function Th(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Es=new ml("app","Firebase",aS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=sS;function U_(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:J6,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(r||(r=N_()),!r)throw Es.create("no-options");const s=Rc.get(i);if(s){if(xc(r,s.options)&&xc(n,s.config))return s;throw Es.create("duplicate-app",{appName:i})}const o=new yI(i);for(const a of X6.values())o.addComponent(a);const f=new lS(r,n,o);return Rc.set(i,f),f}function Fp(t=J6){const e=Rc.get(t);if(!e&&t===J6&&N_())return U_();if(!e)throw Es.create("no-app",{appName:t});return e}function Xn(t,e,r){var n;let i=(n=oS[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const f=[`Unable to register library "${i}" with version "${e}":`];s&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&f.push("and"),o&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),A0.warn(f.join(" "));return}E0(new xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebase-heartbeat-database",cS=1,Va="firebase-heartbeat-store";let g1=null;function V_(){return g1||(g1=CI(uS,cS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Va)}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),g1}async function hS(t){try{return await(await V_()).transaction(Va).objectStore(Va).get(F_(t))}catch(e){if(e instanceof hi)A0.warn(e.message);else{const r=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});A0.warn(r.message)}}}async function U2(t,e){try{const n=(await V_()).transaction(Va,"readwrite");await n.objectStore(Va).put(e,F_(t)),await n.done}catch(r){if(r instanceof hi)A0.warn(r.message);else{const n=Es.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});A0.warn(n.message)}}}function F_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1024,pS=30*24*60*60*1e3;class mS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new yS(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=V2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=pS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=V2(),{heartbeatsToSend:r,unsentEntries:n}=gS(this._heartbeatsCache.heartbeats),i=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function V2(){return new Date().toISOString().substring(0,10)}function gS(t,e=dS){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),F2(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),F2(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class yS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sI()?oI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return U2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return U2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function F2(t){return Sc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){E0(new xs("platform-logger",e=>new MI(e),"PRIVATE")),E0(new xs("heartbeat",e=>new mS(e),"PRIVATE")),Xn(Y6,L2,t),Xn(Y6,L2,"esm2017"),Xn("fire-js","")}vS("");var bS="firebase",_S="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(bS,_S,"app");function Bp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function B2(t){return t!==void 0&&t.enterprise!==void 0}class wS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(r=>r.provider==="EMAIL_PASSWORD_PROVIDER"&&r.enforcementState!=="OFF")}}function B_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AS=B_,j_=new ml("auth","Firebase",B_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Up("@firebase/auth");function ES(t,...e){kc.logLevel<=Te.WARN&&kc.warn(`Auth (${V0}): ${t}`,...e)}function Uu(t,...e){kc.logLevel<=Te.ERROR&&kc.error(`Auth (${V0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw jp(t,...e)}function Zn(t,...e){return jp(t,...e)}function TS(t,e,r){const n=Object.assign(Object.assign({},AS()),{[e]:r});return new ml("auth","Firebase",n).create(e,{appName:t.name})}function jp(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return j_.create(t,...e)}function ce(t,e,...r){if(!t)throw jp(e,...r)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function Oi(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IS(){return j2()==="http:"||j2()==="https:"}function j2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IS()||rI()||"connection"in navigator)?navigator.onLine:!0}function xS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,r){this.shortDelay=e,this.longDelay=r,Oi(r>e,"Short delay should be less than long delay!"),this.isMobile=eI()||nI()}get(){return SS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new yl(3e4,6e4);function F0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ls(t,e,r,n,i={}){return H_(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const f=gl(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),z_.fetch()(G_(t,t.config.apiHost,r,f),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function H_(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},RS),e);try{const i=new CS(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const f=s.ok?o.errorMessage:o.error.message,[a,l]=f.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw fu(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw fu(t,"user-disabled",o);const u=n[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw TS(t,u,l);Nn(t,u)}}catch(i){if(i instanceof hi)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function vl(t,e,r,n,i={}){const s=await Ls(t,e,r,n,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function G_(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?zp(t.config,i):`${t.config.apiScheme}://${i}`}class CS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Zn(this.auth,"network-request-failed")),kS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fu(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Zn(t,e,n);return i.customData._tokenResponse=r,i}async function PS(t,e){return Ls(t,"GET","/v2/recaptchaConfig",F0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(t,e){return Ls(t,"POST","/v1/accounts:delete",e)}async function MS(t,e){return Ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OS(t,e=!1){const r=_t(t),n=await r.getIdToken(e),i=Hp(n);ce(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:ca(y1(i.auth_time)),issuedAtTime:ca(y1(i.iat)),expirationTime:ca(y1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function y1(t){return Number(t)*1e3}function Hp(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const i=k_(r);return i?JSON.parse(i):(Uu("Failed to decode base64 JWT payload"),null)}catch(i){return Uu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DS(t){const e=Hp(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof hi&&LS(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function LS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ca(this.lastLoginAt),this.creationTime=ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Bo(t,MS(r,{idToken:n}));ce(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BS(s.providerUserInfo):[],f=FS(t.providerData,o),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(f!=null&&f.length),u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:f,metadata:new $_(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function VS(t){const e=_t(t);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FS(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function BS(t){return t.map(e=>{var{providerId:r}=e,n=Bp(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(t,e){const r=await H_(t,{},async()=>{const n=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=G_(t,i,"/v1/token",`key=${s}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",z_.fetch()(o,{method:"POST",headers:f,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}async getToken(e,r=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await jS(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new Fa;return n&&(ce(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class p0{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=Bp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return ce(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return OS(this,e)}reload(){return VS(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new p0(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Cc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Bo(this,NS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,o,f,a,l,u;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,y=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=r.photoURL)!==null&&o!==void 0?o:void 0,S=(f=r.tenantId)!==null&&f!==void 0?f:void 0,P=(a=r._redirectEventId)!==null&&a!==void 0?a:void 0,v=(l=r.createdAt)!==null&&l!==void 0?l:void 0,b=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:M,isAnonymous:O,providerData:V,stsTokenManager:B}=r;ce(T&&B,e,"internal-error");const H=Fa.fromJSON(this.name,B);ce(typeof T=="string",e,"internal-error"),Yi(h,e.name),Yi(p,e.name),ce(typeof M=="boolean",e,"internal-error"),ce(typeof O=="boolean",e,"internal-error"),Yi(y,e.name),Yi(w,e.name),Yi(S,e.name),Yi(P,e.name),Yi(v,e.name),Yi(b,e.name);const W=new p0({uid:T,auth:e,email:p,emailVerified:M,displayName:h,isAnonymous:O,photoURL:w,phoneNumber:y,tenantId:S,stsTokenManager:H,createdAt:v,lastLoginAt:b});return V&&Array.isArray(V)&&(W.providerData=V.map(re=>Object.assign({},re))),P&&(W._redirectEventId=P),W}static async _fromIdTokenResponse(e,r,n=!1){const i=new Fa;i.updateFromServerResponse(r);const s=new p0({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Cc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Map;function Ti(t){Oi(t instanceof Function,"Expected a class definition");let e=z2.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}q_.type="NONE";const H2=q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,r){return`firebase:${t}:${e}:${r}`}class So{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Vu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vu("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?p0._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new So(Ti(H2),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Ti(H2);const o=Vu(n,e.config.apiKey,e.name);let f=null;for(const l of r)try{const u=await l._get(o);if(u){const h=p0._fromJSON(e,u);l!==s&&(f=h),s=l;break}}catch{}const a=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new So(s,e,n):(s=a[0],f&&await s._set(o,f.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new So(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J_(e))return"Blackberry";if(X_(e))return"Webos";if(Gp(e))return"Safari";if((e.includes("chrome/")||K_(e))&&!e.includes("edge/"))return"Chrome";if(Y_(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function W_(t=Ir()){return/firefox\//i.test(t)}function Gp(t=Ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K_(t=Ir()){return/crios\//i.test(t)}function Q_(t=Ir()){return/iemobile/i.test(t)}function Y_(t=Ir()){return/android/i.test(t)}function J_(t=Ir()){return/blackberry/i.test(t)}function X_(t=Ir()){return/webos/i.test(t)}function Ih(t=Ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zS(t=Ir()){var e;return Ih(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HS(){return iI()&&document.documentMode===10}function Z_(t=Ir()){return Ih(t)||Y_(t)||X_(t)||J_(t)||/windows phone/i.test(t)||Q_(t)}function GS(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e=[]){let r;switch(t){case"Browser":r=G2(Ir());break;case"Worker":r=`${G2(Ir())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${V0}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,f)=>{try{const a=e(s);o(a)}catch(a){f(a)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",F0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=6;class KS{constructor(e){var r,n,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:WS,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,o,f;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(r=a.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(n=a.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(f=a.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),a}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $2(this),this.idTokenSubscription=new $2(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ti(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var r;const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,f=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===f)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const r=e?_t(e):null;return r&&ce(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qS(this),r=new KS(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ti(e)||this._popupRedirectResolver;ce(r,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Ti(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(f,this,"internal-error"),f.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const a=e.addObserver(r,n,i);return()=>{o=!0,a()}}else{const a=e.addObserver(r);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&ES(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function B0(t){return _t(t)}class $2{constructor(e){this.auth=e,this.observer=null,this.addObserver=cI(r=>this.observer=r)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function t9(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Zn("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",YS().appendChild(n)})}function JS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XS="https://www.google.com/recaptcha/enterprise.js?render=",ZS="recaptcha-enterprise",ex="NO_RECAPTCHA";class tx{constructor(e){this.type=ZS,this.auth=B0(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,f)=>{PS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const l=new wS(a);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(a=>{f(a)})})}function i(s,o,f){const a=window.grecaptcha;B2(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(ex)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{n(this.auth).then(f=>{if(!r&&B2(window.grecaptcha))i(f,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}t9(XS+f).then(()=>{i(f,s,o)}).catch(a=>{o(a)})}}).catch(f=>{o(f)})})}}async function Pc(t,e,r,n=!1){const i=new tx(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e){const r=Th(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(xc(s,e??{}))return i;Nn(i,"already-initialized")}return r.initialize({options:e})}function nx(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function ix(t,e,r){const n=B0(t);ce(n._canInitEmulator,n,"emulator-config-failed"),ce(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),s=r9(e),{host:o,port:f}=sx(e),a=f===null?"":`:${f}`;n.config.emulator={url:`${s}//${o}${a}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:f,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ox()}function r9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sx(t){const e=r9(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:q2(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:q2(o)}}}function q2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ox(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,r){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function fx(t,e){return Ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t,e){return vl(t,"POST","/v1/accounts:signInWithPassword",F0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(t,e){return vl(t,"POST","/v1/accounts:signInWithEmailLink",F0(t,e))}async function lx(t,e){return vl(t,"POST","/v1/accounts:signInWithEmailLink",F0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends $p{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Ba(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Ba(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){var r;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const i=await Pc(e,n,"signInWithPassword");return v1(e,i)}else return v1(e,n).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Pc(e,n,"signInWithPassword");return v1(e,s)}else return Promise.reject(i)});case"emailLink":return ax(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":return fx(e,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return lx(e,{idToken:r,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e){return vl(t,"POST","/v1/accounts:signInWithIdp",F0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="http://localhost";class T0 extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new T0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Nn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=Bp(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new T0(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return xo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,xo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,xo(e,r)}buildRequest(){const e={requestUri:ux,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=gl(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hx(t){const e=Kf(Qf(t)).link,r=e?Kf(Qf(e)).deep_link_id:null,n=Kf(Qf(t)).deep_link_id;return(n?Kf(Qf(n)).link:null)||n||r||e||t}class qp{constructor(e){var r,n,i,s,o,f;const a=Kf(Qf(e)),l=(r=a.apiKey)!==null&&r!==void 0?r:null,u=(n=a.oobCode)!==null&&n!==void 0?n:null,h=cx((i=a.mode)!==null&&i!==void 0?i:null);ce(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(f=a.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const r=hx(e);try{return new qp(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this.providerId=hf.PROVIDER_ID}static credential(e,r){return Ba._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=qp.parseLink(r);return ce(n,"argument-error"),Ba._fromEmailAndCode(e,n.code,n.tenantId)}}hf.PROVIDER_ID="password";hf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends n9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends bl{constructor(){super("facebook.com")}static credential(e){return T0._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return T0._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return is.credential(r,n)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends bl{constructor(){super("github.com")}static credential(e){return T0._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends bl{constructor(){super("twitter.com")}static credential(e,r){return T0._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return os.credential(r,n)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t,e){return vl(t,"POST","/v1/accounts:signUp",F0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await p0._fromIdTokenResponse(e,n,i),o=W2(n);return new I0({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=W2(n);return new I0({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function W2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends hi{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Nc(e,r,n,i)}}function i9(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(t,s,e,n):s})}async function dx(t,e,r=!1){const n=await Bo(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return I0._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(t,e,r=!1){const{auth:n}=t,i="reauthenticate";try{const s=await Bo(t,i9(n,i,e,t),r);ce(s.idToken,n,"internal-error");const o=Hp(s.idToken);ce(o,n,"internal-error");const{sub:f}=o;return ce(t.uid===f,n,"user-mismatch"),I0._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e,r=!1){const n="signIn",i=await i9(t,n,e),s=await I0._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function mx(t,e){return s9(B0(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t){const e=B0(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f9(t,e,r){var n;const i=B0(t),s={returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"};let o;if(!((n=i._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const l=await Pc(i,s,"signUpPassword");o=b1(i,l)}else o=b1(i,s).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await Pc(i,s,"signUpPassword");return b1(i,u)}throw l});const f=await o.catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&o9(t),l}),a=await I0._fromIdTokenResponse(i,"signIn",f);return await i._updateCurrentUser(a.user),a}function a9(t,e,r){return mx(_t(t),hf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&o9(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(t,e){return Ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=_t(t),s={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Bo(n,gx(n.auth,s));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const f=n.providerData.find(({providerId:a})=>a==="password");f&&(f.displayName=n.displayName,f.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function yx(t,e,r,n){return _t(t).onIdTokenChanged(e,r,n)}function vx(t,e,r){return _t(t).beforeAuthStateChanged(e,r)}function bx(t,e,r,n){return _t(t).onAuthStateChanged(e,r,n)}function _x(t){return _t(t).signOut()}const Mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Mc,"1"),this.storage.removeItem(Mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){const t=Ir();return Gp(t)||Ih(t)}const Ax=1e3,Ex=10;class c9 extends u9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wx()&&GS(),this.fallbackToPolling=Z_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,f,a)=>{this.notifyListeners(o,a)});return}const n=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(n);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!r)return}const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);HS()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ex):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Ax)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}c9.type="LOCAL";const Tx=c9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9 extends u9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}h9.type="SESSION";const d9=h9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Sh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const f=Array.from(o).map(async l=>l(r.origin,s)),a=await Ix(f);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((f,a)=>{const l=Wp("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),f(p.data.response);break;default:clearTimeout(u),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function xx(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function Rx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Cx(){return p9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="firebaseLocalStorageDb",Px=1,Oc="firebaseLocalStorage",g9="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function xh(t,e){return t.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function Nx(){const t=indexedDB.deleteDatabase(m9);return new _l(t).toPromise()}function e5(){const t=indexedDB.open(m9,Px);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Oc,{keyPath:g9})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Oc)?e(n):(n.close(),await Nx(),e(await e5()))})})}async function K2(t,e,r){const n=xh(t,!0).put({[g9]:e,value:r});return new _l(n).toPromise()}async function Mx(t,e){const r=xh(t,!1).get(e),n=await new _l(r).toPromise();return n===void 0?null:n.value}function Q2(t,e){const r=xh(t,!0).delete(e);return new _l(r).toPromise()}const Ox=800,Dx=3;class y9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e5(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Dx)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(Cx()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Rx(),!this.activeServiceWorker)return;this.sender=new Sx(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e5();return await K2(e,Mc,"1"),await Q2(e,Mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>K2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Mx(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=xh(i,!1).getAll();return new _l(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ox)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y9.type="LOCAL";const Lx=y9;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e){return e?Ti(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends $p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return xo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Vx(t){return s9(t.auth,new Kp(t),t.bypassAuthState)}function Fx(t){const{auth:e,user:r}=t;return ce(r,e,"internal-error"),px(r,new Kp(t),t.bypassAuthState)}async function Bx(t){const{auth:e,user:r}=t;return ce(r,e,"internal-error"),dx(r,new Kp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:f}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vx;case"linkViaPopup":case"linkViaRedirect":return Bx;case"reauthViaPopup":case"reauthViaRedirect":return Fx;default:Nn(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new yl(2e3,1e4);class po extends v9{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jx.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="pendingRedirect",Fu=new Map;class Hx extends v9{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Fu.get(this.auth._key());if(!e){try{const n=await Gx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Fu.set(this.auth._key(),e)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gx(t,e){const r=Wx(e),n=qx(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function $x(t,e){Fu.set(t._key(),e)}function qx(t){return Ti(t._redirectPersistence)}function Wx(t){return Vu(zx,t.config.apiKey,t.name)}async function Kx(t,e,r=!1){const n=B0(t),i=Ux(n,e),o=await new Hx(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=10*60*1e3;class Yx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jx(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!b9(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Zn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y2(e))}saveEventToCache(e){this.cachedEventUids.add(Y2(e)),this.lastProcessedEventTime=Date.now()}}function Y2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e={}){return Ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eR=/^https?/;async function tR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xx(t);for(const r of e)try{if(rR(r))return}catch{}Nn(t,"unauthorized-domain")}function rR(t){const e=Z6(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!eR.test(r))return!1;if(Zx.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new yl(3e4,6e4);function J2(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function iR(t){return new Promise((e,r)=>{var n,i,s;function o(){J2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J2(),r(Zn(t,"network-request-failed"))},timeout:nR.get()})}if(!((i=(n=ei().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ei().gapi)===null||s===void 0)&&s.load)o();else{const f=JS("iframefcb");return ei()[f]=()=>{gapi.load?o():r(Zn(t,"network-request-failed"))},t9(`https://apis.google.com/js/api.js?onload=${f}`).catch(a=>r(a))}}).catch(e=>{throw Bu=null,e})}let Bu=null;function sR(t){return Bu=Bu||iR(t),Bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new yl(5e3,15e3),fR="__/auth/iframe",aR="emulator/auth/iframe",lR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cR(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?zp(e,aR):`https://${t.config.authDomain}/${fR}`,n={apiKey:e.apiKey,appName:t.name,v:V0},i=uR.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${gl(n).slice(1)}`}async function hR(t){const e=await sR(t),r=ei().gapi;return ce(r,t,"internal-error"),e.open({where:document.body,url:cR(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lR,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),f=ei().setTimeout(()=>{s(o)},oR.get());function a(){ei().clearTimeout(f),i(n)}n.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pR=500,mR=600,gR="_blank",yR="http://localhost";class X2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vR(t,e,r,n=pR,i=mR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const a=Object.assign(Object.assign({},dR),{width:n.toString(),height:i.toString(),top:s,left:o}),l=Ir().toLowerCase();r&&(f=K_(l)?gR:r),W_(l)&&(e=e||yR,a.scrollbars="yes");const u=Object.entries(a).reduce((p,[y,w])=>`${p}${y}=${w},`,"");if(zS(l)&&f!=="_self")return bR(e||"",f),new X2(null);const h=window.open(e||"",f,u);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new X2(h)}function bR(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="__/auth/handler",wR="emulator/auth/handler",AR=encodeURIComponent("fac");async function Z2(t,e,r,n,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:V0,eventId:i};if(e instanceof n9){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof bl){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const f=o;for(const u of Object.keys(f))f[u]===void 0&&delete f[u];const a=await t._getAppCheckToken(),l=a?`#${AR}=${encodeURIComponent(a)}`:"";return`${ER(t)}?${gl(f).slice(1)}${l}`}function ER({config:t}){return t.emulator?zp(t,wR):`https://${t.authDomain}/${_R}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d9,this._completeRedirectFn=Kx,this._overrideRedirectResult=$x}async _openPopup(e,r,n,i){var s;Oi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Z2(e,r,n,Z6(),i);return vR(e,o,Wp())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await Z2(e,r,n,Z6(),i);return xx(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Oi(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await hR(e),n=new Yx(e);return r.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(_1,{type:_1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_1];o!==void 0&&r(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=tR(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Z_()||Gp()||Ih()}}const IR=TR;var ey="@firebase/auth",ty="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function RR(t){E0(new xs("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:f}=n.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e9(t)},l=new QS(n,i,s,a);return nx(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),E0(new xs("auth-internal",e=>{const r=B0(e.getProvider("auth").getImmediate());return(n=>new SR(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(ey,ty,xR(t)),Xn(ey,ty,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=5*60,CR=M_("authIdTokenMaxAge")||kR;let ry=null;const PR=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>CR)return;const i=r==null?void 0:r.token;ry!==i&&(ry=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NR(t=Fp()){const e=Th(t,"auth");if(e.isInitialized())return e.getImmediate();const r=rx(t,{popupRedirectResolver:IR,persistence:[Lx,Tx,d9]}),n=M_("authTokenSyncURL");if(n){const s=PR(n);vx(r,s,()=>s(r.currentUser)),yx(r,o=>s(o))}const i=C_("auth");return i&&ix(r,`http://${i}`),r}RR("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="firebasestorage.googleapis.com",w9="storageBucket",MR=2*60*1e3,OR=10*60*1e3,DR=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends hi{constructor(e,r,n=0){super(w1(e),`Firebase Storage: ${r} (${w1(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return w1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function w1(t){return"storage/"+t}function Qp(){const t="An unknown error occurred, please check the error payload for server response.";return new Rt(vt.UNKNOWN,t)}function LR(t){return new Rt(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function UR(t){return new Rt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VR(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(vt.UNAUTHENTICATED,t)}function FR(){return new Rt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BR(t){return new Rt(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A9(){return new Rt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E9(){return new Rt(vt.CANCELED,"User canceled the upload/download.")}function jR(t){return new Rt(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function zR(t){return new Rt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HR(){return new Rt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+w9+"' property when initializing the app?")}function T9(){return new Rt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GR(){return new Rt(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function $R(){return new Rt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qR(t){return new Rt(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function t5(t){return new Rt(vt.INVALID_ARGUMENT,t)}function I9(){return new Rt(vt.APP_DELETED,"The Firebase app was deleted.")}function WR(t){return new Rt(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ha(t,e){return new Rt(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Df(t){throw new Rt(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Yr.makeFromUrl(e,r)}catch{return new Yr(e,"")}if(n.path==="")return n;throw zR(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const o="(/(.*))?$",f=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function l(M){M.path_=decodeURIComponent(M.path)}const u="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${u}/b/${i}/o${p}`,"i"),w={bucket:1,path:3},S=r===_9?"(?:storage.googleapis.com|storage.cloud.google.com)":r,P="([^?#]*)",v=new RegExp(`^https?://${S}/${i}/${P}`,"i"),T=[{regex:f,indices:a,postModify:s},{regex:y,indices:w,postModify:l},{regex:v,indices:{bucket:1,path:2},postModify:l}];for(let M=0;M<T.length;M++){const O=T[M],V=O.regex.exec(e);if(V){const B=V[O.indices.bucket];let H=V[O.indices.path];H||(H=""),n=new Yr(B,H),O.postModify(n);break}}if(n==null)throw jR(e);return n}}class KR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t,e,r){let n=1,i=null,s=null,o=!1,f=0;function a(){return f===2}let l=!1;function u(...P){l||(l=!0,e.apply(null,P))}function h(P){i=setTimeout(()=>{i=null,t(y,a())},P)}function p(){s&&clearTimeout(s)}function y(P,...v){if(l){p();return}if(P){p(),u.call(null,P,...v);return}if(a()||o){p(),u.call(null,P,...v);return}n<64&&(n*=2);let T;f===1?(f=2,T=0):T=(n+Math.random())*1e3,h(T)}let w=!1;function S(P){w||(w=!0,p(),!l&&(i!==null?(P||(f=2),clearTimeout(i),h(0)):P||(f=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},r),S}function YR(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){return t!==void 0}function XR(t){return typeof t=="function"}function ZR(t){return typeof t=="object"&&!Array.isArray(t)}function Rh(t){return typeof t=="string"||t instanceof String}function ny(t){return Yp()&&t instanceof Blob}function Yp(){return typeof Blob<"u"&&!tI()}function iy(t,e,r,n){if(n<e)throw t5(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw t5(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function S9(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(m0||(m0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,r,n,i,s,o,f,a,l,u,h,p=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=f,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new au(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=f=>{const a=f.loaded,l=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const f=s.getErrorCode()===m0.NO_ERROR,a=s.getStatus();if(!f||x9(a,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===m0.ABORT;n(!1,new au(!1,null,u));return}const l=this.successCodes_.indexOf(a)!==-1;n(!0,new au(l,s))})},r=(n,i)=>{const s=this.resolve_,o=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(f,f.getResponse());JR(a)?s(a):s()}catch(a){o(a)}else if(f!==null){const a=Qp();a.serverResponse=f.getErrorText(),this.errorCallback_?o(this.errorCallback_(f,a)):o(a)}else if(i.canceled){const a=this.appDelete_?I9():E9();o(a)}else{const a=A9();o(a)}};this.canceled_?r(!1,new au(!1,null,!0)):this.backoffId_=QR(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class au{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function tk(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ik(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sk(t,e,r,n,i,s,o=!0){const f=S9(t.urlParams),a=t.url+f,l=Object.assign({},t.headers);return nk(l,e),tk(l,r),rk(l,s),ik(l,n),new ek(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fk(...t){const e=ok();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(Yp())return new Blob(t);throw new Rt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ak(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){if(typeof atob>"u")throw qR("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class A1{constructor(e,r){this.data=e,this.contentType=r||null}}function uk(t,e){switch(t){case qn.RAW:return new A1(R9(e));case qn.BASE64:case qn.BASE64URL:return new A1(k9(t,e));case qn.DATA_URL:return new A1(hk(e),dk(e))}throw Qp()}function R9(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,o=t.charCodeAt(++r);n=65536|(s&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function ck(t){let e;try{e=decodeURIComponent(t)}catch{throw ha(qn.DATA_URL,"Malformed data URL.")}return R9(e)}function k9(t,e){switch(t){case qn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ha(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ha(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=lk(e)}catch(i){throw i.message.includes("polyfill")?i:ha(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class C9{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw ha(qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=pk(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function hk(t){const e=new C9(t);return e.base64?k9(qn.BASE64,e.rest):ck(e.rest)}function dk(t){return new C9(t).contentType}function pk(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,r){let n=0,i="";ny(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(ny(this.data_)){const n=this.data_,i=ak(n,e,r);return i===null?null:new fs(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new fs(n,!0)}}static getBlob(...e){if(Yp()){const r=e.map(n=>n instanceof fs?n.data_:n);return new fs(fk.apply(null,r))}else{const r=e.map(o=>Rh(o)?uk(qn.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let s=0;return r.forEach(o=>{for(let f=0;f<o.length;f++)i[s++]=o[f]}),new fs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){let e;try{e=JSON.parse(t)}catch{return null}return ZR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gk(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function N9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e){return e}class xr{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||yk}}let lu=null;function vk(t){return!Rh(t)||t.length<2?t:N9(t)}function M9(){if(lu)return lu;const t=[];t.push(new xr("bucket")),t.push(new xr("generation")),t.push(new xr("metageneration")),t.push(new xr("name","fullPath",!0));function e(s,o){return vk(o)}const r=new xr("name");r.xform=e,t.push(r);function n(s,o){return o!==void 0?Number(o):o}const i=new xr("size");return i.xform=n,t.push(i),t.push(new xr("timeCreated")),t.push(new xr("updated")),t.push(new xr("md5Hash",null,!0)),t.push(new xr("cacheControl",null,!0)),t.push(new xr("contentDisposition",null,!0)),t.push(new xr("contentEncoding",null,!0)),t.push(new xr("contentLanguage",null,!0)),t.push(new xr("contentType",null,!0)),t.push(new xr("metadata","customMetadata",!0)),lu=t,lu}function bk(t,e){function r(){const n=t.bucket,i=t.fullPath,s=new Yr(n,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function _k(t,e,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const o=r[s];n[o.local]=o.xform(n,e[o.server])}return bk(n,t),n}function O9(t,e,r){const n=P9(e);return n===null?null:_k(t,n,r)}function wk(t,e,r,n){const i=P9(e);if(i===null||!Rh(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const u=t.bucket,h=t.fullPath,p="/b/"+o(u)+"/o/"+o(h),y=wl(p,r,n),w=S9({alt:"media",token:l});return y+w})[0]}function D9(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class df{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){if(!t)throw Qp()}function Jp(t,e){function r(n,i){const s=O9(t,i,e);return Ri(s!==null),s}return r}function Ak(t,e){function r(n,i){const s=O9(t,i,e);return Ri(s!==null),wk(s,i,t.host,t._protocol)}return r}function Al(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=FR():i=VR():r.getStatus()===402?i=UR(t.bucket):r.getStatus()===403?i=BR(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function L9(t){const e=Al(t);function r(n,i){let s=e(n,i);return n.getStatus()===404&&(s=LR(t.path)),s.serverResponse=i.serverResponse,s}return r}function Ek(t,e,r){const n=e.fullServerUrl(),i=wl(n,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,f=new df(i,s,Jp(t,r),o);return f.errorHandler=L9(e),f}function Tk(t,e,r){const n=e.fullServerUrl(),i=wl(n,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,f=new df(i,s,Ak(t,r),o);return f.errorHandler=L9(e),f}function Ik(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function U9(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Ik(null,e)),n}function Sk(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function f(){let T="";for(let M=0;M<2;M++)T=T+Math.random().toString().slice(2);return T}const a=f();o["Content-Type"]="multipart/related; boundary="+a;const l=U9(e,n,i),u=D9(l,r),h="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+a+`\r
Content-Type: `+l.contentType+`\r
\r
`,p=`\r
--`+a+"--",y=fs.getBlob(h,n,p);if(y===null)throw T9();const w={name:l.fullPath},S=wl(s,t.host,t._protocol),P="POST",v=t.maxUploadRetryTime,b=new df(S,P,Jp(t,r),v);return b.urlParams=w,b.headers=o,b.body=y.uploadData(),b.errorHandler=Al(e),b}class Dc{constructor(e,r,n,i){this.current=e,this.total=r,this.finalized=!!n,this.metadata=i||null}}function Xp(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ri(!1)}return Ri(!!r&&(e||["active"]).indexOf(r)!==-1),r}function xk(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),o=U9(e,n,i),f={name:o.fullPath},a=wl(s,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=D9(o,r),p=t.maxUploadRetryTime;function y(S){Xp(S);let P;try{P=S.getResponseHeader("X-Goog-Upload-URL")}catch{Ri(!1)}return Ri(Rh(P)),P}const w=new df(a,l,y,p);return w.urlParams=f,w.headers=u,w.body=h,w.errorHandler=Al(e),w}function Rk(t,e,r,n){const i={"X-Goog-Upload-Command":"query"};function s(l){const u=Xp(l,["active","final"]);let h=null;try{h=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ri(!1)}h||Ri(!1);const p=Number(h);return Ri(!isNaN(p)),new Dc(p,n.size(),u==="final")}const o="POST",f=t.maxUploadRetryTime,a=new df(r,o,s,f);return a.headers=i,a.errorHandler=Al(e),a}const sy=256*1024;function kk(t,e,r,n,i,s,o,f){const a=new Dc(0,0);if(o?(a.current=o.current,a.total=o.total):(a.current=0,a.total=n.size()),n.size()!==a.total)throw GR();const l=a.total-a.current;let u=l;i>0&&(u=Math.min(u,i));const h=a.current,p=h+u;let y="";u===0?y="finalize":l===u?y="upload, finalize":y="upload";const w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${a.current}`},S=n.slice(h,p);if(S===null)throw T9();function P(M,O){const V=Xp(M,["active","final"]),B=a.current+u,H=n.size();let W;return V==="final"?W=Jp(e,s)(M,O):W=null,new Dc(B,H,V==="final",W)}const v="POST",b=e.maxUploadRetryTime,T=new df(r,v,P,b);return T.headers=w,T.body=S.uploadData(),T.progressCallback=f||null,T.errorHandler=Al(t),T}const Dr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function E1(t){switch(t){case"running":case"pausing":case"canceling":return Dr.RUNNING;case"paused":return Dr.PAUSED;case"success":return Dr.SUCCESS;case"canceled":return Dr.CANCELED;case"error":return Dr.ERROR;default:return Dr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,r,n){if(XR(e)||r!=null||n!=null)this.next=e,this.error=r??void 0,this.complete=n??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Pk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=m0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=m0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=m0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Df("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Df("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Df("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Df("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Df("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nk extends Pk{initXhr(){this.xhr_.responseType="text"}}function Y0(){return new Nk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=n,this._mappings=M9(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(x9(i.status,[]))if(s)i=A9();else{this.sleepTime=Math.max(this.sleepTime*2,DR),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":e(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const n=xk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Y0,e,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,n)=>{const i=Rk(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Y0,r,n);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=sy*this._chunkMultiplier,r=new Dc(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=kk(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}const f=this._ref.storage._makeRequest(o,Y0,i,s,!1);this._request=f,f.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){sy*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const n=Ek(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,Y0,e,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const n=Sk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Y0,e,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=E9(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=E1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,n,i){const s=new Ck(r||void 0,n||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(E1(this._state)){case Dr.SUCCESS:W0(this._resolve.bind(null,this.snapshot))();break;case Dr.CANCELED:case Dr.ERROR:const r=this._reject;W0(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(E1(this._state)){case Dr.RUNNING:case Dr.PAUSED:e.next&&W0(e.next.bind(e,this.snapshot))();break;case Dr.SUCCESS:e.complete&&W0(e.complete.bind(e))();break;case Dr.CANCELED:case Dr.ERROR:e.error&&W0(e.error.bind(e,this._error))();break;default:e.error&&W0(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,r){this._service=e,r instanceof Yr?this._location=r:this._location=Yr.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new S0(e,r)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return N9(this._location.path)}get storage(){return this._service}get parent(){const e=mk(this._location.path);if(e===null)return null;const r=new Yr(this._location.bucket,e);return new S0(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw WR(e)}}function Ok(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new Mk(t,new fs(e),r)}function Dk(t){t._throwIfRoot("getDownloadURL");const e=Tk(t.storage,t._location,M9());return t.storage.makeRequestWithTokens(e,Y0).then(r=>{if(r===null)throw $R();return r})}function Lk(t,e){const r=gk(t._location.path,e),n=new Yr(t._location.bucket,r);return new S0(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){return/^[A-Za-z]+:\/\//.test(t)}function Vk(t,e){return new S0(t,e)}function V9(t,e){if(t instanceof Zp){const r=t;if(r._bucket==null)throw HR();const n=new S0(r,r._bucket);return e!=null?V9(n,e):n}else return e!==void 0?Lk(t,e):t}function Fk(t,e){if(e&&Uk(e)){if(t instanceof Zp)return Vk(t,e);throw t5("To use ref(service, url), the first argument must be a Storage instance.")}else return V9(t,e)}function oy(t,e){const r=e==null?void 0:e[w9];return r==null?null:Yr.makeFromBucketSpec(r,t)}function Bk(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:O_(i,t.app.options.projectId))}class Zp{constructor(e,r,n,i,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=_9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MR,this._maxUploadRetryTime=OR,this._requests=new Set,i!=null?this._bucket=Yr.makeFromBucketSpec(i,this._host):this._bucket=oy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=oy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new S0(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new KR(I9());{const o=sk(e,this._appId,n,i,r,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const fy="@firebase/storage",ay="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="storage";function kh(t,e,r){return t=_t(t),Ok(t,e,r)}function Ch(t){return t=_t(t),Dk(t)}function Ph(t,e){return t=_t(t),Fk(t,e)}function jk(t=Fp(),e){t=_t(t);const n=Th(t,F9).getImmediate({identifier:e}),i=P_("storage");return i&&zk(n,...i),n}function zk(t,e,r,n={}){Bk(t,e,r,n)}function Hk(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Zp(r,n,i,e,V0)}function Gk(){E0(new xs(F9,Hk,"PUBLIC").setMultipleInstances(!0)),Xn(fy,ay,""),Xn(fy,ay,"esm2017")}Gk();var $k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,em=em||{},de=$k||self;function Nh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function El(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qk(t){return Object.prototype.hasOwnProperty.call(t,T1)&&t[T1]||(t[T1]=++Wk)}var T1="closure_uid_"+(1e9*Math.random()>>>0),Wk=0;function Kk(t,e,r){return t.call.apply(t.bind,arguments)}function Qk(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function br(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?br=Kk:br=Qk,br.apply(null,arguments)}function uu(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function Zt(t,e){function r(){}r.prototype=e.prototype,t.$=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.ac=function(n,i,s){for(var o=Array(arguments.length-2),f=2;f<arguments.length;f++)o[f-2]=arguments[f];return e.prototype[i].apply(n,o)}}function Us(){this.s=this.s,this.o=this.o}var Yk=0;Us.prototype.s=!1;Us.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Yk!=0)&&qk(this)};Us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function tm(t){const e=t.length;if(0<e){const r=Array(e);for(let n=0;n<e;n++)r[n]=t[n];return r}return[]}function ly(t,e){for(let r=1;r<arguments.length;r++){const n=arguments[r];if(Nh(n)){const i=t.length||0,s=n.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=n[o]}else t.push(n)}}function _r(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var Jk=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{de.addEventListener("test",()=>{},e),de.removeEventListener("test",()=>{},e)}catch{}return t}();function ja(t){return/^[\s\xa0]*$/.test(t)}function Mh(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function Hn(t){return Mh().indexOf(t)!=-1}function rm(t){return rm[" "](t),t}rm[" "]=function(){};function Xk(t,e){var r=GC;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}var Zk=Hn("Opera"),jo=Hn("Trident")||Hn("MSIE"),j9=Hn("Edge"),r5=j9||jo,z9=Hn("Gecko")&&!(Mh().toLowerCase().indexOf("webkit")!=-1&&!Hn("Edge"))&&!(Hn("Trident")||Hn("MSIE"))&&!Hn("Edge"),eC=Mh().toLowerCase().indexOf("webkit")!=-1&&!Hn("Edge");function H9(){var t=de.document;return t?t.documentMode:void 0}var n5;e:{var I1="",S1=function(){var t=Mh();if(z9)return/rv:([^\);]+)(\)|;)/.exec(t);if(j9)return/Edge\/([\d\.]+)/.exec(t);if(jo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eC)return/WebKit\/(\S+)/.exec(t);if(Zk)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(S1&&(I1=S1?S1[1]:""),jo){var x1=H9();if(x1!=null&&x1>parseFloat(I1)){n5=String(x1);break e}}n5=I1}var i5;if(de.document&&jo){var uy=H9();i5=uy||parseInt(n5,10)||void 0}else i5=void 0;var tC=i5;function za(t,e){if(_r.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(z9){e:{try{rm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&za.$.h.call(this)}}Zt(za,_r);var rC={2:"touch",3:"pen",4:"mouse"};za.prototype.h=function(){za.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tl="closure_listenable_"+(1e6*Math.random()|0),nC=0;function iC(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.la=i,this.key=++nC,this.fa=this.ia=!1}function Oh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nm(t,e,r){for(const n in t)e.call(r,t[n],n,t)}function sC(t,e){for(const r in t)e.call(void 0,t[r],r,t)}function G9(t){const e={};for(const r in t)e[r]=t[r];return e}const cy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $9(t,e){let r,n;for(let i=1;i<arguments.length;i++){n=arguments[i];for(r in n)t[r]=n[r];for(let s=0;s<cy.length;s++)r=cy[s],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function Dh(t){this.src=t,this.g={},this.h=0}Dh.prototype.add=function(t,e,r,n,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=o5(t,e,n,i);return-1<o?(e=t[o],r||(e.ia=!1)):(e=new iC(e,this.src,s,!!n,i),e.ia=r,t.push(e)),e};function s5(t,e){var r=e.type;if(r in t.g){var n=t.g[r],i=B9(n,e),s;(s=0<=i)&&Array.prototype.splice.call(n,i,1),s&&(Oh(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function o5(t,e,r,n){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!r&&s.la==n)return i}return-1}var im="closure_lm_"+(1e6*Math.random()|0),R1={};function q9(t,e,r,n,i){if(n&&n.once)return K9(t,e,r,n,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)q9(t,e[s],r,n,i);return null}return r=fm(r),t&&t[Tl]?t.O(e,r,El(n)?!!n.capture:!!n,i):W9(t,e,r,!1,n,i)}function W9(t,e,r,n,i,s){if(!e)throw Error("Invalid event type");var o=El(i)?!!i.capture:!!i,f=om(t);if(f||(t[im]=f=new Dh(t)),r=f.add(e,r,n,o,s),r.proxy)return r;if(n=oC(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)Jk||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(Y9(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function oC(){function t(r){return e.call(t.src,t.listener,r)}const e=fC;return t}function K9(t,e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)K9(t,e[s],r,n,i);return null}return r=fm(r),t&&t[Tl]?t.P(e,r,El(n)?!!n.capture:!!n,i):W9(t,e,r,!0,n,i)}function Q9(t,e,r,n,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Q9(t,e[s],r,n,i);else n=El(n)?!!n.capture:!!n,r=fm(r),t&&t[Tl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],r=o5(s,r,n,i),-1<r&&(Oh(s[r]),Array.prototype.splice.call(s,r,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=om(t))&&(e=t.g[e.toString()],t=-1,e&&(t=o5(e,r,n,i)),(r=-1<t?e[t]:null)&&sm(r))}function sm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Tl])s5(e.i,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(Y9(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=om(e))?(s5(r,t),r.h==0&&(r.src=null,e[im]=null)):Oh(t)}}}function Y9(t){return t in R1?R1[t]:R1[t]="on"+t}function fC(t,e){if(t.fa)t=!0;else{e=new za(e,this);var r=t.listener,n=t.la||t.src;t.ia&&sm(t),t=r.call(n,e)}return t}function om(t){return t=t[im],t instanceof Dh?t:null}var k1="__closure_events_fn_"+(1e9*Math.random()>>>0);function fm(t){return typeof t=="function"?t:(t[k1]||(t[k1]=function(e){return t.handleEvent(e)}),t[k1])}function Xt(){Us.call(this),this.i=new Dh(this),this.S=this,this.J=null}Zt(Xt,Us);Xt.prototype[Tl]=!0;Xt.prototype.removeEventListener=function(t,e,r,n){Q9(this,t,e,r,n)};function or(t,e){var r,n=t.J;if(n)for(r=[];n;n=n.J)r.push(n);if(t=t.S,n=e.type||e,typeof e=="string")e=new _r(e,t);else if(e instanceof _r)e.target=e.target||t;else{var i=e;e=new _r(n,t),$9(e,i)}if(i=!0,r)for(var s=r.length-1;0<=s;s--){var o=e.g=r[s];i=cu(o,n,!0,e)&&i}if(o=e.g=t,i=cu(o,n,!0,e)&&i,i=cu(o,n,!1,e)&&i,r)for(s=0;s<r.length;s++)o=e.g=r[s],i=cu(o,n,!1,e)&&i}Xt.prototype.N=function(){if(Xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)Oh(r[n]);delete t.g[e],t.h--}}this.J=null};Xt.prototype.O=function(t,e,r,n){return this.i.add(String(t),e,!1,r,n)};Xt.prototype.P=function(t,e,r,n){return this.i.add(String(t),e,!0,r,n)};function cu(t,e,r,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==r){var f=o.listener,a=o.la||o.src;o.ia&&s5(t.i,o),i=f.call(a,n)!==!1&&i}}return i&&!n.defaultPrevented}var am=de.JSON.stringify;class aC{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function lC(){var t=lm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class uC{constructor(){this.h=this.g=null}add(e,r){const n=J9.get();n.set(e,r),this.h?this.h.next=n:this.g=n,this.h=n}}var J9=new aC(()=>new cC,t=>t.reset());class cC{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function hC(t){var e=1;t=t.split(":");const r=[];for(;0<e&&t.length;)r.push(t.shift()),e--;return t.length&&r.push(t.join(":")),r}function dC(t){de.setTimeout(()=>{throw t},0)}let Ha,Ga=!1,lm=new uC,X9=()=>{const t=de.Promise.resolve(void 0);Ha=()=>{t.then(pC)}};var pC=()=>{for(var t;t=lC();){try{t.h.call(t.g)}catch(r){dC(r)}var e=J9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ga=!1};function Lh(t,e){Xt.call(this),this.h=t||1,this.g=e||de,this.j=br(this.qb,this),this.l=Date.now()}Zt(Lh,Xt);Y=Lh.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),or(this,"tick"),this.ga&&(um(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function um(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){Lh.$.N.call(this),um(this),delete this.g};function cm(t,e,r){if(typeof t=="function")r&&(t=br(t,r));else if(t&&typeof t.handleEvent=="function")t=br(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function Z9(t){t.g=cm(()=>{t.g=null,t.i&&(t.i=!1,Z9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mC extends Us{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Z9(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $a(t){Us.call(this),this.h=t,this.g={}}Zt($a,Us);var hy=[];function ew(t,e,r,n){Array.isArray(r)||(r&&(hy[0]=r.toString()),r=hy);for(var i=0;i<r.length;i++){var s=q9(e,r[i],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tw(t){nm(t.g,function(e,r){this.g.hasOwnProperty(r)&&sm(e)},t),t.g={}}$a.prototype.N=function(){$a.$.N.call(this),tw(this)};$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uh(){this.g=!0}Uh.prototype.Ea=function(){this.g=!1};function gC(t,e,r,n,i,s){t.info(function(){if(t.g)if(s)for(var o="",f=s.split("&"),a=0;a<f.length;a++){var l=f[a].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+`
`+r+`
`+o})}function yC(t,e,r,n,i,s,o){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+`
`+r+`
`+s+" "+o})}function mo(t,e,r,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bC(t,r)+(n?" "+n:"")})}function vC(t,e){t.info(function(){return"TIMEOUT: "+e})}Uh.prototype.info=function(){};function bC(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var n=r[t];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return am(r)}catch{return e}}var j0={},dy=null;function Vh(){return dy=dy||new Xt}j0.Ta="serverreachability";function rw(t){_r.call(this,j0.Ta,t)}Zt(rw,_r);function qa(t){const e=Vh();or(e,new rw(e))}j0.STAT_EVENT="statevent";function nw(t,e){_r.call(this,j0.STAT_EVENT,t),this.stat=e}Zt(nw,_r);function kr(t){const e=Vh();or(e,new nw(e,t))}j0.Ua="timingevent";function iw(t,e){_r.call(this,j0.Ua,t),this.size=e}Zt(iw,_r);function Il(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var Fh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hm(){}hm.prototype.h=null;function py(t){return t.h||(t.h=t.i())}function ow(){}var Sl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dm(){_r.call(this,"d")}Zt(dm,_r);function pm(){_r.call(this,"c")}Zt(pm,_r);var f5;function Bh(){}Zt(Bh,hm);Bh.prototype.g=function(){return new XMLHttpRequest};Bh.prototype.i=function(){return{}};f5=new Bh;function xl(t,e,r,n){this.l=t,this.j=e,this.m=r,this.W=n||1,this.U=new $a(this),this.P=_C,t=r5?125:void 0,this.V=new Lh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fw}function fw(){this.i=null,this.g="",this.h=!1}var _C=45e3,a5={},Lc={};Y=xl.prototype;Y.setTimeout=function(t){this.P=t};function l5(t,e,r){t.L=1,t.v=zh(Di(e)),t.s=r,t.S=!0,aw(t,null)}function aw(t,e){t.G=Date.now(),Rl(t),t.A=Di(t.v);var r=t.A,n=t.W;Array.isArray(n)||(n=[String(n)]),gw(r.i,"t",n),t.C=0,r=t.l.J,t.h=new fw,t.g=Uw(t.l,r?e:null,!t.s),0<t.O&&(t.M=new mC(br(t.Pa,t,t.g),t.O)),ew(t.U,t.g,"readystatechange",t.nb),e=t.I?G9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qa(),gC(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&Wn(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const u=Wn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||r5||this.g&&(this.h.h||this.g.ja()||vy(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?qa(3):qa(2)),jh(this);var r=this.g.da();this.ca=r;t:if(lw(this)){var n=vy(this.g);t="";var i=n.length,s=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){l0(this),da(this);var o="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:s&&e==i-1});n.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=r==200,yC(this.j,this.u,this.A,this.m,this.W,u,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,a=this.g;if((f=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ja(f)){var l=f;break t}}l=null}if(r=l)mo(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,u5(this,r);else{this.i=!1,this.o=3,kr(12),l0(this),da(this);break e}}this.S?(uw(this,u,o),r5&&this.i&&u==3&&(ew(this.U,this.V,"tick",this.mb),this.V.start())):(mo(this.j,this.m,o,null),u5(this,o)),u==4&&l0(this),this.i&&!this.J&&(u==4?Mw(this.l,this):(this.i=!1,Rl(this)))}else jC(this.g),r==400&&0<o.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),l0(this),da(this)}}}catch{}finally{}};function lw(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function uw(t,e,r){let n=!0,i;for(;!t.J&&t.C<r.length;)if(i=wC(t,r),i==Lc){e==4&&(t.o=4,kr(14),n=!1),mo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==a5){t.o=4,kr(15),mo(t.j,t.m,r,"[Invalid Chunk]"),n=!1;break}else mo(t.j,t.m,i,null),u5(t,i);lw(t)&&i!=Lc&&i!=a5&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,kr(16),n=!1),t.i=t.i&&n,n?0<r.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),_m(e),e.M=!0,kr(11))):(mo(t.j,t.m,r,"[Invalid Chunked Response]"),l0(t),da(t))}Y.mb=function(){if(this.g){var t=Wn(this.g),e=this.g.ja();this.C<e.length&&(jh(this),uw(this,t,e),this.i&&t!=4&&Rl(this))}};function wC(t,e){var r=t.C,n=e.indexOf(`
`,r);return n==-1?Lc:(r=Number(e.substring(r,n)),isNaN(r)?a5:(n+=1,n+r>e.length?Lc:(e=e.slice(n,n+r),t.C=n+r,e)))}Y.cancel=function(){this.J=!0,l0(this)};function Rl(t){t.Y=Date.now()+t.P,cw(t,t.P)}function cw(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Il(br(t.lb,t),e)}function jh(t){t.B&&(de.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(vC(this.j,this.A),this.L!=2&&(qa(),kr(17)),l0(this),this.o=2,da(this)):cw(this,this.Y-t)};function da(t){t.l.H==0||t.J||Mw(t.l,t)}function l0(t){jh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,um(t.V),tw(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function u5(t,e){try{var r=t.l;if(r.H!=0&&(r.g==t||c5(r.i,t))){if(!t.K&&c5(r.i,t)&&r.H==3){try{var n=r.Ja.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var i=n;if(i[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<t.G)Fc(r),qh(r);else break e;bm(r),kr(18)}}else r.Fa=i[1],0<r.Fa-r.V&&37500>i[2]&&r.G&&r.A==0&&!r.v&&(r.v=Il(br(r.ib,r),6e3));if(1>=bw(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else u0(r,11)}else if((t.K||r.g==t)&&Fc(r),!ja(e))for(i=r.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(r.V=l[0],l=l[1],r.H==2)if(l[0]=="c"){r.K=l[1],r.pa=l[2];const u=l[3];u!=null&&(r.ra=u,r.l.info("VER="+r.ra));const h=l[4];h!=null&&(r.Ga=h,r.l.info("SVER="+r.Ga));const p=l[5];p!=null&&typeof p=="number"&&0<p&&(n=1.5*p,r.L=n,r.l.info("backChannelRequestTimeoutMs_="+n)),n=r;const y=t.g;if(y){const w=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=n.i;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(mm(s,s.h),s.h=null))}if(n.F){const S=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(n.Da=S,pt(n.I,n.F,S))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-t.G,r.l.info("Handshake RTT: "+r.S+"ms")),n=r;var o=t;if(n.wa=Lw(n,n.J?n.pa:null,n.Y),o.K){_w(n.i,o);var f=o,a=n.L;a&&f.setTimeout(a),f.B&&(jh(f),Rl(f)),n.g=o}else Pw(n);0<r.j.length&&Wh(r)}else l[0]!="stop"&&l[0]!="close"||u0(r,7);else r.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?u0(r,7):vm(r):l[0]!="noop"&&r.h&&r.h.Aa(l),r.A=0)}}qa(4)}catch{}}function AC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Nh(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}e=[],r=0;for(n in t)e[r++]=t[n];return e}function EC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Nh(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const n in t)e[r++]=n;return e}}}function hw(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Nh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=EC(t),n=AC(t),i=n.length,s=0;s<i;s++)e.call(void 0,n[s],r&&r[s],t)}var dw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TC(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var s=t[r].substring(0,n);i=t[r].substring(n+1)}else s=t[r];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function g0(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof g0){this.h=t.h,Uc(this,t.j),this.s=t.s,this.g=t.g,Vc(this,t.m),this.l=t.l;var e=t.i,r=new Wa;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),my(this,r),this.o=t.o}else t&&(e=String(t).match(dw))?(this.h=!1,Uc(this,e[1]||"",!0),this.s=Yf(e[2]||""),this.g=Yf(e[3]||"",!0),Vc(this,e[4]),this.l=Yf(e[5]||"",!0),my(this,e[6]||"",!0),this.o=Yf(e[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}g0.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Jf(e,gy,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Jf(e,gy,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(Jf(r,r.charAt(0)=="/"?xC:SC,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",Jf(r,kC)),t.join("")};function Di(t){return new g0(t)}function Uc(t,e,r){t.j=r?Yf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function my(t,e,r){e instanceof Wa?(t.i=e,CC(t.i,t.h)):(r||(e=Jf(e,RC)),t.i=new Wa(e,t.h))}function pt(t,e,r){t.i.set(e,r)}function zh(t){return pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jf(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,IC),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gy=/[#\/\?@]/g,SC=/[#\?:]/g,xC=/[#\?]/g,RC=/[#\?@]/g,kC=/#/g;function Wa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vs(t){t.g||(t.g=new Map,t.h=0,t.i&&TC(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}Y=Wa.prototype;Y.add=function(t,e){Vs(this),this.i=null,t=pf(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function pw(t,e){Vs(t),e=pf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mw(t,e){return Vs(t),e=pf(t,e),t.g.has(e)}Y.forEach=function(t,e){Vs(this),this.g.forEach(function(r,n){r.forEach(function(i){t.call(e,i,n,this)},this)},this)};Y.ta=function(){Vs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let n=0;n<e.length;n++){const i=t[n];for(let s=0;s<i.length;s++)r.push(e[n])}return r};Y.Z=function(t){Vs(this);let e=[];if(typeof t=="string")mw(this,t)&&(e=e.concat(this.g.get(pf(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};Y.set=function(t,e){return Vs(this),this.i=null,t=pf(this,t),mw(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gw(t,e,r){pw(t,e),0<r.length&&(t.i=null,t.g.set(pf(t,e),tm(r)),t.h+=r.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var n=e[r];const s=encodeURIComponent(String(n)),o=this.Z(n);for(n=0;n<o.length;n++){var i=s;o[n]!==""&&(i+="="+encodeURIComponent(String(o[n]))),t.push(i)}}return this.i=t.join("&")};function pf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function CC(t,e){e&&!t.j&&(Vs(t),t.i=null,t.g.forEach(function(r,n){var i=n.toLowerCase();n!=i&&(pw(this,n),gw(this,i,r))},t)),t.j=e}var PC=class{constructor(t,e){this.g=t,this.map=e}};function yw(t){this.l=t||NC,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var NC=10;function vw(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function bw(t){return t.h?1:t.g?t.g.size:0}function c5(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function mm(t,e){t.g?t.g.add(e):t.h=e}function _w(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}yw.prototype.cancel=function(){if(this.i=ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ww(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.F);return e}return tm(t.i)}var MC=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function OC(){this.g=new MC}function DC(t,e,r){const n=r||"";try{hw(t,function(i,s){let o=i;El(i)&&(o=am(i)),e.push(n+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function LC(t,e){const r=new Uh;if(de.Image){const n=new Image;n.onload=uu(hu,r,n,"TestLoadImage: loaded",!0,e),n.onerror=uu(hu,r,n,"TestLoadImage: error",!1,e),n.onabort=uu(hu,r,n,"TestLoadImage: abort",!1,e),n.ontimeout=uu(hu,r,n,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function hu(t,e,r,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch{}}function Hh(t){this.l=t.ec||null,this.j=t.ob||!1}Zt(Hh,hm);Hh.prototype.g=function(){return new Gh(this.l,this.j)};Hh.prototype.i=function(t){return function(){return t}}({});function Gh(t,e){Xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=gm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt(Gh,Xt);var gm=0;Y=Gh.prototype;Y.open=function(t,e){if(this.readyState!=gm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ka(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kl(this)),this.readyState=gm};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Aw(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Aw(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kl(this):Ka(this),this.readyState==3&&Aw(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,kl(this))};Y.Ya=function(t){this.g&&(this.response=t,kl(this))};Y.ka=function(){this.g&&kl(this)};function kl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ka(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function Ka(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var UC=de.JSON.parse;function Mt(t){Xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ew,this.L=this.M=!1}Zt(Mt,Xt);var Ew="",VC=/^https?$/i,FC=["POST","PUT"];Y=Mt.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():f5.g(),this.C=this.u?py(this.u):py(f5),this.g.onreadystatechange=br(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){yy(this,s);return}if(t=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(const s of n.keys())r.set(s,n.get(s));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(r.keys()).find(s=>s.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=B9(FC,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of r)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sw(this),0<this.B&&((this.L=BC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=br(this.ua,this)):this.A=cm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){yy(this,s)}};function BC(t){return jo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof em<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))};function yy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Tw(t),$h(t)}function Tw(t){t.F||(t.F=!0,or(t,"complete"),or(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,or(this,"complete"),or(this,"abort"),$h(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$h(this,!0)),Mt.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?Iw(this):this.kb())};Y.kb=function(){Iw(this)};function Iw(t){if(t.h&&typeof em<"u"&&(!t.C[1]||Wn(t)!=4||t.da()!=2)){if(t.v&&Wn(t)==4)cm(t.La,0,t);else if(or(t,"readystatechange"),Wn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var n;if(n=o===0){var i=String(t.I).match(dw)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),n=!VC.test(i?i.toLowerCase():"")}r=n}if(r)or(t,"complete"),or(t,"success");else{t.m=6;try{var s=2<Wn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Tw(t)}}finally{$h(t)}}}}function $h(t,e){if(t.g){Sw(t);const r=t.g,n=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||or(t,"ready");try{r.onreadystatechange=n}catch{}}}function Sw(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Wn(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),UC(e)}};function vy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ew:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jC(t){const e={};t=(t.g&&2<=Wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let n=0;n<t.length;n++){if(ja(t[n]))continue;var r=hC(t[n]);const i=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const s=e[i]||[];e[i]=s,s.push(r)}sC(e,function(n){return n.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function xw(t){let e="";return nm(t,function(r,n){e+=n,e+=":",e+=r,e+=`\r
`}),e}function ym(t,e,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=xw(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):pt(t,e,r))}function Lf(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function Rw(t){this.Ga=0,this.j=[],this.l=new Uh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lf("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lf("baseRetryDelayMs",5e3,t),this.hb=Lf("retryDelaySeedMs",1e4,t),this.eb=Lf("forwardChannelMaxRetries",2,t),this.xa=Lf("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yw(t&&t.concurrentRequestLimit),this.Ja=new OC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=Rw.prototype;Y.ra=8;Y.H=1;function vm(t){if(kw(t),t.H==3){var e=t.W++,r=Di(t.I);if(pt(r,"SID",t.K),pt(r,"RID",e),pt(r,"TYPE","terminate"),Cl(t,r),e=new xl(t,t.l,e),e.L=2,e.v=zh(Di(r)),r=!1,de.navigator&&de.navigator.sendBeacon)try{r=de.navigator.sendBeacon(e.v.toString(),"")}catch{}!r&&de.Image&&(new Image().src=e.v,r=!0),r||(e.g=Uw(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Rl(e)}Dw(t)}function qh(t){t.g&&(_m(t),t.g.cancel(),t.g=null)}function kw(t){qh(t),t.u&&(de.clearTimeout(t.u),t.u=null),Fc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function Wh(t){if(!vw(t.i)&&!t.m){t.m=!0;var e=t.Na;Ha||X9(),Ga||(Ha(),Ga=!0),lm.add(e,t),t.C=0}}function zC(t,e){return bw(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Il(br(t.Na,t,e),Ow(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new xl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=G9(s),$9(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){t:{var n=this.j[r];if("__data__"in n.map&&(n=n.map.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=r;break e}if(e===4096||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Cw(this,i,e),r=Di(this.I),pt(r,"RID",t),pt(r,"CVER",22),this.F&&pt(r,"X-HTTP-Session-Id",this.F),Cl(this,r),s&&(this.O?e="headers="+encodeURIComponent(String(xw(s)))+"&"+e:this.o&&ym(r,this.o,s)),mm(this.i,i),this.bb&&pt(r,"TYPE","init"),this.P?(pt(r,"$req",e),pt(r,"SID","null"),i.aa=!0,l5(i,r,null)):l5(i,r,e),this.H=2}}else this.H==3&&(t?by(this,t):this.j.length==0||vw(this.i)||by(this))};function by(t,e){var r;e?r=e.m:r=t.W++;const n=Di(t.I);pt(n,"SID",t.K),pt(n,"RID",r),pt(n,"AID",t.V),Cl(t,n),t.o&&t.s&&ym(n,t.o,t.s),r=new xl(t,t.l,r,t.C+1),t.o===null&&(r.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Cw(t,r,1e3),r.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),mm(t.i,r),l5(r,n,e)}function Cl(t,e){t.na&&nm(t.na,function(r,n){pt(e,n,r)}),t.h&&hw({},function(r,n){pt(e,n,r)})}function Cw(t,e,r){r=Math.min(t.j.length,r);var n=t.h?br(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+r];s==-1?0<r?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let f=!0;for(let a=0;a<r;a++){let l=i[a].g;const u=i[a].map;if(l-=s,0>l)s=Math.max(0,i[a].g-100),f=!1;else try{DC(u,o,"req"+l+"_")}catch{n&&n(u)}}if(f){n=o.join("&");break e}}}return t=t.j.splice(0,r),e.F=t,n}function Pw(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ha||X9(),Ga||(Ha(),Ga=!0),lm.add(e,t),t.A=0}}function bm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Il(br(t.Ma,t),Ow(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,Nw(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Il(br(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kr(10),qh(this),Nw(this))};function _m(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function Nw(t){t.g=new xl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Di(t.wa);pt(e,"RID","rpc"),pt(e,"SID",t.K),pt(e,"AID",t.V),pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pt(e,"TO",t.qa),pt(e,"TYPE","xmlhttp"),Cl(t,e),t.o&&t.s&&ym(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var r=t.g;t=t.pa,r.L=1,r.v=zh(Di(e)),r.s=null,r.S=!0,aw(r,t)}Y.ib=function(){this.v!=null&&(this.v=null,qh(this),bm(this),kr(19))};function Fc(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function Mw(t,e){var r=null;if(t.g==e){Fc(t),_m(t),t.g=null;var n=2}else if(c5(t.i,e))r=e.F,_w(t.i,e),n=1;else return;if(t.H!=0){if(e.i)if(n==1){r=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;n=Vh(),or(n,new iw(n,r)),Wh(t)}else Pw(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(n==1&&zC(t,e)||n==2&&bm(t)))switch(r&&0<r.length&&(e=t.i,e.i=e.i.concat(r)),i){case 1:u0(t,5);break;case 4:u0(t,10);break;case 3:u0(t,6);break;default:u0(t,2)}}}function Ow(t,e){let r=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(r*=2),r*e}function u0(t,e){if(t.l.info("Error code "+e),e==2){var r=null;t.h&&(r=null);var n=br(t.pb,t);r||(r=new g0("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||Uc(r,"https"),zh(r)),LC(r.toString(),n)}else kr(2);t.H=0,t.h&&t.h.za(e),Dw(t),kw(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),kr(2)):(this.l.info("Failed to ping google.com"),kr(1))};function Dw(t){if(t.H=0,t.ma=[],t.h){const e=ww(t.i);(e.length!=0||t.j.length!=0)&&(ly(t.ma,e),ly(t.ma,t.j),t.i.i.length=0,tm(t.j),t.j.length=0),t.h.ya()}}function Lw(t,e,r){var n=r instanceof g0?Di(r):new g0(r);if(n.g!="")e&&(n.g=e+"."+n.g),Vc(n,n.m);else{var i=de.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new g0(null);n&&Uc(s,n),e&&(s.g=e),i&&Vc(s,i),r&&(s.l=r),n=s}return r=t.F,e=t.Da,r&&e&&pt(n,r,e),pt(n,"VER",t.ra),Cl(t,n),n}function Uw(t,e,r){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Ha&&!t.va?new Mt(new Hh({ob:!0})):new Mt(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function Vw(){}Y=Vw.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function Bc(){if(jo&&!(10<=Number(tC)))throw Error("Environmental error: no available transport.")}Bc.prototype.g=function(t,e){return new tn(t,e)};function tn(t,e){Xt.call(this),this.g=new Rw(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ja(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ja(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new mf(this)}Zt(tn,Xt);tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,r=this.h||void 0;kr(0),t.Y=e,t.na=r||{},t.G=t.aa,t.I=Lw(t,null,t.Y),Wh(t)};tn.prototype.close=function(){vm(this.g)};tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=am(t),t=r);e.j.push(new PC(e.fb++,t)),e.H==3&&Wh(e)};tn.prototype.N=function(){this.g.h=null,delete this.j,vm(this.g),delete this.g,tn.$.N.call(this)};function Fw(t){dm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Zt(Fw,dm);function Bw(){pm.call(this),this.status=1}Zt(Bw,pm);function mf(t){this.g=t}Zt(mf,Vw);mf.prototype.Ba=function(){or(this.g,"a")};mf.prototype.Aa=function(t){or(this.g,new Fw(t))};mf.prototype.za=function(t){or(this.g,new Bw)};mf.prototype.ya=function(){or(this.g,"b")};function HC(){this.blockSize=-1}function Mn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Zt(Mn,HC);Mn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function C1(t,e,r){r||(r=0);var n=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)n[i]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;e=t.g[0],r=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^r&(i^s))+n[0]+3614090360&4294967295;e=r+(o<<7&4294967295|o>>>25),o=s+(i^e&(r^i))+n[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(r^s&(e^r))+n[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=r+(e^i&(s^e))+n[3]+3250441966&4294967295,r=i+(o<<22&4294967295|o>>>10),o=e+(s^r&(i^s))+n[4]+4118548399&4294967295,e=r+(o<<7&4294967295|o>>>25),o=s+(i^e&(r^i))+n[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(r^s&(e^r))+n[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=r+(e^i&(s^e))+n[7]+4249261313&4294967295,r=i+(o<<22&4294967295|o>>>10),o=e+(s^r&(i^s))+n[8]+1770035416&4294967295,e=r+(o<<7&4294967295|o>>>25),o=s+(i^e&(r^i))+n[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(r^s&(e^r))+n[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=r+(e^i&(s^e))+n[11]+2304563134&4294967295,r=i+(o<<22&4294967295|o>>>10),o=e+(s^r&(i^s))+n[12]+1804603682&4294967295,e=r+(o<<7&4294967295|o>>>25),o=s+(i^e&(r^i))+n[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(r^s&(e^r))+n[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=r+(e^i&(s^e))+n[15]+1236535329&4294967295,r=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(r^i))+n[1]+4129170786&4294967295,e=r+(o<<5&4294967295|o>>>27),o=s+(r^i&(e^r))+n[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^r&(s^e))+n[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=r+(s^e&(i^s))+n[0]+3921069994&4294967295,r=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(r^i))+n[5]+3593408605&4294967295,e=r+(o<<5&4294967295|o>>>27),o=s+(r^i&(e^r))+n[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^r&(s^e))+n[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=r+(s^e&(i^s))+n[4]+3889429448&4294967295,r=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(r^i))+n[9]+568446438&4294967295,e=r+(o<<5&4294967295|o>>>27),o=s+(r^i&(e^r))+n[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^r&(s^e))+n[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=r+(s^e&(i^s))+n[8]+1163531501&4294967295,r=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(r^i))+n[13]+2850285829&4294967295,e=r+(o<<5&4294967295|o>>>27),o=s+(r^i&(e^r))+n[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^r&(s^e))+n[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=r+(s^e&(i^s))+n[12]+2368359562&4294967295,r=i+(o<<20&4294967295|o>>>12),o=e+(r^i^s)+n[5]+4294588738&4294967295,e=r+(o<<4&4294967295|o>>>28),o=s+(e^r^i)+n[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^r)+n[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=r+(i^s^e)+n[14]+4259657740&4294967295,r=i+(o<<23&4294967295|o>>>9),o=e+(r^i^s)+n[1]+2763975236&4294967295,e=r+(o<<4&4294967295|o>>>28),o=s+(e^r^i)+n[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^r)+n[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=r+(i^s^e)+n[10]+3200236656&4294967295,r=i+(o<<23&4294967295|o>>>9),o=e+(r^i^s)+n[13]+681279174&4294967295,e=r+(o<<4&4294967295|o>>>28),o=s+(e^r^i)+n[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^r)+n[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=r+(i^s^e)+n[6]+76029189&4294967295,r=i+(o<<23&4294967295|o>>>9),o=e+(r^i^s)+n[9]+3654602809&4294967295,e=r+(o<<4&4294967295|o>>>28),o=s+(e^r^i)+n[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^r)+n[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=r+(i^s^e)+n[2]+3299628645&4294967295,r=i+(o<<23&4294967295|o>>>9),o=e+(i^(r|~s))+n[0]+4096336452&4294967295,e=r+(o<<6&4294967295|o>>>26),o=s+(r^(e|~i))+n[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~r))+n[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=r+(s^(i|~e))+n[5]+4237533241&4294967295,r=i+(o<<21&4294967295|o>>>11),o=e+(i^(r|~s))+n[12]+1700485571&4294967295,e=r+(o<<6&4294967295|o>>>26),o=s+(r^(e|~i))+n[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~r))+n[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=r+(s^(i|~e))+n[1]+2240044497&4294967295,r=i+(o<<21&4294967295|o>>>11),o=e+(i^(r|~s))+n[8]+1873313359&4294967295,e=r+(o<<6&4294967295|o>>>26),o=s+(r^(e|~i))+n[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~r))+n[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=r+(s^(i|~e))+n[13]+1309151649&4294967295,r=i+(o<<21&4294967295|o>>>11),o=e+(i^(r|~s))+n[4]+4149444226&4294967295,e=r+(o<<6&4294967295|o>>>26),o=s+(r^(e|~i))+n[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~r))+n[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=r+(s^(i|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Mn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var r=e-this.blockSize,n=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=r;)C1(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(n[i++]=t.charCodeAt(s++),i==this.blockSize){C1(this,n),i=0;break}}else for(;s<e;)if(n[i++]=t[s++],i==this.blockSize){C1(this,n),i=0;break}}this.h=i,this.i+=e};Mn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var r=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=r&255,r/=256;for(this.j(t),t=Array(16),e=r=0;4>e;++e)for(var n=0;32>n;n+=8)t[r++]=this.g[e]>>>n&255;return t};function Ne(t,e){this.h=e;for(var r=[],n=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;n&&s==e||(r[i]=s,n=!1)}this.g=r}var GC={};function wm(t){return-128<=t&&128>t?Xk(t,function(e){return new Ne([e|0],0>e?-1:0)}):new Ne([t|0],0>t?-1:0)}function Kn(t){if(isNaN(t)||!isFinite(t))return Ro;if(0>t)return ir(Kn(-t));for(var e=[],r=1,n=0;t>=r;n++)e[n]=t/r|0,r*=h5;return new Ne(e,0)}function jw(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ir(jw(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Kn(Math.pow(e,8)),n=Ro,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Kn(Math.pow(e,s)),n=n.R(s).add(Kn(o))):(n=n.R(r),n=n.add(Kn(o)))}return n}var h5=4294967296,Ro=wm(0),d5=wm(1),_y=wm(16777216);Y=Ne.prototype;Y.ea=function(){if(un(this))return-ir(this).ea();for(var t=0,e=1,r=0;r<this.g.length;r++){var n=this.D(r);t+=(0<=n?n:h5+n)*e,e*=h5}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ii(this))return"0";if(un(this))return"-"+ir(this).toString(t);for(var e=Kn(Math.pow(t,6)),r=this,n="";;){var i=zc(r,e).g;r=jc(r,i.R(e));var s=((0<r.g.length?r.g[0]:r.h)>>>0).toString(t);if(r=i,Ii(r))return s+n;for(;6>s.length;)s="0"+s;n=s+n}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ii(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function un(t){return t.h==-1}Y.X=function(t){return t=jc(this,t),un(t)?-1:Ii(t)?0:1};function ir(t){for(var e=t.g.length,r=[],n=0;n<e;n++)r[n]=~t.g[n];return new Ne(r,~t.h).add(d5)}Y.abs=function(){return un(this)?ir(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0,i=0;i<=e;i++){var s=n+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);n=o>>>16,s&=65535,o&=65535,r[i]=o<<16|s}return new Ne(r,r[r.length-1]&-2147483648?-1:0)};function jc(t,e){return t.add(ir(e))}Y.R=function(t){if(Ii(this)||Ii(t))return Ro;if(un(this))return un(t)?ir(this).R(ir(t)):ir(ir(this).R(t));if(un(t))return ir(this.R(ir(t)));if(0>this.X(_y)&&0>t.X(_y))return Kn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,r=[],n=0;n<2*e;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<t.g.length;i++){var s=this.D(n)>>>16,o=this.D(n)&65535,f=t.D(i)>>>16,a=t.D(i)&65535;r[2*n+2*i]+=o*a,du(r,2*n+2*i),r[2*n+2*i+1]+=s*a,du(r,2*n+2*i+1),r[2*n+2*i+1]+=o*f,du(r,2*n+2*i+1),r[2*n+2*i+2]+=s*f,du(r,2*n+2*i+2)}for(n=0;n<e;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=e;n<2*e;n++)r[n]=0;return new Ne(r,0)};function du(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Uf(t,e){this.g=t,this.h=e}function zc(t,e){if(Ii(e))throw Error("division by zero");if(Ii(t))return new Uf(Ro,Ro);if(un(t))return e=zc(ir(t),e),new Uf(ir(e.g),ir(e.h));if(un(e))return e=zc(t,ir(e)),new Uf(ir(e.g),e.h);if(30<t.g.length){if(un(t)||un(e))throw Error("slowDivide_ only works with positive integers.");for(var r=d5,n=e;0>=n.X(t);)r=wy(r),n=wy(n);var i=K0(r,1),s=K0(n,1);for(n=K0(n,2),r=K0(r,2);!Ii(n);){var o=s.add(n);0>=o.X(t)&&(i=i.add(r),s=o),n=K0(n,1),r=K0(r,1)}return e=jc(t,i.R(e)),new Uf(i,e)}for(i=Ro;0<=t.X(e);){for(r=Math.max(1,Math.floor(t.ea()/e.ea())),n=Math.ceil(Math.log(r)/Math.LN2),n=48>=n?1:Math.pow(2,n-48),s=Kn(r),o=s.R(e);un(o)||0<o.X(t);)r-=n,s=Kn(r),o=s.R(e);Ii(s)&&(s=d5),i=i.add(s),t=jc(t,o)}return new Uf(i,t)}Y.gb=function(t){return zc(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)&t.D(n);return new Ne(r,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)|t.D(n);return new Ne(r,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)^t.D(n);return new Ne(r,this.h^t.h)};function wy(t){for(var e=t.g.length+1,r=[],n=0;n<e;n++)r[n]=t.D(n)<<1|t.D(n-1)>>>31;return new Ne(r,t.h)}function K0(t,e){var r=e>>5;e%=32;for(var n=t.g.length-r,i=[],s=0;s<n;s++)i[s]=0<e?t.D(s+r)>>>e|t.D(s+r+1)<<32-e:t.D(s+r);return new Ne(i,t.h)}Bc.prototype.createWebChannel=Bc.prototype.g;tn.prototype.send=tn.prototype.u;tn.prototype.open=tn.prototype.m;tn.prototype.close=tn.prototype.close;Fh.NO_ERROR=0;Fh.TIMEOUT=8;Fh.HTTP_ERROR=6;sw.COMPLETE="complete";ow.EventType=Sl;Sl.OPEN="a";Sl.CLOSE="b";Sl.ERROR="c";Sl.MESSAGE="d";Xt.prototype.listen=Xt.prototype.O;Mt.prototype.listenOnce=Mt.prototype.P;Mt.prototype.getLastError=Mt.prototype.Sa;Mt.prototype.getLastErrorCode=Mt.prototype.Ia;Mt.prototype.getStatus=Mt.prototype.da;Mt.prototype.getResponseJson=Mt.prototype.Wa;Mt.prototype.getResponseText=Mt.prototype.ja;Mt.prototype.send=Mt.prototype.ha;Mt.prototype.setWithCredentials=Mt.prototype.Oa;Mn.prototype.digest=Mn.prototype.l;Mn.prototype.reset=Mn.prototype.reset;Mn.prototype.update=Mn.prototype.j;Ne.prototype.add=Ne.prototype.add;Ne.prototype.multiply=Ne.prototype.R;Ne.prototype.modulo=Ne.prototype.gb;Ne.prototype.compare=Ne.prototype.X;Ne.prototype.toNumber=Ne.prototype.ea;Ne.prototype.toString=Ne.prototype.toString;Ne.prototype.getBits=Ne.prototype.D;Ne.fromNumber=Kn;Ne.fromString=jw;var $C=function(){return new Bc},qC=function(){return Vh()},P1=Fh,WC=sw,KC=j0,Ay={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pu=ow,QC=Mt,YC=Mn,ko=Ne;const Ey="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Up("@firebase/firestore");function Vf(){return x0.logLevel}function ie(t,...e){if(x0.logLevel<=Te.DEBUG){const r=e.map(Am);x0.debug(`Firestore (${gf}): ${t}`,...r)}}function Li(t,...e){if(x0.logLevel<=Te.ERROR){const r=e.map(Am);x0.error(`Firestore (${gf}): ${t}`,...r)}}function zo(t,...e){if(x0.logLevel<=Te.WARN){const r=e.map(Am);x0.warn(`Firestore (${gf}): ${t}`,...r)}}function Am(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${gf}) INTERNAL ASSERTION FAILED: `+t;throw Li(e),new Error(e)}function yt(t,e){t||he()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends hi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(dr.UNAUTHENTICATED))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ZC{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=a=>this.i!==n?(n=this.i,r(a)):Promise.resolve();let s=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ki,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},f=a=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>f(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?f(a):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ki)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(yt(typeof n.accessToken=="string"),new zw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new dr(e)}}class eP{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tP{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new eP(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const n=s=>{s.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(yt(typeof r.token=="string"),this.R=r.token,new rP(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=iP(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function ke(t,e){return t<e?-1:t>e?1:0}function Ho(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Ut(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new Ut(0,0))}static max(){return new me(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,r,n){r===void 0?r=0:r>e.length&&he(),n===void 0?n=e.length-r:n>e.length-r&&he(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),o=r.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class mt extends Qa{construct(e,r,n){return new mt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Z(j.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new mt(r)}static emptyPath(){return new mt([])}}const sP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Qa{construct(e,r,n){return new vr(e,r,n)}static isValidIdentifier(e){return sP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new Z(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new Z(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=a,i+=2}else f==="`"?(o=!o,i++):f!=="."||o?(n+=f,i++):(s(),i++)}if(s(),o)throw new Z(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(r)}static emptyPath(){return new vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(mt.fromString(e))}static fromName(e){return new fe(mt.fromString(e).popFirst(5))}static empty(){return new fe(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return mt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new mt(e.slice()))}}function oP(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(n===1e9?new Ut(r+1,0):new Ut(r,n));return new Rs(i,fe.empty(),e)}function fP(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Rs(me.min(),fe.empty(),-1)}static max(){return new Rs(me.max(),fe.empty(),-1)}}function aP(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=fe.comparator(t.documentKey,e.documentKey),r!==0?r:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==lP)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new G((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof G?r:G.resolve(r)}catch(r){return G.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):G.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):G.reject(r)}static resolve(e){return new G((r,n)=>{r(e)})}static reject(e){return new G((r,n)=>{n(e)})}static waitFor(e){return new G((r,n)=>{let i=0,s=0,o=!1;e.forEach(f=>{++i,f.next(()=>{++s,o&&s===i&&r()},a=>n(a))}),o=!0,s===i&&r()})}static or(e){let r=G.resolve(!1);for(const n of e)r=r.next(i=>i?G.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new G((n,i)=>{const s=e.length,o=new Array(s);let f=0;for(let a=0;a<s;a++){const l=a;r(e[l]).next(u=>{o[l]=u,++f,f===s&&n(o)},u=>i(u))}})}static doWhile(e,r){return new G((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function Nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Em.ae=-1;function Kh(t){return t==null}function Hc(t){return t===0&&1/t==-1/0}function cP(t){return typeof t=="number"&&Number.isInteger(t)&&!Hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function z0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Gw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){this.comparator=e,this.root=r||nr.EMPTY}insert(e,r){return new xt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mu(this.root,e,this.comparator,!0)}}class mu{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??nr.RED,this.left=i??nr.EMPTY,this.right=s??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new nr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,r,n,i,s){return this}insert(e,r,n){return new nr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(e){return new Iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new wr(this.comparator);return r.data=e,r}}class Iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new Jr([])}unionWith(e){let r=new wr(vr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Jr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $w("Invalid base64 string: "+s):s}}(e);return new Sr(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Sr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const hP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(yt(!!t),typeof t=="string"){let e=0;const r=hP.exec(t);if(yt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function R0(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Im(t){const e=t.mapValue.fields.__previous_value__;return Tm(e)?Im(e):e}function Ya(t){const e=ks(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,r,n,i,s,o,f,a,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=f,this.longPollingOptions=a,this.useFetchStreams=l}}class Ja{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function k0(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tm(t)?4:pP(t)?9007199254740991:10:he()}function fi(t,e){if(t===e)return!0;const r=k0(t);if(r!==k0(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ks(i.timestampValue),f=ks(s.timestampValue);return o.seconds===f.seconds&&o.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return R0(i.bytesValue).isEqual(R0(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return jt(i.geoPointValue.latitude)===jt(s.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return jt(i.integerValue)===jt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=jt(i.doubleValue),f=jt(s.doubleValue);return o===f?Hc(o)===Hc(f):isNaN(o)&&isNaN(f)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:return function(i,s){const o=i.mapValue.fields||{},f=s.mapValue.fields||{};if(Ty(o)!==Ty(f))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(f[a]===void 0||!fi(o[a],f[a])))return!1;return!0}(t,e);default:return he()}}function Xa(t,e){return(t.values||[]).find(r=>fi(r,e))!==void 0}function Go(t,e){if(t===e)return 0;const r=k0(t),n=k0(e);if(r!==n)return ke(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const f=jt(s.integerValue||s.doubleValue),a=jt(o.integerValue||o.doubleValue);return f<a?-1:f>a?1:f===a?0:isNaN(f)?isNaN(a)?0:-1:1}(t,e);case 3:return Sy(t.timestampValue,e.timestampValue);case 4:return Sy(Ya(t),Ya(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const f=R0(s),a=R0(o);return f.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const f=s.split("/"),a=o.split("/");for(let l=0;l<f.length&&l<a.length;l++){const u=ke(f[l],a[l]);if(u!==0)return u}return ke(f.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const f=ke(jt(s.latitude),jt(o.latitude));return f!==0?f:ke(jt(s.longitude),jt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const f=s.values||[],a=o.values||[];for(let l=0;l<f.length&&l<a.length;++l){const u=Go(f[l],a[l]);if(u)return u}return ke(f.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===gu.mapValue&&o===gu.mapValue)return 0;if(s===gu.mapValue)return 1;if(o===gu.mapValue)return-1;const f=s.fields||{},a=Object.keys(f),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let h=0;h<a.length&&h<u.length;++h){const p=ke(a[h],u[h]);if(p!==0)return p;const y=Go(f[a[h]],l[u[h]]);if(y!==0)return y}return ke(a.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function Sy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const r=ks(t),n=ks(e),i=ke(r.seconds,n.seconds);return i!==0?i:ke(r.nanos,n.nanos)}function $o(t){return p5(t)}function p5(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ks(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return R0(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=p5(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${p5(r.fields[o])}`;return i+"}"}(t.mapValue):he()}function xy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m5(t){return!!t&&"integerValue"in t}function Sm(t){return!!t&&"arrayValue"in t}function Ry(t){return!!t&&"nullValue"in t}function ky(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ju(t){return!!t&&"mapValue"in t}function pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return z0(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=pa(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=pa(t.arrayValue.values[r]);return e}return Object.assign({},t)}function pP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ju(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(r)}setAll(e){let r=vr.emptyPath(),n={},i=[];e.forEach((o,f)=>{if(!r.isImmediateParentOf(f)){const a=this.getFieldsMap(r);this.applyChanges(a,n,i),n={},i=[],r=f.popLast()}o?n[f.lastSegment()]=pa(o):i.push(f.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());ju(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];ju(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){z0(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Ur(pa(this.value))}}function qw(t){const e=[];return z0(t.fields,(r,n)=>{const i=new vr([r]);if(ju(n)){const s=qw(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,r,n,i,s,o,f){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=f}static newInvalidDocument(e){return new gr(e,0,me.min(),me.min(),me.min(),Ur.empty(),0)}static newFoundDocument(e,r,n,i){return new gr(e,1,r,me.min(),n,i,0)}static newNoDocument(e,r){return new gr(e,2,r,me.min(),me.min(),Ur.empty(),0)}static newUnknownDocument(e,r){return new gr(e,3,r,me.min(),me.min(),Ur.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r){this.position=e,this.inclusive=r}}function Cy(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=fe.comparator(fe.fromName(o.referenceValue),r.key):n=Go(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Py(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!fi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,r="asc"){this.field=e,this.dir=r}}function mP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{}class Ht extends Ww{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new yP(e,r,n):r==="array-contains"?new _P(e,n):r==="in"?new wP(e,n):r==="not-in"?new AP(e,n):r==="array-contains-any"?new EP(e,n):new Ht(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new vP(e,n):new bP(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Go(r,this.value)):r!==null&&k0(this.value)===k0(r)&&this.matchesComparison(Go(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class On extends Ww{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new On(e,r)}matches(e){return Kw(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(r=>r.isInequality());return e!==null?e.field:null}le(e){for(const r of this.getFlattenedFilters())if(e(r))return r;return null}}function Kw(t){return t.op==="and"}function Qw(t){return gP(t)&&Kw(t)}function gP(t){for(const e of t.filters)if(e instanceof On)return!1;return!0}function g5(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(Qw(t))return t.filters.map(e=>g5(e)).join(",");{const e=t.filters.map(r=>g5(r)).join(",");return`${t.op}(${e})`}}function Yw(t,e){return t instanceof Ht?function(n,i){return i instanceof Ht&&n.op===i.op&&n.field.isEqual(i.field)&&fi(n.value,i.value)}(t,e):t instanceof On?function(n,i){return i instanceof On&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,f)=>s&&Yw(o,i.filters[f]),!0):!1}(t,e):void he()}function Jw(t){return t instanceof Ht?function(r){return`${r.field.canonicalString()} ${r.op} ${$o(r.value)}`}(t):t instanceof On?function(r){return r.op.toString()+" {"+r.getFilters().map(Jw).join(" ,")+"}"}(t):"Filter"}class yP extends Ht{constructor(e,r,n){super(e,r,n),this.key=fe.fromName(n.referenceValue)}matches(e){const r=fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class vP extends Ht{constructor(e,r){super(e,"in",r),this.keys=Xw("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class bP extends Ht{constructor(e,r){super(e,"not-in",r),this.keys=Xw("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Xw(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>fe.fromName(n.referenceValue))}class _P extends Ht{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Sm(r)&&Xa(r.arrayValue,this.value)}}class wP extends Ht{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Xa(this.value.arrayValue,r)}}class AP extends Ht{constructor(e,r){super(e,"not-in",r)}matches(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Xa(this.value.arrayValue,r)}}class EP extends Ht{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Sm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Xa(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,r=null,n=[],i=[],s=null,o=null,f=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=f,this.he=null}}function Ny(t,e=null,r=[],n=[],i=null,s=null,o=null){return new TP(t,e,r,n,i,s,o)}function xm(t){const e=ve(t);if(e.he===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>g5(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Kh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>$o(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>$o(n)).join(",")),e.he=r}return e.he}function Rm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!mP(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Yw(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Py(t.startAt,e.startAt)&&Py(t.endAt,e.endAt)}function y5(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,r=null,n=[],i=[],s=null,o="F",f=null,a=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=f,this.endAt=a,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function IP(t,e,r,n,i,s,o,f){return new Ml(t,e,r,n,i,s,o,f)}function Qh(t){return new Ml(t)}function My(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function km(t){for(const e of t.filters){const r=e.getFirstInequalityField();if(r!==null)return r}return null}function e3(t){return t.collectionGroup!==null}function ga(t){const e=ve(t);if(e.Pe===null){e.Pe=[];const r=km(e),n=Zw(e);if(r!==null&&n===null)r.isKeyField()||e.Pe.push(new ma(r)),e.Pe.push(new ma(vr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new ma(vr.keyField(),s))}}}return e.Pe}function ti(t){const e=ve(t);return e.Ie||(e.Ie=SP(e,ga(t))),e.Ie}function SP(t,e){if(t.limitType==="F")return Ny(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ma(i.field,s)});const r=t.endAt?new Gc(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Gc(t.startAt.position,t.startAt.inclusive):null;return Ny(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function v5(t,e){e.getFirstInequalityField(),km(t);const r=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function b5(t,e,r){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Yh(t,e){return Rm(ti(t),ti(e))&&t.limitType===e.limitType}function t3(t){return`${xm(ti(t))}|lt:${t.limitType}`}function J0(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Jw(i)).join(", ")}]`),Kh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>$o(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>$o(i)).join(",")),`Target(${n})`}(ti(t))}; limitType=${t.limitType})`}function Jh(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):fe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of ga(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,f,a){const l=Cy(o,f,a);return o.inclusive?l<=0:l<0}(n.startAt,ga(n),i)||n.endAt&&!function(o,f,a){const l=Cy(o,f,a);return o.inclusive?l>=0:l>0}(n.endAt,ga(n),i))}(t,e)}function xP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r3(t){return(e,r)=>{let n=!1;for(const i of ga(t)){const s=RP(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function RP(t,e,r){const n=t.field.isKeyField()?fe.comparator(e.key,r.key):function(s,o,f){const a=o.data.field(s),l=f.data.field(s);return a!==null&&l!==null?Go(a,l):he()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){z0(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return Gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new xt(fe.comparator);function Ui(){return kP}const n3=new xt(fe.comparator);function Xf(...t){let e=n3;for(const r of t)e=e.insert(r.key,r);return e}function i3(t){let e=n3;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function c0(){return ya()}function s3(){return ya()}function ya(){return new yf(t=>t.toString(),(t,e)=>t.isEqual(e))}const CP=new xt(fe.comparator),PP=new wr(fe.comparator);function we(...t){let e=PP;for(const r of t)e=e.add(r);return e}const NP=new wr(ke);function MP(){return NP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function f3(t){return{integerValue:""+t}}function OP(t,e){return cP(e)?f3(e):o3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function DP(t,e,r){return t instanceof Za?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tm(s)&&(s=Im(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(r,e):t instanceof qo?l3(t,e):t instanceof el?u3(t,e):function(i,s){const o=a3(i,s),f=Oy(o)+Oy(i.Te);return m5(o)&&m5(i.Te)?f3(f):o3(i.serializer,f)}(t,e)}function LP(t,e,r){return t instanceof qo?l3(t,e):t instanceof el?u3(t,e):r}function a3(t,e){return t instanceof $c?function(n){return m5(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Za extends Xh{}class qo extends Xh{constructor(e){super(),this.elements=e}}function l3(t,e){const r=c3(e);for(const n of t.elements)r.some(i=>fi(i,n))||r.push(n);return{arrayValue:{values:r}}}class el extends Xh{constructor(e){super(),this.elements=e}}function u3(t,e){let r=c3(e);for(const n of t.elements)r=r.filter(i=>!fi(i,n));return{arrayValue:{values:r}}}class $c extends Xh{constructor(e,r){super(),this.serializer=e,this.Te=r}}function Oy(t){return jt(t.integerValue||t.doubleValue)}function c3(t){return Sm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,r){this.field=e,this.transform=r}}function UP(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof qo&&i instanceof qo||n instanceof el&&i instanceof el?Ho(n.elements,i.elements,fi):n instanceof $c&&i instanceof $c?fi(n.Te,i.Te):n instanceof Za&&i instanceof Za}(t.transform,e.transform)}class VP{constructor(e,r){this.version=e,this.transformResults=r}}class ri{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zh{}function d3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m3(t.key,ri.none()):new Ol(t.key,t.data,ri.none());{const r=t.data,n=Ur.empty();let i=new wr(vr.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new Fs(t.key,n,new Jr(i.toArray()),ri.none())}}function FP(t,e,r){t instanceof Ol?function(i,s,o){const f=i.value.clone(),a=Ly(i.fieldTransforms,s,o.transformResults);f.setAll(a),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(t,e,r):t instanceof Fs?function(i,s,o){if(!zu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const f=Ly(i.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(p3(i)),a.setAll(f),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function va(t,e,r,n){return t instanceof Ol?function(s,o,f,a){if(!zu(s.precondition,o))return f;const l=s.value.clone(),u=Uy(s.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof Fs?function(s,o,f,a){if(!zu(s.precondition,o))return f;const l=Uy(s.fieldTransforms,a,o),u=o.data;return u.setAll(p3(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),f===null?null:f.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,o,f){return zu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):f}(t,e,r)}function BP(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=a3(n.transform,i||null);s!=null&&(r===null&&(r=Ur.empty()),r.set(n.field,s))}return r||null}function Dy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ho(n,i,(s,o)=>UP(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ol extends Zh{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends Zh{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function p3(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Ly(t,e,r){const n=new Map;yt(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,f=e.data.field(s.field);n.set(s.field,LP(o,f,r[i]))}return n}function Uy(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,DP(s,o,e))}return n}class m3 extends Zh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jP extends Zh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FP(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=va(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=va(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=s3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let f=this.applyToLocalView(o,s.mutatedFields);f=r.has(i.key)?null:f;const a=d3(o,f);a!==null&&n.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(me.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),we())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(r,n)=>Dy(r,n))&&Ho(this.baseMutations,e.baseMutations,(r,n)=>Dy(r,n))}}class Cm{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){yt(e.mutations.length===n.length);let i=function(){return CP}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new Cm(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Se;function $P(t){switch(t){default:return he();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function g3(t){if(t===void 0)return Li("GRPC error has no .code"),j.UNKNOWN;switch(t){case Vt.OK:return j.OK;case Vt.CANCELLED:return j.CANCELLED;case Vt.UNKNOWN:return j.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return j.INTERNAL;case Vt.UNAVAILABLE:return j.UNAVAILABLE;case Vt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Vt.NOT_FOUND:return j.NOT_FOUND;case Vt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Vt.ABORTED:return j.ABORTED;case Vt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Vt.DATA_LOSS:return j.DATA_LOSS;default:return he()}}(Se=Vt||(Vt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new ko([4294967295,4294967295],0);function Vy(t){const e=qP().encode(t),r=new YC;return r.update(e),new Uint8Array(r.digest())}function Fy(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ko([r,n],0),new ko([i,s],0)]}class Pm{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Zf(`Invalid padding: ${r}`);if(n<0)throw new Zf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Zf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Zf(`Invalid padding when bitmap length is 0: ${r}`);this.Ae=8*e.length-r,this.Re=ko.fromNumber(this.Ae)}Ve(e,r,n){let i=e.add(r.multiply(ko.fromNumber(n)));return i.compare(WP)===1&&(i=new ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const r=Vy(e),[n,i]=Fy(r);for(let s=0;s<this.hashCount;s++){const o=this.Ve(n,i,s);if(!this.me(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Pm(s,i,r);return n.forEach(f=>o.insert(f)),o}insert(e){if(this.Ae===0)return;const r=Vy(e),[n,i]=Fy(r);for(let s=0;s<this.hashCount;s++){const o=this.Ve(n,i,s);this.fe(o)}}fe(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new ed(me.min(),i,new xt(ke),Ui(),we())}}class Dl{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Dl(n,r,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,r,n,i){this.ge=e,this.removedTargetIds=r,this.key=n,this.pe=i}}class y3{constructor(e,r){this.targetId=e,this.ye=r}}class v3{constructor(e,r,n=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class By{constructor(){this.we=0,this.Se=zy(),this.be=Sr.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=we(),r=we(),n=we();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:he()}}),new Dl(this.be,this.De,e,r,n)}Oe(){this.Ce=!1,this.Se=zy()}Ne(e,r){this.Ce=!0,this.Se=this.Se.insert(e,r)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class KP{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Ui(),this.Ue=jy(),this.We=new xt(ke)}Ge(e){for(const r of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe);for(const r of e.removedTargetIds)this.je(r,e.key,e.pe)}He(e){this.forEachTarget(e,r=>{const n=this.Je(r);switch(e.state){case 0:this.Ye(r)&&n.Me(e.resumeToken);break;case 1:n.ke(),n.ve||n.Oe(),n.Me(e.resumeToken);break;case 2:n.ke(),n.ve||this.removeTarget(r);break;case 3:this.Ye(r)&&(n.qe(),n.Me(e.resumeToken));break;case 4:this.Ye(r)&&(this.Ze(r),n.Me(e.resumeToken));break;default:he()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ke.forEach((n,i)=>{this.Ye(i)&&r(i)})}Xe(e){const r=e.targetId,n=e.ye.count,i=this.et(r);if(i){const s=i.target;if(y5(s))if(n===0){const o=new fe(s.path);this.je(r,o,gr.newNoDocument(o,me.min()))}else yt(n===1);else{const o=this.tt(r);if(o!==n){const f=this.nt(e),a=f?this.rt(f,e,o):1;if(a!==0){this.Ze(r);const l=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,l)}}}}}nt(e){const r=e.ye.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,f;try{o=R0(n).toUint8Array()}catch(a){if(a instanceof $w)return zo("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{f=new Pm(o,i,s)}catch(a){return zo(a instanceof Zf?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return f.Ae===0?null:f}rt(e,r,n){return r.ye.count===n-this.ot(e,r.targetId)?0:2}ot(e,r){const n=this.Qe.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const o=this.Qe.st(),f=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(f)||(this.je(r,s,null),i++)}),i}_t(e){const r=new Map;this.Ke.forEach((s,o)=>{const f=this.et(o);if(f){if(s.current&&y5(f.target)){const a=new fe(f.target.path);this.$e.get(a)!==null||this.ut(o,a)||this.je(o,a,gr.newNoDocument(a,e))}s.Fe&&(r.set(o,s.xe()),s.Oe())}});let n=we();this.Ue.forEach((s,o)=>{let f=!0;o.forEachWhile(a=>{const l=this.et(a);return!l||l.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(n=n.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new ed(e,r,this.We,this.$e,n);return this.$e=Ui(),this.Ue=jy(),this.We=new xt(ke),i}ze(e,r){if(!this.Ye(e))return;const n=this.ut(e,r.key)?2:0;this.Je(e).Ne(r.key,n),this.$e=this.$e.insert(r.key,r),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}je(e,r,n){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,r)?i.Ne(r,1):i.Be(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),n&&(this.$e=this.$e.insert(r,n))}removeTarget(e){this.Ke.delete(e)}tt(e){const r=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let r=this.Ke.get(e);return r||(r=new By,this.Ke.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new wr(ke),this.Ue=this.Ue.insert(e,r)),r}Ye(e){const r=this.et(e)!==null;return r||ie("WatchChangeAggregator","Detected inactive target",e),r}et(e){const r=this.Ke.get(e);return r&&r.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new By),this.Qe.getRemoteKeysForTarget(e).forEach(r=>{this.je(e,r,null)})}ut(e,r){return this.Qe.getRemoteKeysForTarget(e).has(r)}}function jy(){return new xt(fe.comparator)}function zy(){return new xt(fe.comparator)}const QP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),JP=(()=>({and:"AND",or:"OR"}))();class XP{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function _5(t,e){return t.useProto3Json||Kh(e)?e:{value:e}}function qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZP(t,e){return qc(t,e.toTimestamp())}function ni(t){return yt(!!t),me.fromTimestamp(function(r){const n=ks(r);return new Ut(n.seconds,n.nanos)}(t))}function Nm(t,e){return function(n){return new mt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function _3(t){const e=mt.fromString(t);return yt(T3(e)),e}function w5(t,e){return Nm(t.databaseId,e.path)}function N1(t,e){const r=_3(e);if(r.get(1)!==t.databaseId.projectId)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new fe(w3(r))}function A5(t,e){return Nm(t.databaseId,e)}function eN(t){const e=_3(t);return e.length===4?mt.emptyPath():w3(e)}function E5(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function w3(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Hy(t,e,r){return{name:w5(t,e),fields:r.value.mapValue.fields}}function tN(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(yt(u===void 0||typeof u=="string"),Sr.fromBase64String(u||"")):(yt(u===void 0||u instanceof Uint8Array),Sr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,f=o&&function(l){const u=l.code===void 0?j.UNKNOWN:g3(l.code);return new Z(u,l.message||"")}(o);r=new v3(n,i,s,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=N1(t,n.document.name),s=ni(n.document.updateTime),o=n.document.createTime?ni(n.document.createTime):me.min(),f=new Ur({mapValue:{fields:n.document.fields}}),a=gr.newFoundDocument(i,s,o,f),l=n.targetIds||[],u=n.removedTargetIds||[];r=new Hu(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=N1(t,n.document),s=n.readTime?ni(n.readTime):me.min(),o=gr.newNoDocument(i,s),f=n.removedTargetIds||[];r=new Hu([],f,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=N1(t,n.document),s=n.removedTargetIds||[];r=new Hu([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new GP(i,s),f=n.targetId;r=new y3(f,o)}}return r}function rN(t,e){let r;if(e instanceof Ol)r={update:Hy(t,e.key,e.value)};else if(e instanceof m3)r={delete:w5(t,e.key)};else if(e instanceof Fs)r={update:Hy(t,e.key,e.data),updateMask:cN(e.fieldMask)};else{if(!(e instanceof jP))return he();r={verify:w5(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const f=o.transform;if(f instanceof Za)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof el)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof $c)return{fieldPath:o.field.canonicalString(),increment:f.Te};throw he()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZP(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),r}function nN(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(r=>function(i,s){let o=i.updateTime?ni(i.updateTime):ni(s);return o.isEqual(me.min())&&(o=ni(s)),new VP(o,i.transformResults||[])}(r,e))):[]}function iN(t,e){return{documents:[A5(t,e.path)]}}function sN(t,e){const r={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(r.parent=A5(t,n),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=A5(t,n.popLast()),r.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(a){if(a.length!==0)return E3(On.create(a,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(l=>function(h){return{field:X0(h.field),direction:aN(h.dir)}}(l))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=_5(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(a){return{before:a.inclusive,values:a.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(e.endAt)),r}function oN(t){let e=eN(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){yt(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(h){const p=A3(h);return p instanceof On&&Qw(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(p=>function(w){return new ma(Z0(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(r.orderBy));let f=null;r.limit&&(f=function(h){let p;return p=typeof h=="object"?h.value:h,Kh(p)?null:p}(r.limit));let a=null;r.startAt&&(a=function(h){const p=!!h.before,y=h.values||[];return new Gc(y,p)}(r.startAt));let l=null;return r.endAt&&(l=function(h){const p=!h.before,y=h.values||[];return new Gc(y,p)}(r.endAt)),IP(e,i,o,s,f,"F",a,l)}function fN(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function A3(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Z0(r.unaryFilter.field);return Ht.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Z0(r.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Z0(r.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Z0(r.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(r){return Ht.create(Z0(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return On.create(r.compositeFilter.filters.map(n=>A3(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(r.compositeFilter.op))}(t):he()}function aN(t){return QP[t]}function lN(t){return YP[t]}function uN(t){return JP[t]}function X0(t){return{fieldPath:t.canonicalString()}}function Z0(t){return vr.fromServerFormat(t.fieldPath)}function E3(t){return t instanceof Ht?function(r){if(r.op==="=="){if(ky(r.value))return{unaryFilter:{field:X0(r.field),op:"IS_NAN"}};if(Ry(r.value))return{unaryFilter:{field:X0(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ky(r.value))return{unaryFilter:{field:X0(r.field),op:"IS_NOT_NAN"}};if(Ry(r.value))return{unaryFilter:{field:X0(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:X0(r.field),op:lN(r.op),value:r.value}}}(t):t instanceof On?function(r){const n=r.getFilters().map(i=>E3(i));return n.length===1?n[0]:{compositeFilter:{op:uN(r.op),filters:n}}}(t):he()}function cN(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function T3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,r,n,i,s=me.min(),o=me.min(),f=Sr.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=f,this.expectedCount=a}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.ht=e}}function dN(t){const e=oN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b5(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.an=new mN}addToCollectionParentIndex(e,r){return this.an.add(r),G.resolve()}getCollectionParents(e,r){return G.resolve(this.an.getEntries(r))}addFieldIndex(e,r){return G.resolve()}deleteFieldIndex(e,r){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,r){return G.resolve()}getDocumentsMatchingTarget(e,r){return G.resolve(null)}getIndexType(e,r){return G.resolve(0)}getFieldIndexes(e,r){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,r){return G.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,r){return G.resolve(Rs.min())}updateCollectionGroup(e,r,n){return G.resolve()}updateIndexEntries(e,r){return G.resolve()}}class mN{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new wr(mt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new wr(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Wo(0)}static Ln(){return new Wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.changes=new yf(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?G.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&va(n.mutation,i,Jr.empty(),Ut.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,we()).next(()=>n))}getLocalViewOfDocuments(e,r,n=we()){const i=c0();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let o=Xf();return s.forEach((f,a)=>{o=o.insert(f,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=c0();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,we()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,f)=>{r.set(o,f)})})}computeViews(e,r,n,i){let s=Ui();const o=ya(),f=function(){return ya()}();return r.forEach((a,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Fs)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),va(u.mutation,l,u.mutation.getFieldMask(),Ut.now())):o.set(l.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((l,u)=>o.set(l,u)),r.forEach((l,u)=>{var h;return f.set(l,new yN(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),f))}recalculateAndSaveOverlays(e,r){const n=ya();let i=new xt((o,f)=>o-f),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const f of o)f.keys().forEach(a=>{const l=r.get(a);if(l===null)return;let u=n.get(a)||Jr.empty();u=f.applyToLocalView(l,u),n.set(a,u);const h=(i.get(f.batchId)||we()).add(a);i=i.insert(f.batchId,h)})}).next(()=>{const o=[],f=i.getReverseIterator();for(;f.hasNext();){const a=f.getNext(),l=a.key,u=a.value,h=s3();u.forEach(p=>{if(!s.has(p)){const y=d3(r.get(p),n.get(p));y!==null&&h.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return G.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):e3(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):G.resolve(c0());let f=-1,a=s;return o.next(l=>G.forEach(l,(u,h)=>(f<h.largestBatchId&&(f=h.largestBatchId),s.get(u)?G.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{a=a.insert(u,p)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,a,l,we())).next(u=>({batchId:f,changes:i3(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fe(r)).next(n=>{let i=Xf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=Xf();return this.indexManager.getCollectionParents(e,s).next(f=>G.forEach(f,a=>{const l=function(h,p){return new Ml(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(o=>{s.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,gr.newInvalidDocument(u)))});let f=Xf();return o.forEach((a,l)=>{const u=s.get(a);u!==void 0&&va(u.mutation,l,Jr.empty(),Ut.now()),Jh(r,l)&&(f=f.insert(a,l))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,r){return G.resolve(this.lr.get(r))}saveBundleMetadata(e,r){return this.lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ni(i.createTime)}}(r)),G.resolve()}getNamedQuery(e,r){return G.resolve(this.hr.get(r))}saveNamedQuery(e,r){return this.hr.set(r.name,function(i){return{name:i.name,query:dN(i.bundledQuery),readTime:ni(i.readTime)}}(r)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.overlays=new xt(fe.comparator),this.Pr=new Map}getOverlay(e,r){return G.resolve(this.overlays.get(r))}getOverlays(e,r){const n=c0();return G.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.It(e,r,s)}),G.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Pr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(n)),G.resolve()}getOverlaysForCollection(e,r,n){const i=c0(),s=r.length+1,o=new fe(r.child("")),f=this.overlays.getIteratorFrom(o);for(;f.hasNext();){const a=f.getNext().value,l=a.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&a.largestBatchId>n&&i.set(a.getKey(),a)}return G.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new xt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=c0(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const f=c0(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((l,u)=>f.set(l,u)),!(f.size()>=i)););return G.resolve(f)}It(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(n.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new HP(r,n));let s=this.Pr.get(r);s===void 0&&(s=we(),this.Pr.set(r,s)),this.Pr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Ir=new wr(Kt.dr),this.Tr=new wr(Kt.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,r){const n=new Kt(e,r);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}Ar(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Rr(new Kt(e,r))}Vr(e,r){e.forEach(n=>this.removeReference(n,r))}mr(e){const r=new fe(new mt([])),n=new Kt(r,e),i=new Kt(r,e+1),s=[];return this.Tr.forEachInRange([n,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const r=new fe(new mt([])),n=new Kt(r,e),i=new Kt(r,e+1);let s=we();return this.Tr.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new Kt(e,0),n=this.Ir.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Kt{constructor(e,r){this.key=e,this.yr=r}static dr(e,r){return fe.comparator(e.key,r.key)||ke(e.yr,r.yr)}static Er(e,r){return ke(e.yr,r.yr)||fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.wr=1,this.Sr=new wr(Kt.dr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zP(s,r,n,i);this.mutationQueue.push(o);for(const f of i)this.Sr=this.Sr.add(new Kt(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,r){return G.resolve(this.br(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Dr(n),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Kt(r,0),i=new Kt(r,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([n,i],o=>{const f=this.br(o.yr);s.push(f)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new wr(ke);return r.forEach(i=>{const s=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],f=>{n=n.add(f.yr)})}),G.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;fe.isDocumentKey(s)||(s=s.child(""));const o=new Kt(new fe(s),0);let f=new wr(ke);return this.Sr.forEachWhile(a=>{const l=a.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(f=f.add(a.yr)),!0)},o),G.resolve(this.Cr(f))}Cr(e){const r=[];return e.forEach(n=>{const i=this.br(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){yt(this.vr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Sr;return G.forEach(r.mutations,i=>{const s=new Kt(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=n})}xn(e){}containsKey(e,r){const n=new Kt(r,0),i=this.Sr.firstAfterOrEqual(n);return G.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}vr(e,r){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const r=this.Dr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.Fr=e,this.docs=function(){return new xt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.Fr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return G.resolve(n?n.document.mutableCopy():gr.newInvalidDocument(r))}getEntries(e,r){let n=Ui();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():gr.newInvalidDocument(i))}),G.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Ui();const o=r.path,f=new fe(o.child("")),a=this.docs.getIteratorFrom(f);for(;a.hasNext();){const{key:l,value:{document:u}}=a.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||aP(fP(u),n)<=0||(i.has(u.key)||Jh(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,r,n,i){he()}Mr(e,r){return G.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new EN(this)}getSize(e){return G.resolve(this.size)}}class EN extends gN{constructor(e){super(),this.ur=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.ur.addEntry(e,i)):this.ur.removeEntry(n)}),G.waitFor(r)}getFromCache(e,r){return this.ur.getEntry(e,r)}getAllFromCache(e,r){return this.ur.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.persistence=e,this.Or=new yf(r=>xm(r),Rm),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Mm,this.targetCount=0,this.Lr=Wo.Bn()}forEachTarget(e,r){return this.Or.forEach((n,i)=>r(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Nr&&(this.Nr=r),G.resolve()}Qn(e){this.Or.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Wo(r),this.highestTargetId=r),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,r){return this.Qn(r),this.targetCount+=1,G.resolve()}updateTargetData(e,r){return this.Qn(r),G.resolve()}removeTargetData(e,r){return this.Or.delete(r.target),this.Br.mr(r.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Or.forEach((o,f)=>{f.sequenceNumber<=r&&n.get(f.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,r){const n=this.Or.get(r)||null;return G.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Ar(r,n),G.resolve()}removeMatchingKeys(e,r,n){this.Br.Vr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.mr(r),G.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.pr(r);return G.resolve(n)}containsKey(e,r){return G.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,r){this.kr={},this.overlays={},this.qr=new Em(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new TN(this),this.indexManager=new pN,this.remoteDocumentCache=function(i){return new AN(i)}(n=>this.referenceDelegate.$r(n)),this.serializer=new hN(r),this.Ur=new bN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _N,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.kr[e.toKey()];return n||(n=new wN(r,this.referenceDelegate),this.kr[e.toKey()]=n),n}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,r,n){ie("MemoryPersistence","Starting transaction:",e);const i=new SN(this.qr.next());return this.referenceDelegate.Wr(),n(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,r){return G.or(Object.values(this.kr).map(n=>()=>n.containsKey(e,r)))}}class SN extends uP{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.jr=new Mm,this.Hr=null}static Jr(e){return new Om(e)}get Yr(){if(this.Hr)return this.Hr;throw he()}addReference(e,r,n){return this.jr.addReference(n,r),this.Yr.delete(n.toString()),G.resolve()}removeReference(e,r,n){return this.jr.removeReference(n,r),this.Yr.add(n.toString()),G.resolve()}markPotentiallyOrphaned(e,r){return this.Yr.add(r.toString()),G.resolve()}removeTarget(e,r){this.jr.mr(r.targetId).forEach(i=>this.Yr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Wr(){this.Hr=new Set}Gr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Yr,n=>{const i=fe.fromPath(n);return this.Zr(e,i).next(s=>{s||r.removeEntry(i,me.min())})}).next(()=>(this.Hr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Zr(e,r).next(n=>{n?this.Yr.delete(r.toString()):this.Yr.add(r.toString())})}$r(e){return 0}Zr(e,r){return G.or([()=>G.resolve(this.jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.zr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Qi=n,this.Ki=i}static $i(e,r){let n=we(),i=we();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dm(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,r){this.ji=e,this.indexManager=r,this.Ui=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Hi(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,r,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new xN;return this.Yi(e,r,o).next(f=>{if(s.result=f,this.Wi)return this.Zi(e,r,o,f.size)})}).next(()=>s.result)}Zi(e,r,n,i){return n.documentReadCount<this.Gi?(Vf()<=Te.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",J0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),G.resolve()):(Vf()<=Te.DEBUG&&ie("QueryEngine","Query:",J0(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.zi*i?(Vf()<=Te.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",J0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(r))):G.resolve())}Hi(e,r){if(My(r))return G.resolve(null);let n=ti(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=b5(r,null,"F"),n=ti(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=we(...s);return this.ji.getDocuments(e,o).next(f=>this.indexManager.getMinOffset(e,n).next(a=>{const l=this.Xi(r,f);return this.es(r,l,o,a.readTime)?this.Hi(e,b5(r,null,"F")):this.ts(e,l,r,a)}))})))}Ji(e,r,n,i){return My(r)||i.isEqual(me.min())?G.resolve(null):this.ji.getDocuments(e,n).next(s=>{const o=this.Xi(r,s);return this.es(r,o,n,i)?G.resolve(null):(Vf()<=Te.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),J0(r)),this.ts(e,o,r,oP(i,-1)).next(f=>f))})}Xi(e,r){let n=new wr(r3(e));return r.forEach((i,s)=>{Jh(e,s)&&(n=n.add(s))}),n}es(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,r,n){return Vf()<=Te.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",J0(r)),this.ji.getDocumentsMatchingQuery(e,r,Rs.min(),n)}ts(e,r,n,i){return this.ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,r,n,i){this.persistence=e,this.ns=r,this.serializer=i,this.rs=new xt(ke),this.ss=new yf(s=>xm(s),Rm),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(n)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vN(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.rs))}}function CN(t,e,r,n){return new kN(t,e,r,n)}async function I3(t,e){const r=ve(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.us(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],f=[];let a=we();for(const l of i){o.push(l.batchId);for(const u of l.mutations)a=a.add(u.key)}for(const l of s){f.push(l.batchId);for(const u of l.mutations)a=a.add(u.key)}return r.localDocuments.getDocuments(n,a).next(l=>({cs:l,removedBatchIds:o,addedBatchIds:f}))})})}function PN(t,e){const r=ve(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r._s.newChangeBuffer({trackRemovals:!0});return function(f,a,l,u){const h=l.batch,p=h.keys();let y=G.resolve();return p.forEach(w=>{y=y.next(()=>u.getEntry(a,w)).next(S=>{const P=l.docVersions.get(w);yt(P!==null),S.version.compareTo(P)<0&&(h.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),u.addEntry(S)))})}),y.next(()=>f.mutationQueue.removeMutationBatch(a,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(f){let a=we();for(let l=0;l<f.mutationResults.length;++l)f.mutationResults[l].transformResults.length>0&&(a=a.add(f.batch.mutations[l].key));return a}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function S3(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Kr.getLastRemoteSnapshotVersion(r))}function NN(t,e){const r=ve(t),n=e.snapshotVersion;let i=r.rs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r._s.newChangeBuffer({trackRemovals:!0});i=r.rs;const f=[];e.targetChanges.forEach((u,h)=>{const p=i.get(h);if(!p)return;f.push(r.Kr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>r.Kr.addMatchingKeys(s,u.addedDocuments,h)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Sr.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):u.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(u.resumeToken,n)),i=i.insert(h,y),function(S,P,v){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,y,u)&&f.push(r.Kr.updateTargetData(s,y))});let a=Ui(),l=we();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&f.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),f.push(MN(s,o,e.documentUpdates).next(u=>{a=u.ls,l=u.hs})),!n.isEqual(me.min())){const u=r.Kr.getLastRemoteSnapshotVersion(s).next(h=>r.Kr.setTargetsMetadata(s,s.currentSequenceNumber,n));f.push(u)}return G.waitFor(f).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,a,l)).next(()=>a)}).then(s=>(r.rs=i,s))}function MN(t,e,r){let n=we(),i=we();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=Ui();return r.forEach((f,a)=>{const l=s.get(f);a.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(f)),a.isNoDocument()&&a.version.isEqual(me.min())?(e.removeEntry(f,a.readTime),o=o.insert(f,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),o=o.insert(f,a)):ie("LocalStore","Ignoring outdated watch update for ",f,". Current version:",l.version," Watch version:",a.version)}),{ls:o,hs:i}})}function ON(t,e){const r=ve(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function DN(t,e){const r=ve(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Kr.getTargetData(n,e).next(s=>s?(i=s,G.resolve(i)):r.Kr.allocateTargetId(n).next(o=>(i=new hs(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Kr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.rs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.rs=r.rs.insert(n.targetId,n),r.ss.set(e,n.targetId)),n})}async function T5(t,e,r){const n=ve(t),i=n.rs.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Nl(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.rs=n.rs.remove(e),n.ss.delete(i.target)}function Gy(t,e,r){const n=ve(t);let i=me.min(),s=we();return n.persistence.runTransaction("Execute query","readwrite",o=>function(a,l,u){const h=ve(a),p=h.ss.get(u);return p!==void 0?G.resolve(h.rs.get(p)):h.Kr.getTargetData(l,u)}(n,o,ti(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,n.Kr.getMatchingKeysForTargetId(o,f.targetId).next(a=>{s=a})}).next(()=>n.ns.getDocumentsMatchingQuery(o,e,r?i:me.min(),r?s:we())).next(f=>(LN(n,xP(e),f),{documents:f,Ps:s})))}function LN(t,e,r){let n=t.os.get(e)||me.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.os.set(e,n)}class $y{constructor(){this.activeTargetIds=MP()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(){this.ro=new $y,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,r,n){this.io[e]=r}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new $y,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu=null;function M1(){return yu===null?yu=function(){return 268435456+Math.round(2147483648*Math.random())}():yu++,"0x"+yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class jN extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+r.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(r,n,i,s,o){const f=M1(),a=this.Do(r,n);ie("RestConnection",`Sending RPC '${r}' ${f}:`,a,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(l,s,o),this.vo(r,a,l,i).then(u=>(ie("RestConnection",`Received RPC '${r}' ${f}: `,u),u),u=>{throw zo("RestConnection",`RPC '${r}' ${f} failed with error: `,u,"url: ",a,"request:",i),u})}Fo(r,n,i,s,o,f){return this.bo(r,n,i,s,o)}Co(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gf}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>r[o]=s),i&&i.headers.forEach((s,o)=>r[o]=s)}Do(r,n){const i=FN[r];return`${this.po}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,i){const s=M1();return new Promise((o,f)=>{const a=new QC;a.setWithCredentials(!0),a.listenOnce(WC.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case P1.NO_ERROR:const u=a.getResponseJson();ie(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case P1.TIMEOUT:ie(hr,`RPC '${e}' ${s} timed out`),f(new Z(j.DEADLINE_EXCEEDED,"Request time out"));break;case P1.HTTP_ERROR:const h=a.getStatus();if(ie(hr,`RPC '${e}' ${s} failed with status:`,h,"response text:",a.getResponseText()),h>0){let p=a.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const w=function(P){const v=P.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(v)>=0?v:j.UNKNOWN}(y.status);f(new Z(w,y.message))}else f(new Z(j.UNKNOWN,"Server responded with status "+a.getStatus()))}else f(new Z(j.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ie(hr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ie(hr,`RPC '${e}' ${s} sending request:`,i),a.send(r,"POST",l,n,15)})}Mo(e,r,n){const i=M1(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$C(),f=qC(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Co(a.initMessageHeaders,r,n),a.encodeInitMessageHeaders=!0;const u=s.join("");ie(hr,`Creating RPC '${e}' stream ${i}: ${u}`,a);const h=o.createWebChannel(u,a);let p=!1,y=!1;const w=new BN({ho:P=>{y?ie(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(p||(ie(hr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ie(hr,`RPC '${e}' stream ${i} sending:`,P),h.send(P))},Po:()=>h.close()}),S=(P,v,b)=>{P.listen(v,T=>{try{b(T)}catch(M){setTimeout(()=>{throw M},0)}})};return S(h,pu.EventType.OPEN,()=>{y||ie(hr,`RPC '${e}' stream ${i} transport opened.`)}),S(h,pu.EventType.CLOSE,()=>{y||(y=!0,ie(hr,`RPC '${e}' stream ${i} transport closed`),w.mo())}),S(h,pu.EventType.ERROR,P=>{y||(y=!0,zo(hr,`RPC '${e}' stream ${i} transport errored:`,P),w.mo(new Z(j.UNAVAILABLE,"The operation could not be completed")))}),S(h,pu.EventType.MESSAGE,P=>{var v;if(!y){const b=P.data[0];yt(!!b);const T=b,M=T.error||((v=T[0])===null||v===void 0?void 0:v.error);if(M){ie(hr,`RPC '${e}' stream ${i} received error:`,M);const O=M.status;let V=function(W){const re=Vt[W];if(re!==void 0)return g3(re)}(O),B=M.message;V===void 0&&(V=j.INTERNAL,B="Unknown error status: "+O+" with message "+M.message),y=!0,w.mo(new Z(V,B)),h.close()}else ie(hr,`RPC '${e}' stream ${i} received:`,b),w.fo(b)}}),S(f,KC.STAT_EVENT,P=>{P.stat===Ay.PROXY?ie(hr,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Ay.NOPROXY&&ie(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Vo()},0),w}}function O1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){return new XP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,r,n=1e3,i=1.5,s=6e4){this._i=e,this.timerId=r,this.xo=n,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const r=Math.floor(this.Bo+this.Ko()),n=Math.max(0,Date.now()-this.ko),i=Math.max(0,r-n);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,r,n,i,s,o,f,a){this._i=e,this.Uo=n,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=f,this.listener=a,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new x3(e,r)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,r){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():r&&r.code===j.RESOURCE_EXHAUSTED?(Li(r.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):r&&r.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(r)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),r=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Go===r&&this.__(n,i)},n=>{e(()=>{const i=new Z(j.UNKNOWN,"Fetching auth token failed: "+n.message);return this.a_(i)})})}__(e,r){const n=this.o_(this.Go);this.stream=this.u_(e,r),this.stream.Io(()=>{n(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{n(()=>this.a_(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return r=>{this._i.enqueueAndForget(()=>this.Go===e?r():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zN extends R3{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}u_(e,r){return this.connection.Mo("Listen",e,r)}onMessage(e){this.Ho.reset();const r=tN(this.serializer,e),n=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?ni(o.readTime):me.min()}(e);return this.listener.c_(r,n)}l_(e){const r={};r.database=E5(this.serializer),r.addTarget=function(s,o){let f;const a=o.target;if(f=y5(a)?{documents:iN(s,a)}:{query:sN(s,a)},f.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){f.resumeToken=b3(s,o.resumeToken);const l=_5(s,o.expectedCount);l!==null&&(f.expectedCount=l)}else if(o.snapshotVersion.compareTo(me.min())>0){f.readTime=qc(s,o.snapshotVersion.toTimestamp());const l=_5(s,o.expectedCount);l!==null&&(f.expectedCount=l)}return f}(this.serializer,e);const n=fN(this.serializer,e);n&&(r.labels=n),this.n_(r)}h_(e){const r={};r.database=E5(this.serializer),r.removeTarget=e,this.n_(r)}}class HN extends R3{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,r){return this.connection.Mo("Write",e,r)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const r=nN(e.writeResults,e.commitTime),n=ni(e.commitTime);return this.listener.T_(n,r)}return yt(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=E5(this.serializer),this.n_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>rN(this.serializer,n))};this.n_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,r,n){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,r,n,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(j.UNKNOWN,i.toString())})}Fo(e,r,n,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,r,n,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(j.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class $N{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Li(r),this.p_=!1):ie("OnlineStateTracker",r)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{n.enqueueAndForget(async()=>{H0(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ve(a);l.F_.add(4),await Ll(l),l.O_.set("Unknown"),l.F_.delete(4),await rd(l)}(this))})}),this.O_=new $N(n,i)}}async function rd(t){if(H0(t))for(const e of t.M_)await e(!0)}async function Ll(t){for(const e of t.M_)await e(!1)}function k3(t,e){const r=ve(t);r.v_.has(e.targetId)||(r.v_.set(e.targetId,e),Vm(r)?Um(r):vf(r).Yo()&&Lm(r,e))}function C3(t,e){const r=ve(t),n=vf(r);r.v_.delete(e),n.Yo()&&P3(r,e),r.v_.size===0&&(n.Yo()?n.e_():H0(r)&&r.O_.set("Unknown"))}function Lm(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}vf(t).l_(e)}function P3(t,e){t.N_.Le(e),vf(t).h_(e)}function Um(t){t.N_=new KP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),vf(t).start(),t.O_.y_()}function Vm(t){return H0(t)&&!vf(t).Jo()&&t.v_.size>0}function H0(t){return ve(t).F_.size===0}function N3(t){t.N_=void 0}async function WN(t){t.v_.forEach((e,r)=>{Lm(t,e)})}async function KN(t,e){N3(t),Vm(t)?(t.O_.b_(e),Um(t)):t.O_.set("Unknown")}async function QN(t,e,r){if(t.O_.set("Online"),e instanceof v3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const f of s.targetIds)i.v_.has(f)&&(await i.remoteSyncer.rejectListen(f,o),i.v_.delete(f),i.N_.removeTarget(f))}(t,e)}catch(n){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Wc(t,n)}else if(e instanceof Hu?t.N_.Ge(e):e instanceof y3?t.N_.Xe(e):t.N_.He(e),!r.isEqual(me.min()))try{const n=await S3(t.localStore);r.compareTo(n)>=0&&await function(s,o){const f=s.N_._t(o);return f.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.v_.get(l);u&&s.v_.set(l,u.withResumeToken(a.resumeToken,o))}}),f.targetMismatches.forEach((a,l)=>{const u=s.v_.get(a);if(!u)return;s.v_.set(a,u.withResumeToken(Sr.EMPTY_BYTE_STRING,u.snapshotVersion)),P3(s,a);const h=new hs(u.target,a,l,u.sequenceNumber);Lm(s,h)}),s.remoteSyncer.applyRemoteEvent(f)}(t,r)}catch(n){ie("RemoteStore","Failed to raise snapshot:",n),await Wc(t,n)}}async function Wc(t,e,r){if(!Nl(e))throw e;t.F_.add(1),await Ll(t),t.O_.set("Offline"),r||(r=()=>S3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await r(),t.F_.delete(1),await rd(t)})}function M3(t,e){return e().catch(r=>Wc(t,r,e))}async function nd(t){const e=ve(t),r=Cs(e);let n=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;YN(e);)try{const i=await ON(e.localStore,n);if(i===null){e.C_.length===0&&r.e_();break}n=i.batchId,JN(e,i)}catch(i){await Wc(e,i)}O3(e)&&D3(e)}function YN(t){return H0(t)&&t.C_.length<10}function JN(t,e){t.C_.push(e);const r=Cs(t);r.Yo()&&r.I_&&r.d_(e.mutations)}function O3(t){return H0(t)&&!Cs(t).Jo()&&t.C_.length>0}function D3(t){Cs(t).start()}async function XN(t){Cs(t).A_()}async function ZN(t){const e=Cs(t);for(const r of t.C_)e.d_(r.mutations)}async function eM(t,e,r){const n=t.C_.shift(),i=Cm.from(n,e,r);await M3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nd(t)}async function tM(t,e){e&&Cs(t).I_&&await async function(n,i){if(function(o){return $P(o)&&o!==j.ABORTED}(i.code)){const s=n.C_.shift();Cs(n).Xo(),await M3(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await nd(n)}}(t,e),O3(t)&&D3(t)}async function Wy(t,e){const r=ve(t);r.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const n=H0(r);r.F_.add(3),await Ll(r),n&&r.O_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.F_.delete(3),await rd(r)}async function rM(t,e){const r=ve(t);e?(r.F_.delete(2),await rd(r)):e||(r.F_.add(2),await Ll(r),r.O_.set("Unknown"))}function vf(t){return t.B_||(t.B_=function(r,n,i){const s=ve(r);return s.V_(),new zN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:WN.bind(null,t),Eo:KN.bind(null,t),c_:QN.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),Vm(t)?Um(t):t.O_.set("Unknown")):(await t.B_.stop(),N3(t))})),t.B_}function Cs(t){return t.L_||(t.L_=function(r,n,i){const s=ve(r);return s.V_(),new HN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:XN.bind(null,t),Eo:tM.bind(null,t),E_:ZN.bind(null,t),T_:eM.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await nd(t)):(await t.L_.stop(),t.C_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,f=new Fm(e,r,o,i,s);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(t,e){if(Li("AsyncQueue",`${e}: ${t}`),Nl(t))return new Z(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.comparator=e?(r,n)=>e(r,n)||fe.comparator(r.key,n.key):(r,n)=>fe.comparator(r.key,n.key),this.keyedMap=Xf(),this.sortedSet=new xt(this.comparator)}static emptySet(e){return new Co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Co;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.k_=new xt(fe.comparator)}track(e){const r=e.doc.key,n=this.k_.get(r);n?e.type!==0&&n.type===3?this.k_=this.k_.insert(r,e):e.type===3&&n.type!==1?this.k_=this.k_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.k_=this.k_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.k_=this.k_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.k_=this.k_.remove(r):e.type===1&&n.type===2?this.k_=this.k_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.k_=this.k_.insert(r,{type:2,doc:e.doc}):he():this.k_=this.k_.insert(r,e)}q_(){const e=[];return this.k_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ko{constructor(e,r,n,i,s,o,f,a,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=f,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach(f=>{o.push({type:0,doc:f})}),new Ko(e,r,Co.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.Q_=void 0,this.listeners=[]}}class iM{constructor(){this.queries=new yf(e=>t3(e),Yh),this.onlineState="Unknown",this.K_=new Set}}async function jm(t,e){const r=ve(t),n=e.query;let i=!1,s=r.queries.get(n);if(s||(i=!0,s=new nM),i)try{s.Q_=await r.onListen(n)}catch(o){const f=Bm(o,`Initialization of query '${J0(e.query)}' failed`);return void e.onError(f)}r.queries.set(n,s),s.listeners.push(e),e.U_(r.onlineState),s.Q_&&e.W_(s.Q_)&&Hm(r)}async function zm(t,e){const r=ve(t),n=e.query;let i=!1;const s=r.queries.get(n);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return r.queries.delete(n),r.onUnlisten(n)}function sM(t,e){const r=ve(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const f of o.listeners)f.W_(i)&&(n=!0);o.Q_=i}}n&&Hm(r)}function oM(t,e,r){const n=ve(t),i=n.queries.get(e);if(i)for(const s of i.listeners)s.onError(r);n.queries.delete(e)}function Hm(t){t.K_.forEach(e=>{e.next()})}class Gm{constructor(e,r,n){this.query=e,this.G_=r,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ko(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.z_?this.H_(e)&&(this.G_.next(e),r=!0):this.J_(e,this.onlineState)&&(this.Y_(e),r=!0),this.j_=e,r}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let r=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),r=!0),r}J_(e,r){if(!e.fromCache)return!0;const n=r!=="Offline";return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const r=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.key=e}}class U3{constructor(e){this.key=e}}class fM{constructor(e,r){this.query=e,this.oa=r,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=we(),this.mutatedKeys=we(),this.ua=r3(e),this.ca=new Co(this.ua)}get la(){return this.oa}ha(e,r){const n=r?r.Pa:new Ky,i=r?r.ca:this.ca;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,f=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const p=i.get(u),y=Jh(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let P=!1;p&&y?p.data.isEqual(y.data)?w!==S&&(n.track({type:3,doc:y}),P=!0):this.Ia(p,y)||(n.track({type:2,doc:y}),P=!0,(a&&this.ua(y,a)>0||l&&this.ua(y,l)<0)&&(f=!0)):!p&&y?(n.track({type:0,doc:y}),P=!0):p&&!y&&(n.track({type:1,doc:p}),P=!0,(a||l)&&(f=!0)),P&&(y?(o=o.add(y),s=S?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{ca:o,Pa:n,es:f,mutatedKeys:s}}Ia(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((l,u)=>function(p,y){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return w(p)-w(y)}(l.type,u.type)||this.ua(l.doc,u.doc)),this.da(n);const o=r?this.Ta():[],f=this.aa.size===0&&this.current?1:0,a=f!==this._a;return this._a=f,s.length!==0||a?{snapshot:new Ko(this.query,e.ca,i,s,e.mutatedKeys,f===0,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ky,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(r=>this.oa=this.oa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.oa=this.oa.delete(r)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=we(),this.ca.forEach(n=>{this.Aa(n.key)&&(this.aa=this.aa.add(n.key))});const r=[];return e.forEach(n=>{this.aa.has(n)||r.push(new U3(n))}),this.aa.forEach(n=>{e.has(n)||r.push(new L3(n))}),r}Ra(e){this.oa=e.Ps,this.aa=we();const r=this.ha(e.documents);return this.applyChanges(r,!0)}Va(){return Ko.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class aM{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class lM{constructor(e){this.key=e,this.ma=!1}}class uM{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new yf(f=>t3(f),Yh),this.pa=new Map,this.ya=new Set,this.wa=new xt(fe.comparator),this.Sa=new Map,this.ba=new Mm,this.Da={},this.Ca=new Map,this.va=Wo.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function cM(t,e){const r=wM(t);let n,i;const s=r.ga.get(e);if(s)n=s.targetId,r.sharedClientState.addLocalQueryTarget(n),i=s.view.Va();else{const o=await DN(r.localStore,ti(e)),f=r.sharedClientState.addLocalQueryTarget(o.targetId);n=o.targetId,i=await hM(r,e,n,f==="current",o.resumeToken),r.isPrimaryClient&&k3(r.remoteStore,o)}return i}async function hM(t,e,r,n,i){t.Ma=(h,p,y)=>async function(S,P,v,b){let T=P.view.ha(v);T.es&&(T=await Gy(S.localStore,P.query,!1).then(({documents:V})=>P.view.ha(V,T)));const M=b&&b.targetChanges.get(P.targetId),O=P.view.applyChanges(T,S.isPrimaryClient,M);return Yy(S,P.targetId,O.Ea),O.snapshot}(t,h,p,y);const s=await Gy(t.localStore,e,!0),o=new fM(e,s.Ps),f=o.ha(s.documents),a=Dl.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=o.applyChanges(f,t.isPrimaryClient,a);Yy(t,r,l.Ea);const u=new aM(e,r,o);return t.ga.set(e,u),t.pa.has(r)?t.pa.get(r).push(e):t.pa.set(r,[e]),l.snapshot}async function dM(t,e){const r=ve(t),n=r.ga.get(e),i=r.pa.get(n.targetId);if(i.length>1)return r.pa.set(n.targetId,i.filter(s=>!Yh(s,e))),void r.ga.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await T5(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),C3(r.remoteStore,n.targetId),I5(r,n.targetId)}).catch(Pl)):(I5(r,n.targetId),await T5(r.localStore,n.targetId,!0))}async function pM(t,e,r){const n=AM(t);try{const i=await function(o,f){const a=ve(o),l=Ut.now(),u=f.reduce((y,w)=>y.add(w.key),we());let h,p;return a.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Ui(),S=we();return a._s.getEntries(y,u).next(P=>{w=P,w.forEach((v,b)=>{b.isValidDocument()||(S=S.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(y,w)).next(P=>{h=P;const v=[];for(const b of f){const T=BP(b,h.get(b.key).overlayedDocument);T!=null&&v.push(new Fs(b.key,T,qw(T.value.mapValue),ri.exists(!0)))}return a.mutationQueue.addMutationBatch(y,l,v,f)}).next(P=>{p=P;const v=P.applyToLocalDocumentSet(h,S);return a.documentOverlayCache.saveOverlays(y,P.batchId,v)})}).then(()=>({batchId:p.batchId,changes:i3(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,f,a){let l=o.Da[o.currentUser.toKey()];l||(l=new xt(ke)),l=l.insert(f,a),o.Da[o.currentUser.toKey()]=l}(n,i.batchId,r),await Ul(n,i.changes),await nd(n.remoteStore)}catch(i){const s=Bm(i,"Failed to persist write");r.reject(s)}}async function V3(t,e){const r=ve(t);try{const n=await NN(r.localStore,e);e.targetChanges.forEach((i,s)=>{const o=r.Sa.get(s);o&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?yt(o.ma):i.removedDocuments.size>0&&(yt(o.ma),o.ma=!1))}),await Ul(r,n,e)}catch(n){await Pl(n)}}function Qy(t,e,r){const n=ve(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ga.forEach((s,o)=>{const f=o.view.U_(e);f.snapshot&&i.push(f.snapshot)}),function(o,f){const a=ve(o);a.onlineState=f;let l=!1;a.queries.forEach((u,h)=>{for(const p of h.listeners)p.U_(f)&&(l=!0)}),l&&Hm(a)}(n.eventManager,e),i.length&&n.fa.c_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function mM(t,e,r){const n=ve(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Sa.get(e),s=i&&i.key;if(s){let o=new xt(fe.comparator);o=o.insert(s,gr.newNoDocument(s,me.min()));const f=we().add(s),a=new ed(me.min(),new Map,new xt(ke),o,f);await V3(n,a),n.wa=n.wa.remove(s),n.Sa.delete(e),$m(n)}else await T5(n.localStore,e,!1).then(()=>I5(n,e,r)).catch(Pl)}async function gM(t,e){const r=ve(t),n=e.batch.batchId;try{const i=await PN(r.localStore,e);B3(r,n,null),F3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ul(r,i)}catch(i){await Pl(i)}}async function yM(t,e,r){const n=ve(t);try{const i=await function(o,f){const a=ve(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,f).next(h=>(yt(h!==null),u=h.keys(),a.mutationQueue.removeMutationBatch(l,h))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,f)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(n.localStore,e);B3(n,e,r),F3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ul(n,i)}catch(i){await Pl(i)}}function F3(t,e){(t.Ca.get(e)||[]).forEach(r=>{r.resolve()}),t.Ca.delete(e)}function B3(t,e,r){const n=ve(t);let i=n.Da[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Da[n.currentUser.toKey()]=i}}function I5(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.pa.get(e))t.ga.delete(n),r&&t.fa.xa(n,r);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(n=>{t.ba.containsKey(n)||j3(t,n)})}function j3(t,e){t.ya.delete(e.path.canonicalString());const r=t.wa.get(e);r!==null&&(C3(t.remoteStore,r),t.wa=t.wa.remove(e),t.Sa.delete(r),$m(t))}function Yy(t,e,r){for(const n of r)n instanceof L3?(t.ba.addReference(n.key,e),vM(t,n)):n instanceof U3?(ie("SyncEngine","Document no longer in limbo: "+n.key),t.ba.removeReference(n.key,e),t.ba.containsKey(n.key)||j3(t,n.key)):he()}function vM(t,e){const r=e.key,n=r.path.canonicalString();t.wa.get(r)||t.ya.has(n)||(ie("SyncEngine","New document in limbo: "+r),t.ya.add(n),$m(t))}function $m(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const r=new fe(mt.fromString(e)),n=t.va.next();t.Sa.set(n,new lM(r)),t.wa=t.wa.insert(r,n),k3(t.remoteStore,new hs(ti(Qh(r.path)),n,"TargetPurposeLimboResolution",Em.ae))}}async function Ul(t,e,r){const n=ve(t),i=[],s=[],o=[];n.ga.isEmpty()||(n.ga.forEach((f,a)=>{o.push(n.Ma(a,e,r).then(l=>{if((l||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(a.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const u=Dm.$i(a.targetId,l);s.push(u)}}))}),await Promise.all(o),n.fa.c_(i),await async function(a,l){const u=ve(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>G.forEach(l,p=>G.forEach(p.Qi,y=>u.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>G.forEach(p.Ki,y=>u.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!Nl(h))throw h;ie("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const p=h.targetId;if(!h.fromCache){const y=u.rs.get(p),w=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(w);u.rs=u.rs.insert(p,S)}}}(n.localStore,s))}async function bM(t,e){const r=ve(t);if(!r.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const n=await I3(r.localStore,e);r.currentUser=e,function(s,o){s.Ca.forEach(f=>{f.forEach(a=>{a.reject(new Z(j.CANCELLED,o))})}),s.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ul(r,n.cs)}}function _M(t,e){const r=ve(t),n=r.Sa.get(e);if(n&&n.ma)return we().add(n.key);{let i=we();const s=r.pa.get(e);if(!s)return i;for(const o of s){const f=r.ga.get(o);i=i.unionWith(f.view.la)}return i}}function wM(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=V3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_M.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mM.bind(null,e),e.fa.c_=sM.bind(null,e.eventManager),e.fa.xa=oM.bind(null,e.eventManager),e}function AM(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Jy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return CN(this.persistence,new RN,e.initialUser,this.serializer)}createPersistence(e){return new IN(Om.Jr,this.serializer)}createSharedClientState(e){return new UN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class EM{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Qy(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bM.bind(null,this.syncEngine),await rM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iM}()}createDatastore(e){const r=td(e.databaseInfo.databaseId),n=function(s){return new jN(s)}(e.databaseInfo);return function(s,o,f,a){return new GN(s,o,f,a)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,o,f){return new qN(n,i,s,o,f)}(this.localStore,this.datastore,e.asyncQueue,r=>Qy(this.syncEngine,r,0),function(){return qy.C()?new qy:new VN}())}createSyncEngine(e,r){return function(i,s,o,f,a,l,u){const h=new uM(i,s,o,f,a,l);return u&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(r){const n=ve(r);ie("RemoteStore","RemoteStore shutting down."),n.F_.add(5),await Ll(n),n.x_.shutdown(),n.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=dr.UNAUTHENTICATED,this.clientId=Hw.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async s=>{ie("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Bm(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function D1(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await I3(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xy(t,e){t.asyncQueue.verifyOperationInProgress();const r=await SM(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(r,n),t.setCredentialChangeListener(i=>Wy(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Wy(e.remoteStore,s)),t._onlineComponents=e}function IM(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function SM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await D1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!IM(r))throw r;zo("Error using user provided cache. Falling back to memory cache: "+r),await D1(t,new Jy)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await D1(t,new Jy);return t._offlineComponents}async function z3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await Xy(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await Xy(t,new EM))),t._onlineComponents}function xM(t){return z3(t).then(e=>e.syncEngine)}async function Kc(t){const e=await z3(t),r=e.eventManager;return r.onListen=cM.bind(null,e.syncEngine),r.onUnlisten=dM.bind(null,e.syncEngine),r}function RM(t,e,r={}){const n=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,f,a,l){const u=new qm({next:p=>{o.enqueueAndForget(()=>zm(s,h));const y=p.docs.has(f);!y&&p.fromCache?l.reject(new Z(j.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&a&&a.source==="server"?l.reject(new Z(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new Gm(Qh(f.path),u,{includeMetadataChanges:!0,Z_:!0});return jm(s,h)}(await Kc(t),t.asyncQueue,e,r,n)),n.promise}function kM(t,e,r={}){const n=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,f,a,l){const u=new qm({next:p=>{o.enqueueAndForget(()=>zm(s,h)),p.fromCache&&a.source==="server"?l.reject(new Z(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new Gm(f,u,{includeMetadataChanges:!0,Z_:!0});return jm(s,h)}(await Kc(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e,r){if(!r)throw new Z(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CM(t,e,r,n){if(e===!0&&n===!0)throw new Z(j.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ev(t){if(!fe.isDocumentKey(t))throw new Z(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tv(t){if(fe.isDocumentKey(t))throw new Z(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=id(t);throw new Z(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new JC;switch(n.type){case"firstParty":return new tP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Z(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Zy.get(r);n&&(ie("ComponentProvider","Removing Datastore"),Zy.delete(r),n.terminate())}(this),Promise.resolve()}}function PM(t,e,r,n={}){var i;const s=(t=pn(t,sd))._getSettings(),o=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let f,a;if(typeof n.mockUserToken=="string")f=n.mockUserToken,a=dr.MOCK_USER;else{f=O_(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new Z(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new dr(l)}t._authCredentials=new XC(new zw(f,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new G0(this.firestore,e,this._query)}}class Ar{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ar(this.firestore,e,this._key)}}class Ts extends G0{constructor(e,r,n){super(e,r,Qh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ar(this.firestore,null,new fe(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function Qo(t,e,...r){if(t=_t(t),G3("collection","path",e),t instanceof sd){const n=mt.fromString(e,...r);return tv(n),new Ts(t,null,n)}{if(!(t instanceof Ar||t instanceof Ts))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(mt.fromString(e,...r));return tv(n),new Ts(t.firestore,null,n)}}function Cr(t,e,...r){if(t=_t(t),arguments.length===1&&(e=Hw.V()),G3("doc","path",e),t instanceof sd){const n=mt.fromString(e,...r);return ev(n),new Ar(t,null,new fe(n))}{if(!(t instanceof Ar||t instanceof Ts))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(mt.fromString(e,...r));return ev(n),new Ar(t.firestore,t instanceof Ts?t.converter:null,new fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new x3(this,"async_queue_retry"),this.ou=()=>{const r=O1();r&&ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Ho.$o()};const e=O1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const r=O1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const r=new ki;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!Nl(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const r=this.Za.then(()=>(this.ru=!0,e().catch(n=>{this.nu=n,this.ru=!1;const i=function(o){let f=o.message||"";return o.stack&&(f=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),f}(n);throw Li("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.ru=!1,n))));return this.Za=r,r}enqueueAfterDelay(e,r,n){this._u(),this.su.indexOf(e)>-1&&(r=0);const i=Fm.createAndSchedule(this,e,r,n,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&he()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const r of this.tu)if(r.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const r=this.tu.indexOf(e);this.tu.splice(r,1)}}function nv(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class C0 extends sd{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=function(){return new NM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$3(this),this._firestoreClient.terminate()}}function MM(t,e){const r=typeof t=="object"?t:Fp(),n=typeof t=="string"?t:e||"(default)",i=Th(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=P_("firestore");s&&PM(i,...s)}return i}function od(t){return t._firestoreClient||$3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $3(t){var e,r,n;const i=t._freezeSettings(),s=function(f,a,l,u){return new dP(f,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,H3(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new TM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(Sr.fromBase64String(e))}catch(r){throw new Z(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Yo(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Z(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Z(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Z(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^__.*__$/;class DM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ol(e,this.data,r,this.fieldTransforms)}}class q3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Fs(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function W3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class ad{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Eu({path:n,Ru:!1});return i.Vu(e),i}mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Eu({path:n,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Qc(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(W3(this.Tu)&&OM.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class LM{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||td(e)}wu(e,r,n,i=!1){return new ad({Tu:e,methodName:r,yu:n,path:vr.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Km(t){const e=t._freezeSettings(),r=td(t._databaseId);return new LM(t._databaseId,!!e.ignoreUndefinedProperties,r)}function UM(t,e,r,n,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,r,i);Ym("Data must be an object, but it was:",o,n);const f=K3(n,o);let a,l;if(s.merge)a=new Jr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const p=S5(e,h,r);if(!o.contains(p))throw new Z(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Y3(u,p)||u.push(p)}a=new Jr(u),l=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,l=o.fieldTransforms;return new DM(new Ur(f),a,l)}class ld extends Vl{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function VM(t,e,r){return new ad({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qm extends Vl{_toFieldTransform(e){return new h3(e.path,new Za)}isEqual(e){return e instanceof Qm}}class FM extends Vl{constructor(e,r){super(e),this.Su=r}_toFieldTransform(e){const r=VM(this,e,!0),n=this.Su.map(s=>bf(s,r)),i=new qo(n);return new h3(e.path,i)}isEqual(e){return this===e}}function BM(t,e,r,n){const i=t.wu(1,e,r);Ym("Data must be an object, but it was:",i,n);const s=[],o=Ur.empty();z0(n,(a,l)=>{const u=Jm(e,a,r);l=_t(l);const h=i.mu(u);if(l instanceof ld)s.push(u);else{const p=bf(l,h);p!=null&&(s.push(u),o.set(u,p))}});const f=new Jr(s);return new q3(o,f,i.fieldTransforms)}function jM(t,e,r,n,i,s){const o=t.wu(1,e,r),f=[S5(e,n,r)],a=[i];if(s.length%2!=0)throw new Z(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)f.push(S5(e,s[p])),a.push(s[p+1]);const l=[],u=Ur.empty();for(let p=f.length-1;p>=0;--p)if(!Y3(l,f[p])){const y=f[p];let w=a[p];w=_t(w);const S=o.mu(y);if(w instanceof ld)l.push(y);else{const P=bf(w,S);P!=null&&(l.push(y),u.set(y,P))}}const h=new Jr(l);return new q3(u,h,o.fieldTransforms)}function zM(t,e,r,n=!1){return bf(r,t.wu(n?4:3,e))}function bf(t,e){if(Q3(t=_t(t)))return Ym("Unsupported field value:",e,t),K3(t,e);if(t instanceof Vl)return function(n,i){if(!W3(i.Tu))throw i.gu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const f of n){let a=bf(f,i.fu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=_t(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return OP(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ut.fromDate(n);return{timestampValue:qc(i.serializer,s)}}if(n instanceof Ut){const s=new Ut(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qc(i.serializer,s)}}if(n instanceof Wm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yo)return{bytesValue:b3(i.serializer,n._byteString)};if(n instanceof Ar){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Nm(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.gu(`Unsupported field value: ${id(n)}`)}(t,e)}function K3(t,e){const r={};return Gw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):z0(t,(n,i)=>{const s=bf(i,e.Au(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function Q3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof Wm||t instanceof Yo||t instanceof Ar||t instanceof Vl)}function Ym(t,e,r){if(!Q3(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=id(r);throw n==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+n)}}function S5(t,e,r){if((e=_t(e))instanceof fd)return e._internalPath;if(typeof e=="string")return Jm(t,e);throw Qc("Field path arguments must be of type string or ",t,!1,void 0,r)}const HM=new RegExp("[~\\*/\\[\\]]");function Jm(t,e,r){if(e.search(HM)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new fd(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Qc(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let f=`Function ${e}() called with invalid data`;r&&(f+=" (via `toFirestore()`)"),f+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${n}`),o&&(a+=` in document ${i}`),a+=")"),new Z(j.INVALID_ARGUMENT,f+t+a)}function Y3(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Xm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class GM extends J3{data(){return super.data()}}function Xm(t,e){return typeof e=="string"?Jm(t,e):e instanceof fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class $M extends Zm{}function Jo(t,e,...r){let n=[];e instanceof Zm&&n.push(e),n=n.concat(r),function(s){const o=s.filter(a=>a instanceof eg).length,f=s.filter(a=>a instanceof ud).length;if(o>1||o>0&&f>0)throw new Z(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class ud extends $M{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new ud(e,r,n)}_apply(e){const r=this._parse(e);return Z3(e._query,r),new G0(e.firestore,e.converter,v5(e._query,r))}_parse(e){const r=Km(e.firestore);return function(s,o,f,a,l,u,h){let p;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Z(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){sv(h,u);const y=[];for(const w of h)y.push(iv(a,s,w));p={arrayValue:{values:y}}}else p=iv(a,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||sv(h,u),p=zM(f,o,h,u==="in"||u==="not-in");return Ht.create(l,u,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Xo(t,e,r){const n=e,i=Xm("where",t);return ud._create(i,n,r)}class eg extends Zm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new eg(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:On.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let o=i;const f=s.getFlattenedFilters();for(const a of f)Z3(o,a),o=v5(o,a)}(e._query,r),new G0(e.firestore,e.converter,v5(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iv(t,e,r){if(typeof(r=_t(r))=="string"){if(r==="")throw new Z(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e3(e)&&r.indexOf("/")!==-1)throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(mt.fromString(r));if(!fe.isDocumentKey(n))throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return xy(t,new fe(n))}if(r instanceof Ar)return xy(t,r._key);throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${id(r)}.`)}function sv(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z3(t,e){if(e.isInequality()){const n=km(t),i=e.field;if(n!==null&&!n.isEqual(i))throw new Z(j.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const s=Zw(t);s!==null&&qM(t,i,s)}const r=function(i,s){for(const o of i)for(const f of o.getFlattenedFilters())if(s.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Z(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function qM(t,e,r){if(!r.isEqual(e))throw new Z(j.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class WM{convertValue(e,r="none"){switch(k0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(R0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw he()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return z0(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertGeoPoint(e){return new Wm(jt(e.latitude),jt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Im(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){const r=ks(e);return new Ut(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=mt.fromString(e);yt(T3(n));const i=new Ja(n.get(1),n.get(3)),s=new fe(n.popFirst(5));return i.isEqual(r)||Li(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e4 extends J3{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Xm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Gu extends e4{data(e={}){return super.data(e)}}class t4{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new ea(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Gu(this._firestore,this._userDataWriter,n.key,n,new ea(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Z(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(f=>{const a=new Gu(i._firestore,i._userDataWriter,f.doc.key,f.doc,new ea(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(f=>s||f.type!==3).map(f=>{const a=new Gu(i._firestore,i._userDataWriter,f.doc.key,f.doc,new ea(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return f.type!==0&&(l=o.indexOf(f.doc.key),o=o.delete(f.doc.key)),f.type!==1&&(o=o.add(f.doc),u=o.indexOf(f.doc.key)),{type:QM(f.type),doc:a,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function QM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){t=pn(t,Ar);const e=pn(t.firestore,C0);return RM(od(e),t._key).then(r=>i4(e,t,r))}class tg extends WM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ar(this.firestore,null,r)}}function Zo(t){t=pn(t,G0);const e=pn(t.firestore,C0),r=od(e),n=new tg(e);return X3(t._query),kM(r,t._query).then(i=>new t4(e,n,t,i))}function ef(t,e,r){t=pn(t,Ar);const n=pn(t.firestore,C0),i=KM(t.converter,e,r);return n4(n,[UM(Km(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ri.none())])}function go(t,e,r,...n){t=pn(t,Ar);const i=pn(t.firestore,C0),s=Km(i);let o;return o=typeof(e=_t(e))=="string"||e instanceof fd?jM(s,"updateDoc",t._key,e,r,n):BM(s,"updateDoc",t._key,e),n4(i,[o.toMutation(t._key,ri.exists(!0))])}function r4(t,...e){var r,n,i;t=_t(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||nv(e[o])||(s=e[o],o++);const f={includeMetadataChanges:s.includeMetadataChanges};if(nv(e[o])){const h=e[o];e[o]=(r=h.next)===null||r===void 0?void 0:r.bind(h),e[o+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let a,l,u;if(t instanceof Ar)l=pn(t.firestore,C0),u=Qh(t._key.path),a={next:h=>{e[o]&&e[o](i4(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=pn(t,G0);l=pn(h.firestore,C0),u=h._query;const p=new tg(l);a={next:y=>{e[o]&&e[o](new t4(l,p,h,y))},error:e[o+1],complete:e[o+2]},X3(t._query)}return function(p,y,w,S){const P=new qm(S),v=new Gm(y,P,w);return p.asyncQueue.enqueueAndForget(async()=>jm(await Kc(p),v)),()=>{P.La(),p.asyncQueue.enqueueAndForget(async()=>zm(await Kc(p),v))}}(od(l),u,f,a)}function n4(t,e){return function(n,i){const s=new ki;return n.asyncQueue.enqueueAndForget(async()=>pM(await xM(n),i,s)),s.promise}(od(t),e)}function i4(t,e,r){const n=r.docs.get(e._key),i=new tg(t);return new e4(t,i,e._key,n,new ea(r.hasPendingWrites,r.fromCache),e.converter)}function Yc(){return new Qm("serverTimestamp")}function ov(...t){return new FM("arrayUnion",t)}(function(e,r=!0){(function(i){gf=i})(V0),E0(new xs("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),f=new C0(new ZC(n.getProvider("auth-internal")),new nP(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Z(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:r},s),f._setSettings(s),f},"PUBLIC").setMultipleInstances(!0)),Xn(Ey,"4.2.0",e),Xn(Ey,"4.2.0","esm2017")})();const JM={apiKey:"AIzaSyBzrSIvw3e6bPVCKK0sQ0YqAT4OM5IewZ0",authDomain:"chat2-176db.firebaseapp.com",projectId:"chat2-176db",storageBucket:"chat2-176db.appspot.com",messagingSenderId:"112598579821",appId:"1:112598579821:web:f4768ddd9033dc4feddd64",measurementId:"G-XPYWXE9QHR"};U_(JM);const _f=NR(),cd=jk(),Pt=MM(),Ln=L.createContext(),XM=({children:t})=>{const[e,r]=L.useState({});return L.useEffect(()=>{const n=bx(_f,i=>{r(i),console.log(i)});return()=>{n()}},[]),x.jsx(Ln.Provider,{value:{currentUser:e},children:t})},s4=()=>{const{currentUser:t}=L.useContext(Ln);return x.jsxs("div",{className:"navbar",children:[x.jsx("span",{className:"logo",children:"E-collector"}),x.jsxs("div",{className:"user",children:[x.jsx("img",{src:t.photoURL,alt:""}),x.jsx("span",{children:t.displayName}),x.jsx("button",{onClick:()=>_x(_f),children:"logout"})]})]})},ZM=()=>{const[t,e]=L.useState(""),[r,n]=L.useState(null),[i,s]=L.useState(!1),{currentUser:o}=L.useContext(Ln),f=async()=>{const u=Jo(Qo(Pt,"users"),Xo("displayName","==",t));try{(await Zo(u)).forEach(p=>{n(p.data())})}catch{s(!0)}},a=u=>{u.code==="Enter"&&f()},l=async()=>{const u=o.uid>r.uid?o.uid+r.uid:r.uid+o.uid;try{(await YM(Cr(Pt,"chats",u))).exists()||(await ef(Cr(Pt,"chats",u),{messages:[]}),await go(Cr(Pt,"userChats",o.uid),{[u+".userInfo"]:{uid:r.uid,displayName:r.displayName,photoURL:r.photoURL},[u+".date"]:Yc()}),await go(Cr(Pt,"userChats",r.uid),{[u+".userInfo"]:{uid:o.uid,displayName:o.displayName,photoURL:o.photoURL},[u+".date"]:Yc()}))}catch{}n(null),e("")};return x.jsxs("div",{className:"search",children:[x.jsx("div",{className:"searchForm",children:x.jsx("input",{type:"text",placeholder:"Find a user",onKeyDown:a,onChange:u=>e(u.target.value),value:t})}),i&&x.jsx("span",{children:"User not found!"}),r&&x.jsxs("div",{className:"userChat",onClick:l,children:[x.jsx("img",{src:r.photoURL,alt:""}),x.jsx("div",{className:"userChatInfo",children:x.jsx("span",{children:r.displayName})})]})]})},wf=L.createContext(),eO=({children:t})=>{const{currentUser:e}=L.useContext(Ln),r={chatId:"null",user:{}},n=(o,f)=>{switch(f.type){case"CHANGE_USER":return{user:f.payload,chatId:e.uid>f.payload.uid?e.uid+f.payload.uid:f.payload.uid+e.uid};default:return o}},[i,s]=L.useReducer(n,r);return x.jsx(wf.Provider,{value:{data:i,dispatch:s},children:t})},tO=()=>{var s;const[t,e]=L.useState([]),{currentUser:r}=L.useContext(Ln),{dispatch:n}=L.useContext(wf);L.useEffect(()=>{const o=()=>{const f=r4(Cr(Pt,"userChats",r.uid),a=>{e(a.data())});return()=>{f()}};r.uid&&o()},[r.uid]);const i=o=>{n({type:"CHANGE_USER",payload:o})};return x.jsx("div",{className:"chats",children:(s=Object.entries(t))==null?void 0:s.sort((o,f)=>f[1].date-o[1].date).map(o=>{var f;return x.jsxs("div",{className:"userChat",onClick:()=>i(o[1].userInfo),children:[x.jsx("img",{src:o[1].userInfo.photoURL,alt:""}),x.jsxs("div",{className:"userChatInfo",children:[x.jsx("span",{children:o[1].userInfo.displayName}),x.jsx("p",{children:(f=o[1].lastMessage)==null?void 0:f.text})]})]},o[0])})})},rO=()=>x.jsxs("div",{className:"sidebar",children:[x.jsx(s4,{}),x.jsx(ZM,{}),x.jsx(tO,{})]}),nO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmRjMjBmNTM2LTJhZjUtNGM3My05ZjZjLTAzMzkwY2JlN2VjMDwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PvItxZYAAAKwSURBVFiF7Ze9bhNBFIW/M2s7JqJAUKdKpJS8AwXpkRANzxAJ0cIbREi8AAUSSqBFUNDxBrQoilLTUeQPxzuHYmYdx3Y2tpdYSPGRVusdz5355ufeuQNLLbXUUrdbGi04ODgd+isSggR4Ut0pZRvZOASQoN+HjY07swPaZn//BElIKAQszcs13G5q264GKyRPxFhf716ybY0RKz2AJboS3dTofJLARmXJEagPxh70gR2RiivtxwBDCAGIwOMYvQu0mwBm2xVbP4Et0C/JGU+2jaS7wNFUgDE6ADEEPbJ1HxyB0AAwz5YegreA90ArRp+HACEUOxA/A99zP3HYtq7jMzCS+pI87wOK1dKC2/ltSdi8Ab8En+byMYixGZwAr5H3jHK21aANyX3wjs2LBH+16gCH1cCVL5nG7CRvJbbTN6Gu/UZ7a1bZ/JF4BdpOMydxzeCnncGmKkhh6zWwmYqcw7azU0zmvHFAKcUSCYE2bZy9ugo11EWxG1/iBCTZsk3M3luF6WvtF7UHDdalT2Aa31vAElvpaFMEh6HfmgZwAUucArbtYOurpGPbIQXw/2eJI4DNO+BJ2ocuMmTtTC4IMKWTkh/Y/gY8T2mcA6i8OObGZ3QqQNsNspkq1zU5OGP7A/AsQ7byeT3Rus5JKqhSDbLWbFqCCqDIza7Y/iQpgHZTEgGTIOsAOwC2uzV1plXVz+8M0odY2OxdDCD1di2glCrb/ihpg3+TsHaAwxD0JSG4bLdXOTs7FoS9VqujTqeg1yvrAfNWqzbNjxjj00bbb0ijuyTGSKfT9fl5T1A6xsBgIq8CzMcQpINd6TYW48W5ObcsKdgMEoOyTGlgCIVjNL1eb/LARgsOD09ptUS7DScnxh69gc0qke8d9Ptn2GZ19R5ra81vi0sttdRSt0F/AbV4QUoZ1kOTAAAAAElFTkSuQmCC",iO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmQyOGI5NDkyLTJiMDAtNDVjZC1iNDc4LTNjODM4YzMxZTZhMzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PgpJjy4AAAWJSURBVFiF7ZdNiGRXGYaf95xb3V01o+MYEzLOCNP2xDDgD+ImgRDQpSIuXKigmEBQSBaCC7Nyo5v8ICSrkIWB4EZ3BsVEQVEMBqIbYWAw00WRLDQOkwRnpqd+7j3ndXFuVZeZrs7tHhMXzge96Fvfud97vp/3ey/ctJv2vzUd9MBwOCYEI0HTCAmV98hgQ8I2UmRra/DeAhwOx4ABsBWBpMUbhG2AIOVcfCDGAZubB87DwqqujtvbY0r8RbBk05P4KNAHZhIjm/FgcJGdndsEOKVrhwYHELo4DYczIBZUKSCB5G+FwCvAOeBl8F9tX5D83atXT2A3nt+mZP5dBFhVvRZUUlUlbB61eRp82nZlu2e7knQS+JGUn4mxx/p6YwiUgr+LAO2M3QQ72NaXge9JJFtJkud/thOoBu7PmYdmsx7gqMO3YLch2d4ec+LEm1y6dIy6ji9JvstWI7kq04vKSEi2k6RoexvyWVCj/0Ao5SyDkDJnzvT3jd0pg5L1+uvHaZpwCvwpW4CjrUWfteAsKRSa0WmpulMKQFCZ6ADg0iZrSGI02r8/OwKUJCHpuKQKTPn/Or82j9imsn3SBjuHcoYIfMSGfv88Bfz+1rEHC8XZugieSMw57+1+lN+QRBMCr5XhUlxfH1DX+cfAaznrm9PpJjmnHgRGo3rlpHcCmHP22lpFjPqnzV/aqia3tabgtWTZC/I+D9UrkrE9u3bNAF8ql9A97QXr2WzK5csXV2azE1H3egOm00kAMuiHNp+VqGyathcpQGhakACP2HUOwe8DfT7G6a1leAC8JXEf8A9Jv+73j67MVacpHo3eIIQPUtfjOcjvSH5ivt5KWTUvL8BjMerhlDISP7D5fgllWjraXZDiXuCPQNjaGlzHmJ1KnFKf48dBCjlnC3gS9EXbf5K4Yuuq5Cvgl4GvheCH7Rzb45fagcqAS0fI7dC9BfoXc71xmAwOh9dYvnArFizBeLwT+v2jdwNnJUYp8aLkKYAdBAmpsuSP275T4hnb7wd+BXoc9KqdRmBB8h13HLsu/r49OBxOSakmhAAolu0BwOds3b+xceRu8IeAwoDiisSLNj+VeK7cP1Wgc7B+DiZPtaT9d5vfhyByRjaGvffhyhKPRmPspgVHBBJwEvQL4Lfgr0vasnXM1gdsH5N8Cvgq8HMp/07iYxKN7XWYYvOE7VfBP5NMzrkaDv/sy5cvEcLe2nFliS9cGCN5CZw+A/xS4vYWrG2HIljLa2wblCVkE8E7El+w/QdwkELe2ak1GKx5PjQxwubm6nW3Zwa3t8ctdgVQknQaeB58O3jmohoq7S7Zxbor9OMguZZ0xOYF0KchZJu4thaX1uM7254AQyiyvq7rnItWehZ8q6SZzVoLqw20C7Jkzm5XXg9cgzaAZyXWJKeqCpJsKSF53+ytBBjjUWxir9cjhPAVm3tLL9GT5kpkbxE1f174jp5EDXzC5kE7UKpitraOdPpm2RPgbNbQ78fU6wnwt3f3q99W0pWmuaCwHcqFeCBGB8mpI/2uBhgCmkwaUsonJe5qRUDY1X5dbFd+td1wNmd9sj3eGeEqRwHYnKF8EB3K1NZZUm4H66yLNOo8JHsStb3I0odLIHIroQ4h3gU4l97jlqWHhwe41P7zTF4nTjvDK5zo9vwt7+DeDeCSFtUypbSBOkMtK2wxLAD1fwWgxBzi33azp/qgJW7PeUGZcH6O/YYAgjJkinoOP7H9DeZf7oc0id+sr288lxI0zSzdIMDcyiUsbdxnT16SOEUp0UGyaCDavAXx6clkmguX6sYy2MryohQiuWl4aq+PpINY+6GleV/eEMAYB6Q0ASCl6cLvoNO87G/nZj4rMXbvln3DtaTK8trtmskVq3rl85v2f2v/BnSI93fiTohdAAAAAElFTkSuQmCC",sO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmNhNTE4ODMwLTBmMmYtNGY0NC1iYzQ2LWVlM2JlZmQ4MmIxNjwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PlV4Lz0AAANzSURBVFiF7ZVNixxlFIWfc6u6pyYzi7iImkUWSXqT+Ilg/Fhkl1VcuAn+BUFw7Q/wX7gRQXAl/gIFQQ0EBKMizkdGgpBFxF07091V97iot+ejZ4xuhTrQ0FWc973nPee+t2DAgAEDBgwYMOD/DJ31cnf3L6qqQUq6bkEmIYGkvHx5jUzY25sBpqqEBF1nbEmyAEfgiI62rYiAtoVMqCqQUKltOyyBbSaT5t8F7u7ukwlSX6eqyK6DIhA7Q3LaM+BwwwDS7sVSKj98eD8nk9eYzw8AA2g6XXhzc3ysfBd2lWUVk8n6CT2xKtCmFLGAlKIBXgJekWIT1MvX6Pghs6rqAL0AvAo8BeSlS89rOv0D29i9YxsbNcA1iRvABZvMXCBVbG76lIOnBBbno5fql9u2+0nie+Be17W/2r5p23ZEWW+bK23b3gP/AHwHfiBxR5JHo3Mh9eYDT0v6CvjZ5lvbDyDei6ix29jfh+1tn1JzAjs7+yUOVeAfQdf6SJGEbB5H8JzNY0hltpbWvpH8Zh9z31+SZqAXwVtABe5sPgPe6VPwcj+AN0B3gZjPm7x+/UjWGQ6iovuqxESyj3pLC+BCJrf6jWtLzQsSr9skaNmrc9trkG/bJmLRAc8At0tvlx7XrJS8LRnJoRXL6lPqdGjxCIo6oBfppfjNY9z1k0lIJQFsn+vfrSHlOjByH8XyFqscaukk58+f1HPGJdHy98hm3jvCXGIB1OX5bj8aGiDu2/xeRscMPC/tAfA1QNe1MR4/+s32VilTeJTD8Es5nC9ePNmDZwm0lCH5T+ADG2yv2R73wvkwk/uZCA4C8kDi/eJYY2sMroCPwF9KliRms2eReFdiatPYjG2PJH2+sdF8urGxToS6EthRHqsCt7cPkGCxWFDXNRK3JG4CYXMvIr9o25qIJLNDCtF3/A2Jt3qet2x9EtHRFzSgoB9b14A7wBp4t6rWP27bg1w2x5UrTenPfxC4s3PQWxsiM8vuPqRXVarrwgBXrzZsbU2JiJCURzxYLMRoVOYvuQwrpEj7iFfXDW07Y7l2Mjn35IgnkwbJjMdJXduFU5dftVhUzuyX7e3NmM3MdDrPVd547MOi0hg76T926Div6+blsomqOnVnz/4WQz99V59PWF/+r/JOFTi25klcrc6XAQMGDBgwYMCA/4K/AR9NvILUl7eBAAAAAElFTkSuQmCC",oO=({message:t})=>{const{currentUser:e}=L.useContext(Ln),{data:r}=L.useContext(wf),n=L.useRef();return L.useEffect(()=>{var i;(i=n.current)==null||i.scrollIntoView({behavior:"smooth"})},[t]),x.jsxs("div",{ref:n,className:`message ${t.senderId===e.uid&&"owner"}`,children:[x.jsxs("div",{className:"messageInfo",children:[x.jsx("img",{src:t.senderId===e.uid?e.photoURL:r.user.photoURL,alt:""}),x.jsx("span",{children:"just now"})]}),x.jsxs("div",{className:"messageContent",children:[x.jsx("p",{children:t.text}),t.img&&x.jsx("img",{src:t.img,alt:""})]})]})},fO=()=>{const[t,e]=L.useState([]),{data:r}=L.useContext(wf);return L.useEffect(()=>{const n=r4(Cr(Pt,"chats",r.chatId),i=>{i.exists()&&e(i.data().messages)});return()=>{n()}},[r.chatId]),x.jsx("div",{className:"messages",children:t.map(n=>x.jsx(oO,{message:n},n.id))})},aO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmCB8RAzQjvjAGAAAEuUlEQVRYw+2WbUyTVxTH/7cvdFiBOBCKqJCROlJETQQaUVpeu4mxH5ZCidkyUWOiuBmRaBRJIL4lhPnyZR/QxBpRtmqyhtWiRVeftsaAG0t0+AIuoqmausdMrUUstWcfNgh0ILBWlyX7f7p57rnn/s59zj33AP/rLxExZt9ZX2+PUan+FQAbpaVxHJH9w9bWd7mvYHiwSSwGACoSCP65u6mL2TMPH6bpS5dCHRmJAoWCrX72jJLv3MF3Ph9mb9+u9joc3O8FBdDv2wefSBTyjmWvX6OtszPQWl+fz3heBK9Kha8WLRqaJ0NMDLB4MW77/WSWyZAP4IlcjhqlMmxhp2dnC57qdDbKymJGo1CYmBgdjVqFIlDvdOKV1SqILC9/udHn01z3eofWOH+LiqJboZ8Aq4uKCijq6khXUYHPzpwZnuAqMzI4joirNJvDFuk46tZFRHArvV7upscznHDezT09rMHpZKoRVEEyGoXCjtTo6FAB0s/4fJjL83g8ffqkF3HGrVvtshcvOI6Ia+E4e+acOaFAcJX37nEc0agrd9GQlNSti4gINrZRURESGhtpkVgMpcuFWSoV7Tt6NNSTAEbUgYvZCQmitL4+vqip6W9G94uKAAD8li3u1pQUttXtRld+vo1CT8phB6Ks+Hi8EolwPS4u2IjVuly0FmCppaUyV2wsaePjoXC58pnfHzaAN2ng52PHJO+vX08b8/KAvDxI/H6WvG1bqJtPGkBz3eu98rFSOXhArydPQgJLb2tTJV679s4AAGDJg5cvoTcY3mRjNAqFCTXNzSx1yRKqKi5Wa3p7J/I7pYeHk+bm2mN27RrrphAxJnMcOYKj5eW0IzmZfWS1XjQkJYUNwLFLqWRRbW3Uuns3v/P06WAIR3FjI+kqKqB0uaA3mehSSorortV6wRAbGzKAjdLSApVmM30rlWIez8Oj1Y6E4A7U1FBtVRXm8Ty+1mik35eVQWCxoEChEPdbLDYav+JNCGCj2bMFm86fR09cHMkPHmQtCxbgi9u3hyA46+bNWLxnD37xeLCypERddfNmZtbgoDSytJQ1OJ1Iz84WfGoyWXokkikDtFtjYgRLzWaUzZ2LBadOqROrq1VVjx7531Or8cONG/BotZAcOoT9Ph9UOp36x6tXh9ZmZvb3S26tWIGfurqwvrBQ+sJoHKtwjQtwJSkyMuKBxYL9Cxcy07lz0jurVzMWCABAYafbzfY2NAAAJH6/4LFer86wWoN9KH99/tz/TUkJWG8vPFqt8MumJiLGJgUw+IlGgw9ycrC3o2Pggk6XmTU4OMpgVnU1OCK2bN263C6TaTw/hZ1udyBXo4HS5SJdRcUlpKdPCmDa5+3taFy7VlC7fPnIxmRIFL9mTaBWo1H5jx+fKI/yWV8fW5aTQ/2rVuWhu3tMo+GGxHH27EQOwyGu9f79Uc+xsO7Jkz9Dk8uJ3m5n7HDMmIEbMhnm8fxwVi6b+fAh12K3Y5ZKZX964sSlu83NlBL038MgQfO0aYHs6moExGIaaGkZlZGcVS5nB9rbaUdy8ts8AQDA3o4O4cniYhb8vSM1Onpgx4YNODR/Pps5dvEIReTxetmqy5dfbzEYwtFP/Pf1B63n8BCweUoHAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA4LTMxVDE3OjAzOjUyKzAwOjAwAqs7ggAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wOC0zMVQxNzowMzo1MiswMDowMHP2gz4AAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjItMDgtMzFUMTc6MDM6NTIrMDA6MDAk46LhAAAAAElFTkSuQmCC",lO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmCB8RBhBiyiCSAAACDklEQVRYw+2XPUgbcRjGn0vtUj8mzRDBUSeXkkgbHCS4xWiV1FWQkqWEwkF7yQUUOoTGFheziDpEJzPce5JIN48YMgnRkg4NnbocItr6kaXX4e2QEEqwekkuXXrP+D7Pvff7P8v/DrDVhPa809OU1DTyVCrkqVQoqWmqOxBoZ6dgNkiH8TguotFbzUg8PluOxVoBcJg9OS6iUQwZhvAxEuEXLpfj/eAgHkkShgwD72SZRqam2mni7tMnNY2IWQ1JUqOnhiSJiJlGDg461gBSHg8AGJOpVKNVn4lud+cA5O5uAJifPz1ttOozZ29v5wAaROFCgc7y+Vb9P9XVCgB8Xi8KbfjtNmClbAAbwAawAWyA1u6Ckq5j1OVSvo+PAwBytdk/a+DDzg4ACLl8XshVbz3hy/Z25wDObm4AIL3b0wMAvzaWlrCQSKCk6yjpOhYSCWNmeRkA9ry174LaM5aINo+PiZiJJybuyyorPh8RMz0pFq1rYDKbBQC8EcV7F55UM0Iok7GsAWXF6aT162siZtUny3/NlWKxalOXl5nH/f1mdpv+L1APg0HeTKcxKwh4ms065lZXf746OgKArm9jY44TUeTnfj+ImV8Hg3OjimIpQB3i7dYWXvb13Rp4dnXFnxcXzb68aQAASO8ODDxcD4eFT34/fx0eBgDkymXhx/7+g+TaWqB4ft7szv9bvwGBKNSBpuqWcAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOC0zMVQxNzowNjoxNiswMDowMJSH2i8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDgtMzFUMTc6MDY6MTYrMDA6MDDl2mKTAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIyLTA4LTMxVDE3OjA2OjE2KzAwOjAwss9DTAAAAABJRU5ErkJggg==";let vu;const uO=new Uint8Array(16);function cO(){if(!vu&&(vu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vu(uO)}const tr=[];for(let t=0;t<256;++t)tr.push((t+256).toString(16).slice(1));function hO(t,e=0){return tr[t[e+0]]+tr[t[e+1]]+tr[t[e+2]]+tr[t[e+3]]+"-"+tr[t[e+4]]+tr[t[e+5]]+"-"+tr[t[e+6]]+tr[t[e+7]]+"-"+tr[t[e+8]]+tr[t[e+9]]+"-"+tr[t[e+10]]+tr[t[e+11]]+tr[t[e+12]]+tr[t[e+13]]+tr[t[e+14]]+tr[t[e+15]]}const dO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fv={randomUUID:dO};function $u(t,e,r){if(fv.randomUUID&&!e&&!t)return fv.randomUUID();t=t||{};const n=t.random||(t.rng||cO)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return hO(n)}const pO=()=>{const[t,e]=L.useState(""),[r,n]=L.useState(null),{currentUser:i}=L.useContext(Ln),{data:s}=L.useContext(wf),o=async()=>{if(r){const f=Ph(cd,$u()),a=kh(f,r);a.on(l=>{},()=>{Ch(a.snapshot.ref).then(async l=>{await go(Cr(Pt,"chats",s.chatId),{messages:ov({id:$u(),text:t,senderId:i.uid,date:Ut.now(),img:l})})})})}else await go(Cr(Pt,"chats",s.chatId),{messages:ov({id:$u(),text:t,senderId:i.uid,date:Ut.now()})});await go(Cr(Pt,"userChats",i.uid),{[s.chatId+".lastMessage"]:{text:t},[s.chatId+".date"]:Yc()}),await go(Cr(Pt,"userChats",s.user.uid),{[s.chatId+".lastMessage"]:{text:t},[s.chatId+".date"]:Yc()}),e(""),n(null)};return x.jsxs("div",{className:"input",children:[x.jsx("input",{type:"text",placeholder:"Type something...",onChange:f=>e(f.target.value),value:t}),x.jsxs("div",{className:"send",children:[x.jsx("img",{src:lO,alt:""}),x.jsx("input",{type:"file",style:{display:"none"},id:"file",onChange:f=>n(f.target.files[0])}),x.jsx("label",{htmlFor:"file",children:x.jsx("img",{src:aO,alt:""})}),x.jsx("button",{onClick:o,children:"Send"})]})]})},mO=()=>{var e;const{data:t}=L.useContext(wf);return x.jsxs("div",{className:"chat",children:[x.jsxs("div",{className:"chatInfo",children:[x.jsx("span",{children:(e=t.user)==null?void 0:e.displayName}),x.jsxs("div",{className:"chatIcons",children:[x.jsx("img",{src:nO,alt:""}),x.jsx("img",{src:iO,alt:""}),x.jsx("img",{src:sO,alt:""})]})]}),x.jsx(fO,{}),x.jsx(pO,{})]})},rg=()=>{const t=U0(),e=()=>{t(-1)};return x.jsx("div",{children:x.jsx("button",{onClick:e,children:"Get Back"})})},gO=()=>x.jsx("div",{children:x.jsx("div",{className:"friendsPage",children:x.jsxs("div",{className:"container",children:[x.jsx(rg,{}),x.jsx(rO,{}),x.jsx(mO,{})]})})}),yO=()=>(L.useContext(Ln),x.jsx("div",{className:"navbar",children:x.jsxs("div",{className:"container",children:[x.jsx("p",{children:x.jsx(bi,{to:"/friendsPage",children:"FriendsPage"})}),x.jsx("p",{children:x.jsx(bi,{to:"/publishVoucher",children:"PublishVoucher"})}),x.jsx("p",{children:x.jsx(bi,{to:"/transferVoucher",children:"TransferVoucher"})}),x.jsx("p",{children:x.jsx(bi,{to:"/myTokens",children:"MyTokens"})}),x.jsx("p",{children:x.jsx(bi,{to:"/myTokens2",children:"MyTokens2"})})]})})),vO=()=>{const[t,e]=L.useState(!1),r=U0(),n=async i=>{i.preventDefault();const s=i.target[0].value,o=i.target[1].value;try{await a9(_f,s,o),r("/")}catch{e(!0)}};return x.jsx("div",{className:"formContainer",children:x.jsxs("div",{className:"formWrapper",children:[x.jsx("span",{className:"logo",children:"Web3 Chat"}),x.jsx("span",{className:"title",children:"Login"}),x.jsxs("form",{onSubmit:n,children:[x.jsx("input",{type:"email",placeholder:"email"}),x.jsx("input",{type:"password",placeholder:"password"}),x.jsx("button",{children:"Sign in"}),t&&x.jsx("span",{children:"Something went wrong"})]}),x.jsxs("p",{children:["You don't have an account? ",x.jsx(bi,{to:"/register",children:"Register"})]})]})})},bO="_walletCard_13yng_2",_O="_interactionsCard_13yng_17",wO="_addressInput_13yng_28",AO="_button6_13yng_32",hn={walletCard:bO,interactionsCard:_O,addressInput:wO,button6:AO},EO=()=>{const[t,e]=L.useState(!1),[r,n]=L.useState("Connect Wallet"),[i,s]=L.useState(null),[o,f]=L.useState(null),a=U0(),l=()=>{window.ethereum&&window.ethereum.isMetaMask?window.ethereum.request({method:"eth_requestAccounts"}).then(p=>{u(p[0]),n("Wallet Connected")}).catch(p=>{s(p.message)}):(console.log("need to install metamask"),s("Please install MetaMask"))},u=p=>{f(p)},h=async p=>{p.preventDefault();const y=o,w=p.target[0].value;try{if(!y)throw e(!0),s("Please connect to your Metamask wallet"),new Error("Please connect to your Metamask wallet");const S=await Jo(Qo(Pt,"users"),Xo("address","==",y)),P=await Zo(S);if(P.empty)throw console.log(P.empty),e(!0),s(`Address:[${y}] has not been used for registration`),new Error(`Address:[${y}] has not been used to create a wallet`);const v=P.docs[0].data().email;try{await a9(_f,v,w),a("/")}catch{e(!0),s("Incorrect Password. Please try again.")}}catch{e(!0)}};return x.jsx("div",{className:"formContainer",children:x.jsxs("div",{className:"formWrapper",children:[x.jsxs("div",{children:[x.jsxs("h2",{children:[" ","Connect your Wallet"," "]}),x.jsxs("button",{className:hn.button6,onClick:l,children:[x.jsxs("h3",{children:["Address: ",o]}),r]})]}),x.jsx("span",{className:"logo",children:"Web3 Chat"}),x.jsx("span",{className:"title",children:"Login"}),x.jsxs("form",{onSubmit:h,children:[x.jsx("input",{type:"password",placeholder:"password"}),x.jsx("button",{children:"Sign in"}),t&&x.jsx("span",{children:i})]}),x.jsxs("p",{children:["You don't have an account? ",x.jsx(bi,{to:"/register2",children:"Register"})]})]})})},ng="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gkBChonodWdTQAADIVJREFUeNrtnX1UVVXawH/PuUIIfgJOZoCjoGlOH0LaiFQiRuZ6tV5zFLUPy/xYoTLmV2Uqpk0141gqOKWVY8tE6XNqtUoE8c0JVxqpaX686kySuSwVGdEK5Z5n/rjca4If517u5ULc3z93sdfez372s5+zz3P2s88BAgQI0HgRfyvQ2FiTnv93NTt3Nt8wViFxccYyfQINC/NUnjlWnkfOnIHKP6P7948oT40XY/9+q+0DDuBjVo9Zn6dmUpJUShaSlUUqk+Cmm3zVn7wgT6Hbt8tV9vuRCROGfZ46SeSzzy5Z398G+rXimvibjMlIQQERugiCg+tMgROSAWfPEscKSE4e3j+lp0hRUfVqTfxloNzc3FxVm61yQMQCNDLSWGm2Q8LDGWW0h6ZNdVPlfyAkRFtLMYSE6H6jBWoY/tLXXeQBFWThQla7OfH3EIH+61/me8ZJZOhQI98+BBVhpxGG5OYyRVdAhw5XlON0uDCuQbOyHIXx8TX0rCuDrFpUqGpGRQXtsSdBly5mEfuQmBip4Dpo4jdH9DZSKTMhNNScr8Hw4otut/8nh2HKlLTsfqNEFi50lq8+XdBTdcoU+VD/BAsWuC13sZEBcXFpm/t+LXLwoLPcZ4Zffbqgp5pXXy0LeAxJTJSl9iRo00adCsF1vurbn5jXmxuhZUuQVI8E5LMcTp+uXiwTuQ/OnMEzqdBO46FzZ+BrOO8AXl9S33xzwwbVhAQZYg6HQYMkR5dDmzbe7qfeEmlkg83mbbGy14wH8XzFHsJDaLNm1Yu9tgLkHMzfp+Ztt8kA8xHo2hUkEGJ6k3DjO9RmA43ypl1r7QCuK9418QEuylymw4EDPM1uWLpU5pEAZ87UqDdJ28CmTaRfWGyOlRKksNCYrsth3LjqzXQWxRAWxjGeRNPTaUtvJDb2Smp57ACue/wQ+w40Pj5wxV8ec5axANLSRo7s21ekuBi4+LN5+sXbj7in72yRr792/OX8/QX3O35yHl6/SM1Nm2grvWHr1ivp5XEM4Aru/i1vI7W4NwXwKrpVFiJBQVbru70C5HyybpSa0dGS0ciCu1pi3KX/Czk5OS/mz1UzK0teJg/5+ecaFatuAWnpd74vsmePs3j1PzY8o9qtmzHdXAe9e1dvZn7oePyUEYyDSZNAV1jRy20H0KQmu6FLF0Ete1kAYL2+A5060RaQRYs0k94XqyaZMuf8Pf68AxjLNAZNTtZM5iJLltRoV1z1gD0FSxPvxLIDOHfu7In6GERHU0fP8ZJPKhoSokNJQJKT+atMh4QEs6PeAW3b/qLeCjh6lEjuhi++MB7WxVBYqC0kDSoq6kJXn1JqXovY7d4OtCw7gGvLdpZeh/h+584s1wchOlqOGh8h6elM0t7QujWHdDGAHKrWwMZ9EB3NSYDoaG0q++H22zVR98DSpVIkXeHwYV/rzV8lHc6dY53WXtYv0C7Gl6AKmuBR+6n6EVJeXr3cchDo2qv3NaM0E8LDjbbyAWRkcEAnQevWbg/4WUyIiGCKIZCRoaskwhM5bvd73P4j1DS05fbOx7nq5Ut452LlVpEYIw9qpomtPwVUJWl8YLMLB/p/cg0MHqzTmAzNm9da4E5dCy1ayGC9GQYP9rX+xkDZBj/+SJE8D7t2uS2g6jk+5+H14Wrecsva5vkPqdmjh6zWFjBhgtvy3mUXfPll9RyAS1+rcpzZOV8Zzun5+jYPQYJHy9xl5WfqZEhIcCZrfDUOFw8SCqtWudKyVnFu4KRKLrJ1q7mMB5AtW2jOE/Db31qW4+x3tCTCxImXqmbdAarSsr6yl7yhZRATIx/yAvgg7RsqxWCzmc+ShcbE+GocrvHcryfg5EluJRZmz/Z4RXCXPBbDjh1XOgfgxHIwd0E+3gfbPvqS9ISQEHawsPbSLsPL5mQkJAQk06f9VOFyBACWLDEn6vsQGiqRtlBo3pwpmg3WN25qyO+jR6Gy0uwlm+DUKbXrCXTXrpH9U3qKcemJd1Jv8vBSKo9DWZni3ei5Rj8HmYWWlRGKzR9b164YARPHLzfXSmAR/QGMKrvZZ7mpT92b4OJIBN/DoUP0JBq9SJKktvL/Iq9Debn24/+RkhJ/j7e+UG8cQO/VD8A02c8TSF6e1zuo5C3Iy3PsB5imv8dbX6g3DuBSqL38HvLy+Eru/OVWqMeM4wzs3i1rmQ/5+f4eX32j3jmAayUAIDtbinkNPv1U1sgGx07YFbhXngLTlF7cgW7caCjvQnb2hXIDOKk3QWB15F1NhHPngBJ4803drK0gP58tZEP37syTz9FrrnHVn8YgOHJE+5prYNs2SqUP8sMP2s7fI6nf1FsHqI704iv4/nvHX598Atrhgih+BjsBBHnA37o2JOrdLSBA3RJwgEZOwAEaOQ0mBvi1YQaZ10GzZvzNGAy33Was4Tj06KEl7IV27eQL5sKxY9qfZ9DiYmM3KcjGjVrGLCgr85YeAQeoa8KJQjt3Nh5psh2ZOFEPmyMgOFiTiKqqEQWgI9gEv/kNkIzcfbd9CdPgrrukTFehr72mK6UZFBcbb5CGWHg8vgQBB/Ax5oOsQUWMJ+RGJD5ec3UuMnasIxdgnfNZUvkOGTNGDlCIRkU5Tjx98IGnO5yBGMBHaKIMAsOQ/5F+yMCBmqtvwdixXusg1bEyOCb+0Ud1sBR5klUMrABeRgfbukFQEAP0FXT0aHaby5Du3X3WXyZzISGBcn0eIiKMCvsbMG0aYGkLLLACeAlXUNfN/CfMmMFh3058DZwnhl6w/QGGDrXaLLAC1BLZxusQGSmZRjlMn45NRzheD28YBFYATwliDsTGmj/LUsjMpDtlDWninTSgFcCYB2A8oyVocLC9JddDSIh25DhSWclbegP600+1fSy6Uv86QG+HXr3oqRth1CjW6UB/W6Y21GMHcBjcvN18Be3cWe7QCcjQoXZTFyPR0ZzkFIAU4/j+TleaIkeO6Fxpia5dK3NkKrJ3L5huHpK6EMdjlmHwtHkt3HMPW9gI/fv72zreot45gHnEXAJNm8rfZSU6fLicZQxy661c6axgBduhXTvQx5HJk/UPZje0oEAKyETeeYdSyQS73aoe56P5ysfQ0aPZwrd1GtTVEZZjgKBgYyfiiwMVVUvrXGmJduki240w9NlnOasDHRPvId1kJ5KSYq40zsGMGSzmW4iJcV3R1QnXTLDZdLKuQDt1EsyDMGcOh+XqhjTx8h29EevvQlo/Fr5Cv0ErK4GB3jhNq+MdL30Sbr6LDBuG8jiSmMgWvvWqQYo1GNq3V3gdZs5kr1wPFRXmy9IVSkqMs7yKGob+mXKkfXtaUoI0aaI36pPe1KOu0FacgxMnsHis1vIKYKba76jNW7bOLVGzWDugcXFkyT5k/nyCuRcSE+vMQpPYDVddJUcdr2trqbZGYmN5lBa/hs/VyVNyGo4ds1rf8oAlWGKRU6cAy8IBuEVKoGlTYz5dkCFDtCP/gKQk5vv2/H9jRT80r0d/+MFqfcsOYD5kHEFLS43FGnS5W4DzSpcI/Qni4mSZZCLjxunr+ohXXvYMcFmMz2Q7bN9uub7VivvCPv0cOXbMjNJOVYc1L8R5pT/CNmTkSFpKCTJ1qk4LTHydcIMMg1On5NXSAbBjh9Vmbodza6ILQ1VTUszx9n1oXJyRwx6kY0ddI8Nh/Hjn69j+tkej40duhbVrh4/u11wkLc1qM7eDHnuYeRg9cMBoQnN4+mmdyT7o08cx8QH8hf7OuBaWLXO3ndu5gJF7U8LFOHSIZnyMeP+TqAHc5CzvQ1HR8J7J/4HCQnebe5wMModJKTp1Kq9yCior/W2HRkeV3Y0JlKN//KOIiHiQA/HYAUZGpowSY8sWpkkU+mSD3DRp0HzDazB79rDyfivFuPIXQS9Frff0VFVVRdasK/geXnqJk+xyfKgwgC+QT0iGpUvTVvaziaSn11qetxXM2VowSHXGDGL1Wpg3j3XcV5svYDR6nLfYqit++MF+H4k895y3xPvsGxk5N+ZHqnbvLkd4D7KzdQkV0KtX3Vit4SMTuQo2b5YKXkUzMmq71F+yn7oaUI6uV9U+fXjJuBvGjJHlmgQDBugsfg+tWtWVHvWOqg0cPtdv4OOPJVPvhOXLh5X02wwbNnga3FnFb1/5fuXlL7aqGRTUalpZFtx8s9mBj5AbbiCVBRAby0GZDJGRfKYzoUULWvGe4x8mNAycaVlXdi5GJ6LHj+vvjEVw9Kg+R3f46qvTb7fsBtu2jRt/Sw8xLrLDGiBAgAABAgQIECCAt/kvM0G98R+QJHEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDktMDFUMTA6MjY6MzkrMDA6MDCBjcn+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA5LTAxVDEwOjI2OjM5KzAwOjAw8NBxQgAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMi0wOS0wMVQxMDoyNjozOSswMDowMKfFUJ0AAAAASUVORK5CYII=",TO=()=>{const[t,e]=L.useState(!1),[r,n]=L.useState(!1),i=U0(),s=async o=>{n(!0),o.preventDefault();const f=o.target[0].value,a=o.target[1].value,l=o.target[2].value,u=o.target[3].files[0];try{const h=await f9(_f,a,l),p=new Date().getTime(),y=Ph(cd,`${f+p}`);await kh(y,u).then(()=>{Ch(y).then(async w=>{try{await l9(h.user,{displayName:f,photoURL:w}),await ef(Cr(Pt,"users",h.user.uid),{uid:h.user.uid,displayName:f,email:a,photoURL:w}),await ef(Cr(Pt,"userChats",h.user.uid),{}),i("/")}catch(S){console.log(S),e(!0),n(!1)}})})}catch{e(!0),n(!1)}};return x.jsx("div",{className:"formContainer",children:x.jsxs("div",{className:"formWrapper",children:[x.jsx("span",{className:"logo",children:"E-collector"}),x.jsx("span",{className:"title",children:"Register"}),x.jsxs("form",{onSubmit:s,children:[x.jsx("input",{required:!0,type:"text",placeholder:"display name"}),x.jsx("input",{required:!0,type:"email",placeholder:"email"}),x.jsx("input",{required:!0,type:"password",placeholder:"password"}),x.jsx("input",{required:!0,style:{display:"none"},type:"file",id:"file"}),x.jsxs("label",{htmlFor:"file",children:[x.jsx("img",{src:ng,alt:""}),x.jsx("span",{children:"Add an avatar"})]}),x.jsx("button",{disabled:r,children:"Sign up"}),r&&"Uploading and compressing the image please wait...",t&&x.jsx("span",{children:"Something went wrong"})]}),x.jsxs("p",{children:["You do have an account? ",x.jsx(bi,{to:"/login",children:"Login"})]})]})})},IO=()=>{const[t,e]=L.useState(!1),[r,n]=L.useState(!1),i=U0(),[s,o]=L.useState("Connect Wallet"),[f,a]=L.useState("Something went wrong"),[l,u]=L.useState(null),h=()=>{window.ethereum&&window.ethereum.isMetaMask?window.ethereum.request({method:"eth_requestAccounts"}).then(v=>{p(v[0]),o("Wallet Connected")}).catch(v=>{a(v.message)}):(console.log("need to install metamask"),a("Please install MetaMask"))},p=v=>{u(v)},y=async v=>{n(!0),v.preventDefault();const b=v.target[0].value,T=v.target[1].value,M=v.target[2].value,O=v.target[3].files[0],V=l;try{if(!V)throw e(!0),a("Please connect to your Metamask wallet"),new Error("Please connect to your Metamask wallet");const B=await Jo(Qo(Pt,"users"),Xo("email","==",T));if(!(await Zo(B)).empty)throw e(!0),a(`Email:[${T}] already exists`),new Error("Email already exists");const W=await Jo(Qo(Pt,"users"),Xo("address","==",V));if(!(await Zo(W)).empty)throw e(!0),a(`Address:[${V}] has already been used for registration`),new Error(`Address:[${V}] has already been used for registration`);const ue=await f9(_f,T,M),Me=new Date().getTime(),k=Ph(cd,`${b+Me}`);await kh(k,O).then(()=>{Ch(k).then(async c=>{try{await l9(ue.user,{displayName:b,photoURL:c}),await ef(Cr(Pt,"users",ue.user.uid),{uid:ue.user.uid,displayName:b,email:T,address:V,photoURL:c}),await ef(Cr(Pt,"userChats",ue.user.uid),{}),i("/")}catch(m){console.log(m),e(!0),n(!1)}})})}catch{e(!0),n(!1)}},[w,S]=L.useState(!1),P=v=>{v.target.files[0],S(!0)};return x.jsx("div",{className:"formContainer",children:x.jsxs("div",{className:"formWrapper",children:[x.jsxs("div",{children:[x.jsxs("h2",{children:[" ","Connect your wallet"," "]}),x.jsxs("button",{className:hn.button6,onClick:h,children:[x.jsxs("h3",{children:["Address: ",l]}),s]})]}),x.jsx("span",{className:"logo",children:"E-collector"}),x.jsx("span",{className:"title",children:"Register"}),x.jsxs("form",{onSubmit:y,children:[x.jsx("input",{required:!0,type:"text",placeholder:"display name"}),x.jsx("input",{required:!0,type:"email",placeholder:"email"}),x.jsx("input",{required:!0,type:"password",placeholder:"password"}),x.jsx("input",{required:!0,style:{display:"none"},type:"file",id:"file",onChange:P}),x.jsxs("label",{htmlFor:"file",children:[x.jsx("img",{src:ng,alt:""}),x.jsx("span",{children:"Add an profile picture"})]}),w&&x.jsx("p",{children:"Picture uploaded successfully!"}),x.jsx("button",{disabled:r,children:"Sign up"}),r&&"Uploading and compressing the image please wait...",t&&x.jsx("span",{children:f})]}),x.jsxs("p",{children:["You do have an account? ",x.jsx(bi,{to:"/login2",children:"Login"})]})]})})};var ig={exports:{}};const SO={},xO=Object.freeze(Object.defineProperty({__proto__:null,default:SO},Symbol.toStringTag,{value:"Module"})),RO=wA(xO);ig.exports;(function(t){(function(e,r){function n(k,c){if(!k)throw new Error(c||"Assertion failed")}function i(k,c){k.super_=c;var m=function(){};m.prototype=c.prototype,k.prototype=new m,k.prototype.constructor=k}function s(k,c,m){if(s.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((c==="le"||c==="be")&&(m=c,c=10),this._init(k||0,c||10,m||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=RO.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,m){return c.cmp(m)>0?c:m},s.min=function(c,m){return c.cmp(m)<0?c:m},s.prototype._init=function(c,m,_){if(typeof c=="number")return this._initNumber(c,m,_);if(typeof c=="object")return this._initArray(c,m,_);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),c=c.toString().replace(/\s+/g,"");var I=0;c[0]==="-"&&(I++,this.negative=1),I<c.length&&(m===16?this._parseHex(c,I,_):(this._parseBase(c,m,I),_==="le"&&this._initArray(this.toArray(),m,_)))},s.prototype._initNumber=function(c,m,_){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),m,_)},s.prototype._initArray=function(c,m,_){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var A,C,N=0;if(_==="be")for(I=c.length-1,A=0;I>=0;I-=3)C=c[I]|c[I-1]<<8|c[I-2]<<16,this.words[A]|=C<<N&67108863,this.words[A+1]=C>>>26-N&67108863,N+=24,N>=26&&(N-=26,A++);else if(_==="le")for(I=0,A=0;I<c.length;I+=3)C=c[I]|c[I+1]<<8|c[I+2]<<16,this.words[A]|=C<<N&67108863,this.words[A+1]=C>>>26-N&67108863,N+=24,N>=26&&(N-=26,A++);return this._strip()};function f(k,c){var m=k.charCodeAt(c);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+k)}function a(k,c,m){var _=f(k,m);return m-1>=c&&(_|=f(k,m-1)<<4),_}s.prototype._parseHex=function(c,m,_){this.length=Math.ceil((c.length-m)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var A=0,C=0,N;if(_==="be")for(I=c.length-1;I>=m;I-=2)N=a(c,m,I)<<A,this.words[C]|=N&67108863,A>=18?(A-=18,C+=1,this.words[C]|=N>>>26):A+=8;else{var E=c.length-m;for(I=E%2===0?m+1:m;I<c.length;I+=2)N=a(c,m,I)<<A,this.words[C]|=N&67108863,A>=18?(A-=18,C+=1,this.words[C]|=N>>>26):A+=8}this._strip()};function l(k,c,m,_){for(var I=0,A=0,C=Math.min(k.length,m),N=c;N<C;N++){var E=k.charCodeAt(N)-48;I*=_,E>=49?A=E-49+10:E>=17?A=E-17+10:A=E,n(E>=0&&A<_,"Invalid character"),I+=A}return I}s.prototype._parseBase=function(c,m,_){this.words=[0],this.length=1;for(var I=0,A=1;A<=67108863;A*=m)I++;I--,A=A/m|0;for(var C=c.length-_,N=C%I,E=Math.min(C,C-N)+_,d=0,R=_;R<E;R+=I)d=l(c,R,R+I,m),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(N!==0){var se=1;for(d=l(c,R,c.length,m),R=0;R<N;R++)se*=m;this.imuln(se),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var m=0;m<this.length;m++)c.words[m]=this.words[m];c.length=this.length,c.negative=this.negative,c.red=this.red};function u(k,c){k.words=c.words,k.length=c.length,k.negative=c.negative,k.red=c.red}if(s.prototype._move=function(c){u(c,this)},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,m){c=c||10,m=m|0||1;var _;if(c===16||c==="hex"){_="";for(var I=0,A=0,C=0;C<this.length;C++){var N=this.words[C],E=((N<<I|A)&16777215).toString(16);A=N>>>24-I&16777215,I+=2,I>=26&&(I-=26,C--),A!==0||C!==this.length-1?_=p[6-E.length]+E+_:_=E+_}for(A!==0&&(_=A.toString(16)+_);_.length%m!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(c===(c|0)&&c>=2&&c<=36){var d=y[c],R=w[c];_="";var se=this.clone();for(se.negative=0;!se.isZero();){var g=se.modrn(R).toString(c);se=se.idivn(R),se.isZero()?_=g+_:_=p[d-g.length]+g+_}for(this.isZero()&&(_="0"+_);_.length%m!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(c,m){return this.toArrayLike(o,c,m)}),s.prototype.toArray=function(c,m){return this.toArrayLike(Array,c,m)};var S=function(c,m){return c.allocUnsafe?c.allocUnsafe(m):new c(m)};s.prototype.toArrayLike=function(c,m,_){this._strip();var I=this.byteLength(),A=_||Math.max(1,I);n(I<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0");var C=S(c,A),N=m==="le"?"LE":"BE";return this["_toArrayLike"+N](C,I),C},s.prototype._toArrayLikeLE=function(c,m){for(var _=0,I=0,A=0,C=0;A<this.length;A++){var N=this.words[A]<<C|I;c[_++]=N&255,_<c.length&&(c[_++]=N>>8&255),_<c.length&&(c[_++]=N>>16&255),C===6?(_<c.length&&(c[_++]=N>>24&255),I=0,C=0):(I=N>>>24,C+=2)}if(_<c.length)for(c[_++]=I;_<c.length;)c[_++]=0},s.prototype._toArrayLikeBE=function(c,m){for(var _=c.length-1,I=0,A=0,C=0;A<this.length;A++){var N=this.words[A]<<C|I;c[_--]=N&255,_>=0&&(c[_--]=N>>8&255),_>=0&&(c[_--]=N>>16&255),C===6?(_>=0&&(c[_--]=N>>24&255),I=0,C=0):(I=N>>>24,C+=2)}if(_>=0)for(c[_--]=I;_>=0;)c[_--]=0},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var m=c,_=0;return m>=4096&&(_+=13,m>>>=13),m>=64&&(_+=7,m>>>=7),m>=8&&(_+=4,m>>>=4),m>=2&&(_+=2,m>>>=2),_+m},s.prototype._zeroBits=function(c){if(c===0)return 26;var m=c,_=0;return m&8191||(_+=13,m>>>=13),m&127||(_+=7,m>>>=7),m&15||(_+=4,m>>>=4),m&3||(_+=2,m>>>=2),m&1||_++,_},s.prototype.bitLength=function(){var c=this.words[this.length-1],m=this._countBits(c);return(this.length-1)*26+m};function P(k){for(var c=new Array(k.bitLength()),m=0;m<c.length;m++){var _=m/26|0,I=m%26;c[m]=k.words[_]>>>I&1}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,m=0;m<this.length;m++){var _=this._zeroBits(this.words[m]);if(c+=_,_!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var m=0;m<c.length;m++)this.words[m]=this.words[m]|c.words[m];return this._strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var m;this.length>c.length?m=c:m=this;for(var _=0;_<m.length;_++)this.words[_]=this.words[_]&c.words[_];return this.length=m.length,this._strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var m,_;this.length>c.length?(m=this,_=c):(m=c,_=this);for(var I=0;I<_.length;I++)this.words[I]=m.words[I]^_.words[I];if(this!==m)for(;I<m.length;I++)this.words[I]=m.words[I];return this.length=m.length,this._strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var m=Math.ceil(c/26)|0,_=c%26;this._expand(m),_>0&&m--;for(var I=0;I<m;I++)this.words[I]=~this.words[I]&67108863;return _>0&&(this.words[I]=~this.words[I]&67108863>>26-_),this._strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,m){n(typeof c=="number"&&c>=0);var _=c/26|0,I=c%26;return this._expand(_+1),m?this.words[_]=this.words[_]|1<<I:this.words[_]=this.words[_]&~(1<<I),this._strip()},s.prototype.iadd=function(c){var m;if(this.negative!==0&&c.negative===0)return this.negative=0,m=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,m=this.isub(c),c.negative=1,m._normSign();var _,I;this.length>c.length?(_=this,I=c):(_=c,I=this);for(var A=0,C=0;C<I.length;C++)m=(_.words[C]|0)+(I.words[C]|0)+A,this.words[C]=m&67108863,A=m>>>26;for(;A!==0&&C<_.length;C++)m=(_.words[C]|0)+A,this.words[C]=m&67108863,A=m>>>26;if(this.length=_.length,A!==0)this.words[this.length]=A,this.length++;else if(_!==this)for(;C<_.length;C++)this.words[C]=_.words[C];return this},s.prototype.add=function(c){var m;return c.negative!==0&&this.negative===0?(c.negative=0,m=this.sub(c),c.negative^=1,m):c.negative===0&&this.negative!==0?(this.negative=0,m=c.sub(this),this.negative=1,m):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var m=this.iadd(c);return c.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var _=this.cmp(c);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,A;_>0?(I=this,A=c):(I=c,A=this);for(var C=0,N=0;N<A.length;N++)m=(I.words[N]|0)-(A.words[N]|0)+C,C=m>>26,this.words[N]=m&67108863;for(;C!==0&&N<I.length;N++)m=(I.words[N]|0)+C,C=m>>26,this.words[N]=m&67108863;if(C===0&&N<I.length&&I!==this)for(;N<I.length;N++)this.words[N]=I.words[N];return this.length=Math.max(this.length,N),I!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function v(k,c,m){m.negative=c.negative^k.negative;var _=k.length+c.length|0;m.length=_,_=_-1|0;var I=k.words[0]|0,A=c.words[0]|0,C=I*A,N=C&67108863,E=C/67108864|0;m.words[0]=N;for(var d=1;d<_;d++){for(var R=E>>>26,se=E&67108863,g=Math.min(d,c.length-1),U=Math.max(0,d-k.length+1);U<=g;U++){var F=d-U|0;I=k.words[F]|0,A=c.words[U]|0,C=I*A+se,R+=C/67108864|0,se=C&67108863}m.words[d]=se|0,E=R|0}return E!==0?m.words[d]=E|0:m.length--,m._strip()}var b=function(c,m,_){var I=c.words,A=m.words,C=_.words,N=0,E,d,R,se=I[0]|0,g=se&8191,U=se>>>13,F=I[1]|0,z=F&8191,K=F>>>13,ae=I[2]|0,X=ae&8191,J=ae>>>13,wt=I[3]|0,te=wt&8191,ge=wt>>>13,js=I[4]|0,De=js&8191,Le=js>>>13,zs=I[5]|0,Ue=zs&8191,Ve=zs>>>13,Hs=I[6]|0,Fe=Hs&8191,Be=Hs>>>13,Gs=I[7]|0,je=Gs&8191,ze=Gs>>>13,$s=I[8]|0,He=$s&8191,Ge=$s>>>13,qs=I[9]|0,$e=qs&8191,qe=qs>>>13,Ws=A[0]|0,We=Ws&8191,Ke=Ws>>>13,Ks=A[1]|0,Qe=Ks&8191,Ye=Ks>>>13,Qs=A[2]|0,Je=Qs&8191,Xe=Qs>>>13,Ys=A[3]|0,Ze=Ys&8191,et=Ys>>>13,Js=A[4]|0,tt=Js&8191,rt=Js>>>13,Xs=A[5]|0,nt=Xs&8191,it=Xs>>>13,Zs=A[6]|0,st=Zs&8191,ot=Zs>>>13,e0=A[7]|0,ft=e0&8191,at=e0>>>13,t0=A[8]|0,lt=t0&8191,ut=t0>>>13,r0=A[9]|0,ct=r0&8191,ht=r0>>>13;_.negative=c.negative^m.negative,_.length=19,E=Math.imul(g,We),d=Math.imul(g,Ke),d=d+Math.imul(U,We)|0,R=Math.imul(U,Ke);var Gi=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,E=Math.imul(z,We),d=Math.imul(z,Ke),d=d+Math.imul(K,We)|0,R=Math.imul(K,Ke),E=E+Math.imul(g,Qe)|0,d=d+Math.imul(g,Ye)|0,d=d+Math.imul(U,Qe)|0,R=R+Math.imul(U,Ye)|0;var $i=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+($i>>>26)|0,$i&=67108863,E=Math.imul(X,We),d=Math.imul(X,Ke),d=d+Math.imul(J,We)|0,R=Math.imul(J,Ke),E=E+Math.imul(z,Qe)|0,d=d+Math.imul(z,Ye)|0,d=d+Math.imul(K,Qe)|0,R=R+Math.imul(K,Ye)|0,E=E+Math.imul(g,Je)|0,d=d+Math.imul(g,Xe)|0,d=d+Math.imul(U,Je)|0,R=R+Math.imul(U,Xe)|0;var qi=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(qi>>>26)|0,qi&=67108863,E=Math.imul(te,We),d=Math.imul(te,Ke),d=d+Math.imul(ge,We)|0,R=Math.imul(ge,Ke),E=E+Math.imul(X,Qe)|0,d=d+Math.imul(X,Ye)|0,d=d+Math.imul(J,Qe)|0,R=R+Math.imul(J,Ye)|0,E=E+Math.imul(z,Je)|0,d=d+Math.imul(z,Xe)|0,d=d+Math.imul(K,Je)|0,R=R+Math.imul(K,Xe)|0,E=E+Math.imul(g,Ze)|0,d=d+Math.imul(g,et)|0,d=d+Math.imul(U,Ze)|0,R=R+Math.imul(U,et)|0;var Wi=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,E=Math.imul(De,We),d=Math.imul(De,Ke),d=d+Math.imul(Le,We)|0,R=Math.imul(Le,Ke),E=E+Math.imul(te,Qe)|0,d=d+Math.imul(te,Ye)|0,d=d+Math.imul(ge,Qe)|0,R=R+Math.imul(ge,Ye)|0,E=E+Math.imul(X,Je)|0,d=d+Math.imul(X,Xe)|0,d=d+Math.imul(J,Je)|0,R=R+Math.imul(J,Xe)|0,E=E+Math.imul(z,Ze)|0,d=d+Math.imul(z,et)|0,d=d+Math.imul(K,Ze)|0,R=R+Math.imul(K,et)|0,E=E+Math.imul(g,tt)|0,d=d+Math.imul(g,rt)|0,d=d+Math.imul(U,tt)|0,R=R+Math.imul(U,rt)|0;var Ki=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,E=Math.imul(Ue,We),d=Math.imul(Ue,Ke),d=d+Math.imul(Ve,We)|0,R=Math.imul(Ve,Ke),E=E+Math.imul(De,Qe)|0,d=d+Math.imul(De,Ye)|0,d=d+Math.imul(Le,Qe)|0,R=R+Math.imul(Le,Ye)|0,E=E+Math.imul(te,Je)|0,d=d+Math.imul(te,Xe)|0,d=d+Math.imul(ge,Je)|0,R=R+Math.imul(ge,Xe)|0,E=E+Math.imul(X,Ze)|0,d=d+Math.imul(X,et)|0,d=d+Math.imul(J,Ze)|0,R=R+Math.imul(J,et)|0,E=E+Math.imul(z,tt)|0,d=d+Math.imul(z,rt)|0,d=d+Math.imul(K,tt)|0,R=R+Math.imul(K,rt)|0,E=E+Math.imul(g,nt)|0,d=d+Math.imul(g,it)|0,d=d+Math.imul(U,nt)|0,R=R+Math.imul(U,it)|0;var Id=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Id>>>26)|0,Id&=67108863,E=Math.imul(Fe,We),d=Math.imul(Fe,Ke),d=d+Math.imul(Be,We)|0,R=Math.imul(Be,Ke),E=E+Math.imul(Ue,Qe)|0,d=d+Math.imul(Ue,Ye)|0,d=d+Math.imul(Ve,Qe)|0,R=R+Math.imul(Ve,Ye)|0,E=E+Math.imul(De,Je)|0,d=d+Math.imul(De,Xe)|0,d=d+Math.imul(Le,Je)|0,R=R+Math.imul(Le,Xe)|0,E=E+Math.imul(te,Ze)|0,d=d+Math.imul(te,et)|0,d=d+Math.imul(ge,Ze)|0,R=R+Math.imul(ge,et)|0,E=E+Math.imul(X,tt)|0,d=d+Math.imul(X,rt)|0,d=d+Math.imul(J,tt)|0,R=R+Math.imul(J,rt)|0,E=E+Math.imul(z,nt)|0,d=d+Math.imul(z,it)|0,d=d+Math.imul(K,nt)|0,R=R+Math.imul(K,it)|0,E=E+Math.imul(g,st)|0,d=d+Math.imul(g,ot)|0,d=d+Math.imul(U,st)|0,R=R+Math.imul(U,ot)|0;var Sd=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Sd>>>26)|0,Sd&=67108863,E=Math.imul(je,We),d=Math.imul(je,Ke),d=d+Math.imul(ze,We)|0,R=Math.imul(ze,Ke),E=E+Math.imul(Fe,Qe)|0,d=d+Math.imul(Fe,Ye)|0,d=d+Math.imul(Be,Qe)|0,R=R+Math.imul(Be,Ye)|0,E=E+Math.imul(Ue,Je)|0,d=d+Math.imul(Ue,Xe)|0,d=d+Math.imul(Ve,Je)|0,R=R+Math.imul(Ve,Xe)|0,E=E+Math.imul(De,Ze)|0,d=d+Math.imul(De,et)|0,d=d+Math.imul(Le,Ze)|0,R=R+Math.imul(Le,et)|0,E=E+Math.imul(te,tt)|0,d=d+Math.imul(te,rt)|0,d=d+Math.imul(ge,tt)|0,R=R+Math.imul(ge,rt)|0,E=E+Math.imul(X,nt)|0,d=d+Math.imul(X,it)|0,d=d+Math.imul(J,nt)|0,R=R+Math.imul(J,it)|0,E=E+Math.imul(z,st)|0,d=d+Math.imul(z,ot)|0,d=d+Math.imul(K,st)|0,R=R+Math.imul(K,ot)|0,E=E+Math.imul(g,ft)|0,d=d+Math.imul(g,at)|0,d=d+Math.imul(U,ft)|0,R=R+Math.imul(U,at)|0;var xd=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(xd>>>26)|0,xd&=67108863,E=Math.imul(He,We),d=Math.imul(He,Ke),d=d+Math.imul(Ge,We)|0,R=Math.imul(Ge,Ke),E=E+Math.imul(je,Qe)|0,d=d+Math.imul(je,Ye)|0,d=d+Math.imul(ze,Qe)|0,R=R+Math.imul(ze,Ye)|0,E=E+Math.imul(Fe,Je)|0,d=d+Math.imul(Fe,Xe)|0,d=d+Math.imul(Be,Je)|0,R=R+Math.imul(Be,Xe)|0,E=E+Math.imul(Ue,Ze)|0,d=d+Math.imul(Ue,et)|0,d=d+Math.imul(Ve,Ze)|0,R=R+Math.imul(Ve,et)|0,E=E+Math.imul(De,tt)|0,d=d+Math.imul(De,rt)|0,d=d+Math.imul(Le,tt)|0,R=R+Math.imul(Le,rt)|0,E=E+Math.imul(te,nt)|0,d=d+Math.imul(te,it)|0,d=d+Math.imul(ge,nt)|0,R=R+Math.imul(ge,it)|0,E=E+Math.imul(X,st)|0,d=d+Math.imul(X,ot)|0,d=d+Math.imul(J,st)|0,R=R+Math.imul(J,ot)|0,E=E+Math.imul(z,ft)|0,d=d+Math.imul(z,at)|0,d=d+Math.imul(K,ft)|0,R=R+Math.imul(K,at)|0,E=E+Math.imul(g,lt)|0,d=d+Math.imul(g,ut)|0,d=d+Math.imul(U,lt)|0,R=R+Math.imul(U,ut)|0;var Rd=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Rd>>>26)|0,Rd&=67108863,E=Math.imul($e,We),d=Math.imul($e,Ke),d=d+Math.imul(qe,We)|0,R=Math.imul(qe,Ke),E=E+Math.imul(He,Qe)|0,d=d+Math.imul(He,Ye)|0,d=d+Math.imul(Ge,Qe)|0,R=R+Math.imul(Ge,Ye)|0,E=E+Math.imul(je,Je)|0,d=d+Math.imul(je,Xe)|0,d=d+Math.imul(ze,Je)|0,R=R+Math.imul(ze,Xe)|0,E=E+Math.imul(Fe,Ze)|0,d=d+Math.imul(Fe,et)|0,d=d+Math.imul(Be,Ze)|0,R=R+Math.imul(Be,et)|0,E=E+Math.imul(Ue,tt)|0,d=d+Math.imul(Ue,rt)|0,d=d+Math.imul(Ve,tt)|0,R=R+Math.imul(Ve,rt)|0,E=E+Math.imul(De,nt)|0,d=d+Math.imul(De,it)|0,d=d+Math.imul(Le,nt)|0,R=R+Math.imul(Le,it)|0,E=E+Math.imul(te,st)|0,d=d+Math.imul(te,ot)|0,d=d+Math.imul(ge,st)|0,R=R+Math.imul(ge,ot)|0,E=E+Math.imul(X,ft)|0,d=d+Math.imul(X,at)|0,d=d+Math.imul(J,ft)|0,R=R+Math.imul(J,at)|0,E=E+Math.imul(z,lt)|0,d=d+Math.imul(z,ut)|0,d=d+Math.imul(K,lt)|0,R=R+Math.imul(K,ut)|0,E=E+Math.imul(g,ct)|0,d=d+Math.imul(g,ht)|0,d=d+Math.imul(U,ct)|0,R=R+Math.imul(U,ht)|0;var kd=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(kd>>>26)|0,kd&=67108863,E=Math.imul($e,Qe),d=Math.imul($e,Ye),d=d+Math.imul(qe,Qe)|0,R=Math.imul(qe,Ye),E=E+Math.imul(He,Je)|0,d=d+Math.imul(He,Xe)|0,d=d+Math.imul(Ge,Je)|0,R=R+Math.imul(Ge,Xe)|0,E=E+Math.imul(je,Ze)|0,d=d+Math.imul(je,et)|0,d=d+Math.imul(ze,Ze)|0,R=R+Math.imul(ze,et)|0,E=E+Math.imul(Fe,tt)|0,d=d+Math.imul(Fe,rt)|0,d=d+Math.imul(Be,tt)|0,R=R+Math.imul(Be,rt)|0,E=E+Math.imul(Ue,nt)|0,d=d+Math.imul(Ue,it)|0,d=d+Math.imul(Ve,nt)|0,R=R+Math.imul(Ve,it)|0,E=E+Math.imul(De,st)|0,d=d+Math.imul(De,ot)|0,d=d+Math.imul(Le,st)|0,R=R+Math.imul(Le,ot)|0,E=E+Math.imul(te,ft)|0,d=d+Math.imul(te,at)|0,d=d+Math.imul(ge,ft)|0,R=R+Math.imul(ge,at)|0,E=E+Math.imul(X,lt)|0,d=d+Math.imul(X,ut)|0,d=d+Math.imul(J,lt)|0,R=R+Math.imul(J,ut)|0,E=E+Math.imul(z,ct)|0,d=d+Math.imul(z,ht)|0,d=d+Math.imul(K,ct)|0,R=R+Math.imul(K,ht)|0;var Cd=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Cd>>>26)|0,Cd&=67108863,E=Math.imul($e,Je),d=Math.imul($e,Xe),d=d+Math.imul(qe,Je)|0,R=Math.imul(qe,Xe),E=E+Math.imul(He,Ze)|0,d=d+Math.imul(He,et)|0,d=d+Math.imul(Ge,Ze)|0,R=R+Math.imul(Ge,et)|0,E=E+Math.imul(je,tt)|0,d=d+Math.imul(je,rt)|0,d=d+Math.imul(ze,tt)|0,R=R+Math.imul(ze,rt)|0,E=E+Math.imul(Fe,nt)|0,d=d+Math.imul(Fe,it)|0,d=d+Math.imul(Be,nt)|0,R=R+Math.imul(Be,it)|0,E=E+Math.imul(Ue,st)|0,d=d+Math.imul(Ue,ot)|0,d=d+Math.imul(Ve,st)|0,R=R+Math.imul(Ve,ot)|0,E=E+Math.imul(De,ft)|0,d=d+Math.imul(De,at)|0,d=d+Math.imul(Le,ft)|0,R=R+Math.imul(Le,at)|0,E=E+Math.imul(te,lt)|0,d=d+Math.imul(te,ut)|0,d=d+Math.imul(ge,lt)|0,R=R+Math.imul(ge,ut)|0,E=E+Math.imul(X,ct)|0,d=d+Math.imul(X,ht)|0,d=d+Math.imul(J,ct)|0,R=R+Math.imul(J,ht)|0;var Pd=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Pd>>>26)|0,Pd&=67108863,E=Math.imul($e,Ze),d=Math.imul($e,et),d=d+Math.imul(qe,Ze)|0,R=Math.imul(qe,et),E=E+Math.imul(He,tt)|0,d=d+Math.imul(He,rt)|0,d=d+Math.imul(Ge,tt)|0,R=R+Math.imul(Ge,rt)|0,E=E+Math.imul(je,nt)|0,d=d+Math.imul(je,it)|0,d=d+Math.imul(ze,nt)|0,R=R+Math.imul(ze,it)|0,E=E+Math.imul(Fe,st)|0,d=d+Math.imul(Fe,ot)|0,d=d+Math.imul(Be,st)|0,R=R+Math.imul(Be,ot)|0,E=E+Math.imul(Ue,ft)|0,d=d+Math.imul(Ue,at)|0,d=d+Math.imul(Ve,ft)|0,R=R+Math.imul(Ve,at)|0,E=E+Math.imul(De,lt)|0,d=d+Math.imul(De,ut)|0,d=d+Math.imul(Le,lt)|0,R=R+Math.imul(Le,ut)|0,E=E+Math.imul(te,ct)|0,d=d+Math.imul(te,ht)|0,d=d+Math.imul(ge,ct)|0,R=R+Math.imul(ge,ht)|0;var Nd=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Nd>>>26)|0,Nd&=67108863,E=Math.imul($e,tt),d=Math.imul($e,rt),d=d+Math.imul(qe,tt)|0,R=Math.imul(qe,rt),E=E+Math.imul(He,nt)|0,d=d+Math.imul(He,it)|0,d=d+Math.imul(Ge,nt)|0,R=R+Math.imul(Ge,it)|0,E=E+Math.imul(je,st)|0,d=d+Math.imul(je,ot)|0,d=d+Math.imul(ze,st)|0,R=R+Math.imul(ze,ot)|0,E=E+Math.imul(Fe,ft)|0,d=d+Math.imul(Fe,at)|0,d=d+Math.imul(Be,ft)|0,R=R+Math.imul(Be,at)|0,E=E+Math.imul(Ue,lt)|0,d=d+Math.imul(Ue,ut)|0,d=d+Math.imul(Ve,lt)|0,R=R+Math.imul(Ve,ut)|0,E=E+Math.imul(De,ct)|0,d=d+Math.imul(De,ht)|0,d=d+Math.imul(Le,ct)|0,R=R+Math.imul(Le,ht)|0;var Md=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Md>>>26)|0,Md&=67108863,E=Math.imul($e,nt),d=Math.imul($e,it),d=d+Math.imul(qe,nt)|0,R=Math.imul(qe,it),E=E+Math.imul(He,st)|0,d=d+Math.imul(He,ot)|0,d=d+Math.imul(Ge,st)|0,R=R+Math.imul(Ge,ot)|0,E=E+Math.imul(je,ft)|0,d=d+Math.imul(je,at)|0,d=d+Math.imul(ze,ft)|0,R=R+Math.imul(ze,at)|0,E=E+Math.imul(Fe,lt)|0,d=d+Math.imul(Fe,ut)|0,d=d+Math.imul(Be,lt)|0,R=R+Math.imul(Be,ut)|0,E=E+Math.imul(Ue,ct)|0,d=d+Math.imul(Ue,ht)|0,d=d+Math.imul(Ve,ct)|0,R=R+Math.imul(Ve,ht)|0;var Od=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Od>>>26)|0,Od&=67108863,E=Math.imul($e,st),d=Math.imul($e,ot),d=d+Math.imul(qe,st)|0,R=Math.imul(qe,ot),E=E+Math.imul(He,ft)|0,d=d+Math.imul(He,at)|0,d=d+Math.imul(Ge,ft)|0,R=R+Math.imul(Ge,at)|0,E=E+Math.imul(je,lt)|0,d=d+Math.imul(je,ut)|0,d=d+Math.imul(ze,lt)|0,R=R+Math.imul(ze,ut)|0,E=E+Math.imul(Fe,ct)|0,d=d+Math.imul(Fe,ht)|0,d=d+Math.imul(Be,ct)|0,R=R+Math.imul(Be,ht)|0;var Dd=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Dd>>>26)|0,Dd&=67108863,E=Math.imul($e,ft),d=Math.imul($e,at),d=d+Math.imul(qe,ft)|0,R=Math.imul(qe,at),E=E+Math.imul(He,lt)|0,d=d+Math.imul(He,ut)|0,d=d+Math.imul(Ge,lt)|0,R=R+Math.imul(Ge,ut)|0,E=E+Math.imul(je,ct)|0,d=d+Math.imul(je,ht)|0,d=d+Math.imul(ze,ct)|0,R=R+Math.imul(ze,ht)|0;var Ld=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Ld>>>26)|0,Ld&=67108863,E=Math.imul($e,lt),d=Math.imul($e,ut),d=d+Math.imul(qe,lt)|0,R=Math.imul(qe,ut),E=E+Math.imul(He,ct)|0,d=d+Math.imul(He,ht)|0,d=d+Math.imul(Ge,ct)|0,R=R+Math.imul(Ge,ht)|0;var Ud=(N+E|0)+((d&8191)<<13)|0;N=(R+(d>>>13)|0)+(Ud>>>26)|0,Ud&=67108863,E=Math.imul($e,ct),d=Math.imul($e,ht),d=d+Math.imul(qe,ct)|0,R=Math.imul(qe,ht);var Vd=(N+E|0)+((d&8191)<<13)|0;return N=(R+(d>>>13)|0)+(Vd>>>26)|0,Vd&=67108863,C[0]=Gi,C[1]=$i,C[2]=qi,C[3]=Wi,C[4]=Ki,C[5]=Id,C[6]=Sd,C[7]=xd,C[8]=Rd,C[9]=kd,C[10]=Cd,C[11]=Pd,C[12]=Nd,C[13]=Md,C[14]=Od,C[15]=Dd,C[16]=Ld,C[17]=Ud,C[18]=Vd,N!==0&&(C[19]=N,_.length++),_};Math.imul||(b=v);function T(k,c,m){m.negative=c.negative^k.negative,m.length=k.length+c.length;for(var _=0,I=0,A=0;A<m.length-1;A++){var C=I;I=0;for(var N=_&67108863,E=Math.min(A,c.length-1),d=Math.max(0,A-k.length+1);d<=E;d++){var R=A-d,se=k.words[R]|0,g=c.words[d]|0,U=se*g,F=U&67108863;C=C+(U/67108864|0)|0,F=F+N|0,N=F&67108863,C=C+(F>>>26)|0,I+=C>>>26,C&=67108863}m.words[A]=N,_=C,C=I}return _!==0?m.words[A]=_:m.length--,m._strip()}function M(k,c,m){return T(k,c,m)}s.prototype.mulTo=function(c,m){var _,I=this.length+c.length;return this.length===10&&c.length===10?_=b(this,c,m):I<63?_=v(this,c,m):I<1024?_=T(this,c,m):_=M(this,c,m),_},s.prototype.mul=function(c){var m=new s(null);return m.words=new Array(this.length+c.length),this.mulTo(c,m)},s.prototype.mulf=function(c){var m=new s(null);return m.words=new Array(this.length+c.length),M(this,c,m)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){var m=c<0;m&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var _=0,I=0;I<this.length;I++){var A=(this.words[I]|0)*c,C=(A&67108863)+(_&67108863);_>>=26,_+=A/67108864|0,_+=C>>>26,this.words[I]=C&67108863}return _!==0&&(this.words[I]=_,this.length++),m?this.ineg():this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var m=P(c);if(m.length===0)return new s(1);for(var _=this,I=0;I<m.length&&m[I]===0;I++,_=_.sqr());if(++I<m.length)for(var A=_.sqr();I<m.length;I++,A=A.sqr())m[I]!==0&&(_=_.mul(A));return _},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var m=c%26,_=(c-m)/26,I=67108863>>>26-m<<26-m,A;if(m!==0){var C=0;for(A=0;A<this.length;A++){var N=this.words[A]&I,E=(this.words[A]|0)-N<<m;this.words[A]=E|C,C=N>>>26-m}C&&(this.words[A]=C,this.length++)}if(_!==0){for(A=this.length-1;A>=0;A--)this.words[A+_]=this.words[A];for(A=0;A<_;A++)this.words[A]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,m,_){n(typeof c=="number"&&c>=0);var I;m?I=(m-m%26)/26:I=0;var A=c%26,C=Math.min((c-A)/26,this.length),N=67108863^67108863>>>A<<A,E=_;if(I-=C,I=Math.max(0,I),E){for(var d=0;d<C;d++)E.words[d]=this.words[d];E.length=C}if(C!==0)if(this.length>C)for(this.length-=C,d=0;d<this.length;d++)this.words[d]=this.words[d+C];else this.words[0]=0,this.length=1;var R=0;for(d=this.length-1;d>=0&&(R!==0||d>=I);d--){var se=this.words[d]|0;this.words[d]=R<<26-A|se>>>A,R=se&N}return E&&R!==0&&(E.words[E.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(c,m,_){return n(this.negative===0),this.iushrn(c,m,_)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var m=c%26,_=(c-m)/26,I=1<<m;if(this.length<=_)return!1;var A=this.words[_];return!!(A&I)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var m=c%26,_=(c-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(m!==0&&_++,this.length=Math.min(_,this.length),m!==0){var I=67108863^67108863>>>m<<m;this.words[this.length-1]&=I}return this._strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,m,_){var I=c.length+_,A;this._expand(I);var C,N=0;for(A=0;A<c.length;A++){C=(this.words[A+_]|0)+N;var E=(c.words[A]|0)*m;C-=E&67108863,N=(C>>26)-(E/67108864|0),this.words[A+_]=C&67108863}for(;A<this.length-_;A++)C=(this.words[A+_]|0)+N,N=C>>26,this.words[A+_]=C&67108863;if(N===0)return this._strip();for(n(N===-1),N=0,A=0;A<this.length;A++)C=-(this.words[A]|0)+N,N=C>>26,this.words[A]=C&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(c,m){var _=this.length-c.length,I=this.clone(),A=c,C=A.words[A.length-1]|0,N=this._countBits(C);_=26-N,_!==0&&(A=A.ushln(_),I.iushln(_),C=A.words[A.length-1]|0);var E=I.length-A.length,d;if(m!=="mod"){d=new s(null),d.length=E+1,d.words=new Array(d.length);for(var R=0;R<d.length;R++)d.words[R]=0}var se=I.clone()._ishlnsubmul(A,1,E);se.negative===0&&(I=se,d&&(d.words[E]=1));for(var g=E-1;g>=0;g--){var U=(I.words[A.length+g]|0)*67108864+(I.words[A.length+g-1]|0);for(U=Math.min(U/C|0,67108863),I._ishlnsubmul(A,U,g);I.negative!==0;)U--,I.negative=0,I._ishlnsubmul(A,1,g),I.isZero()||(I.negative^=1);d&&(d.words[g]=U)}return d&&d._strip(),I._strip(),m!=="div"&&_!==0&&I.iushrn(_),{div:d||null,mod:I}},s.prototype.divmod=function(c,m,_){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var I,A,C;return this.negative!==0&&c.negative===0?(C=this.neg().divmod(c,m),m!=="mod"&&(I=C.div.neg()),m!=="div"&&(A=C.mod.neg(),_&&A.negative!==0&&A.iadd(c)),{div:I,mod:A}):this.negative===0&&c.negative!==0?(C=this.divmod(c.neg(),m),m!=="mod"&&(I=C.div.neg()),{div:I,mod:C.mod}):this.negative&c.negative?(C=this.neg().divmod(c.neg(),m),m!=="div"&&(A=C.mod.neg(),_&&A.negative!==0&&A.isub(c)),{div:C.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?m==="div"?{div:this.divn(c.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modrn(c.words[0]))}:this._wordDiv(c,m)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var m=this.divmod(c);if(m.mod.isZero())return m.div;var _=m.div.negative!==0?m.mod.isub(c):m.mod,I=c.ushrn(1),A=c.andln(1),C=_.cmp(I);return C<0||A===1&&C===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modrn=function(c){var m=c<0;m&&(c=-c),n(c<=67108863);for(var _=(1<<26)%c,I=0,A=this.length-1;A>=0;A--)I=(_*I+(this.words[A]|0))%c;return m?-I:I},s.prototype.modn=function(c){return this.modrn(c)},s.prototype.idivn=function(c){var m=c<0;m&&(c=-c),n(c<=67108863);for(var _=0,I=this.length-1;I>=0;I--){var A=(this.words[I]|0)+_*67108864;this.words[I]=A/c|0,_=A%c}return this._strip(),m?this.ineg():this},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var m=this,_=c.clone();m.negative!==0?m=m.umod(c):m=m.clone();for(var I=new s(1),A=new s(0),C=new s(0),N=new s(1),E=0;m.isEven()&&_.isEven();)m.iushrn(1),_.iushrn(1),++E;for(var d=_.clone(),R=m.clone();!m.isZero();){for(var se=0,g=1;!(m.words[0]&g)&&se<26;++se,g<<=1);if(se>0)for(m.iushrn(se);se-- >0;)(I.isOdd()||A.isOdd())&&(I.iadd(d),A.isub(R)),I.iushrn(1),A.iushrn(1);for(var U=0,F=1;!(_.words[0]&F)&&U<26;++U,F<<=1);if(U>0)for(_.iushrn(U);U-- >0;)(C.isOdd()||N.isOdd())&&(C.iadd(d),N.isub(R)),C.iushrn(1),N.iushrn(1);m.cmp(_)>=0?(m.isub(_),I.isub(C),A.isub(N)):(_.isub(m),C.isub(I),N.isub(A))}return{a:C,b:N,gcd:_.iushln(E)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var m=this,_=c.clone();m.negative!==0?m=m.umod(c):m=m.clone();for(var I=new s(1),A=new s(0),C=_.clone();m.cmpn(1)>0&&_.cmpn(1)>0;){for(var N=0,E=1;!(m.words[0]&E)&&N<26;++N,E<<=1);if(N>0)for(m.iushrn(N);N-- >0;)I.isOdd()&&I.iadd(C),I.iushrn(1);for(var d=0,R=1;!(_.words[0]&R)&&d<26;++d,R<<=1);if(d>0)for(_.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(C),A.iushrn(1);m.cmp(_)>=0?(m.isub(_),I.isub(A)):(_.isub(m),A.isub(I))}var se;return m.cmpn(1)===0?se=I:se=A,se.cmpn(0)<0&&se.iadd(c),se},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var m=this.clone(),_=c.clone();m.negative=0,_.negative=0;for(var I=0;m.isEven()&&_.isEven();I++)m.iushrn(1),_.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;_.isEven();)_.iushrn(1);var A=m.cmp(_);if(A<0){var C=m;m=_,_=C}else if(A===0||_.cmpn(1)===0)break;m.isub(_)}while(!0);return _.iushln(I)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var m=c%26,_=(c-m)/26,I=1<<m;if(this.length<=_)return this._expand(_+1),this.words[_]|=I,this;for(var A=I,C=_;A!==0&&C<this.length;C++){var N=this.words[C]|0;N+=A,A=N>>>26,N&=67108863,this.words[C]=N}return A!==0&&(this.words[C]=A,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var m=c<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var _;if(this.length>1)_=1;else{m&&(c=-c),n(c<=67108863,"Number is too big");var I=this.words[0]|0;_=I===c?0:I<c?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var m=this.ucmp(c);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var m=0,_=this.length-1;_>=0;_--){var I=this.words[_]|0,A=c.words[_]|0;if(I!==A){I<A?m=-1:I>A&&(m=1);break}}return m},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new ue(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var O={k256:null,p224:null,p192:null,p25519:null};function V(k,c){this.name=k,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},V.prototype.ireduce=function(c){var m=c,_;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),_=m.bitLength();while(_>this.n);var I=_<this.n?-1:m.ucmp(this.p);return I===0?(m.words[0]=0,m.length=1):I>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},V.prototype.split=function(c,m){c.iushrn(this.n,0,m)},V.prototype.imulK=function(c){return c.imul(this.k)};function B(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(B,V),B.prototype.split=function(c,m){for(var _=4194303,I=Math.min(c.length,9),A=0;A<I;A++)m.words[A]=c.words[A];if(m.length=I,c.length<=9){c.words[0]=0,c.length=1;return}var C=c.words[9];for(m.words[m.length++]=C&_,A=10;A<c.length;A++){var N=c.words[A]|0;c.words[A-10]=(N&_)<<4|C>>>22,C=N}C>>>=22,c.words[A-10]=C,C===0&&c.length>10?c.length-=10:c.length-=9},B.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var m=0,_=0;_<c.length;_++){var I=c.words[_]|0;m+=I*977,c.words[_]=m&67108863,m=I*64+(m/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function H(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,V);function W(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,V);function re(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(re,V),re.prototype.imulK=function(c){for(var m=0,_=0;_<c.length;_++){var I=(c.words[_]|0)*19+m,A=I&67108863;I>>>=26,c.words[_]=A,m=I}return m!==0&&(c.words[c.length++]=m),c},s._prime=function(c){if(O[c])return O[c];var m;if(c==="k256")m=new B;else if(c==="p224")m=new H;else if(c==="p192")m=new W;else if(c==="p25519")m=new re;else throw new Error("Unknown prime "+c);return O[c]=m,m};function ue(k){if(typeof k=="string"){var c=s._prime(k);this.m=c.p,this.prime=c}else n(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}ue.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},ue.prototype._verify2=function(c,m){n((c.negative|m.negative)===0,"red works only with positives"),n(c.red&&c.red===m.red,"red works only with red numbers")},ue.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(u(c,c.umod(this.m)._forceRed(this)),c)},ue.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},ue.prototype.add=function(c,m){this._verify2(c,m);var _=c.add(m);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},ue.prototype.iadd=function(c,m){this._verify2(c,m);var _=c.iadd(m);return _.cmp(this.m)>=0&&_.isub(this.m),_},ue.prototype.sub=function(c,m){this._verify2(c,m);var _=c.sub(m);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},ue.prototype.isub=function(c,m){this._verify2(c,m);var _=c.isub(m);return _.cmpn(0)<0&&_.iadd(this.m),_},ue.prototype.shl=function(c,m){return this._verify1(c),this.imod(c.ushln(m))},ue.prototype.imul=function(c,m){return this._verify2(c,m),this.imod(c.imul(m))},ue.prototype.mul=function(c,m){return this._verify2(c,m),this.imod(c.mul(m))},ue.prototype.isqr=function(c){return this.imul(c,c.clone())},ue.prototype.sqr=function(c){return this.mul(c,c)},ue.prototype.sqrt=function(c){if(c.isZero())return c.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(c,_)}for(var I=this.m.subn(1),A=0;!I.isZero()&&I.andln(1)===0;)A++,I.iushrn(1);n(!I.isZero());var C=new s(1).toRed(this),N=C.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,E).cmp(N)!==0;)d.redIAdd(N);for(var R=this.pow(d,I),se=this.pow(c,I.addn(1).iushrn(1)),g=this.pow(c,I),U=A;g.cmp(C)!==0;){for(var F=g,z=0;F.cmp(C)!==0;z++)F=F.redSqr();n(z<U);var K=this.pow(R,new s(1).iushln(U-z-1));se=se.redMul(K),R=K.redSqr(),g=g.redMul(R),U=z}return se},ue.prototype.invm=function(c){var m=c._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},ue.prototype.pow=function(c,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return c.clone();var _=4,I=new Array(1<<_);I[0]=new s(1).toRed(this),I[1]=c;for(var A=2;A<I.length;A++)I[A]=this.mul(I[A-1],c);var C=I[0],N=0,E=0,d=m.bitLength()%26;for(d===0&&(d=26),A=m.length-1;A>=0;A--){for(var R=m.words[A],se=d-1;se>=0;se--){var g=R>>se&1;if(C!==I[0]&&(C=this.sqr(C)),g===0&&N===0){E=0;continue}N<<=1,N|=g,E++,!(E!==_&&(A!==0||se!==0))&&(C=this.mul(C,I[N]),E=0,N=0)}d=26}return C},ue.prototype.convertTo=function(c){var m=c.umod(this.m);return m===c?m.clone():m},ue.prototype.convertFrom=function(c){var m=c.clone();return m.red=null,m},s.mont=function(c){return new Me(c)};function Me(k){ue.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Me,ue),Me.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Me.prototype.convertFrom=function(c){var m=this.imod(c.mul(this.rinv));return m.red=null,m},Me.prototype.imul=function(c,m){if(c.isZero()||m.isZero())return c.words[0]=0,c.length=1,c;var _=c.imul(m),I=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=_.isub(I).iushrn(this.shift),C=A;return A.cmp(this.m)>=0?C=A.isub(this.m):A.cmpn(0)<0&&(C=A.iadd(this.m)),C._forceRed(this)},Me.prototype.mul=function(c,m){if(c.isZero()||m.isZero())return new s(0)._forceRed(this);var _=c.mul(m),I=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=_.isub(I).iushrn(this.shift),C=A;return A.cmp(this.m)>=0?C=A.isub(this.m):A.cmpn(0)<0&&(C=A.iadd(this.m)),C._forceRed(this)},Me.prototype.invm=function(c){var m=this.imod(c._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,i8)})(ig);var kO=ig.exports;const ye=al(kO),CO="logger/5.7.0";let av=!1,lv=!1;const qu={debug:1,default:2,info:2,warning:3,error:4,off:5};let uv=qu.default,L1=null;function PO(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const cv=PO();var x5;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(x5||(x5={}));var In;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(In||(In={}));const hv="0123456789abcdef";class D{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();qu[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(uv>qu[n])&&console.log.apply(console,r)}debug(...e){this._log(D.levels.DEBUG,e)}info(...e){this._log(D.levels.INFO,e)}warn(...e){this._log(D.levels.WARNING,e)}makeError(e,r,n){if(lv)return this.makeError("censored error",r,{});r||(r=D.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(a=>{const l=n[a];try{if(l instanceof Uint8Array){let u="";for(let h=0;h<l.length;h++)u+=hv[l[h]>>4],u+=hv[l[h]&15];i.push(a+"=Uint8Array(0x"+u+")")}else i.push(a+"="+JSON.stringify(l))}catch{i.push(a+"="+JSON.stringify(n[a].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case In.NUMERIC_FAULT:{o="NUMERIC_FAULT";const a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":o+="-"+a;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case In.CALL_EXCEPTION:case In.INSUFFICIENT_FUNDS:case In.MISSING_NEW:case In.NONCE_EXPIRED:case In.REPLACEMENT_UNDERPRICED:case In.TRANSACTION_REPLACED:case In.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const f=new Error(e);return f.reason=s,f.code=r,Object.keys(n).forEach(function(a){f[a]=n[a]}),f}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,D.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){cv&&this.throwError("platform missing String.prototype.normalize",D.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:cv})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,D.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,D.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,D.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,D.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",D.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",D.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",D.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return L1||(L1=new D(CO)),L1}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",D.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),av){if(!e)return;this.globalLogger().throwError("error censorship permanent",D.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}lv=!!e,av=!!r}static setLogLevel(e){const r=qu[e.toLowerCase()];if(r==null){D.globalLogger().warn("invalid log level - "+e);return}uv=r}static from(e){return new D(e)}}D.errors=In;D.levels=x5;const NO="bytes/5.7.0",kt=new D(NO);function o4(t){return!!t.toHexString}function Po(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Po(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function sg(t){return Ce(t)&&!(t.length%2)||hd(t)}function dv(t){return typeof t=="number"&&t==t&&t%1===0}function hd(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!dv(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!dv(r)||r<0||r>=256)return!1}return!0}function le(t,e){if(e||(e={}),typeof t=="number"){kt.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Po(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),o4(t)&&(t=t.toHexString()),Ce(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":kt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Po(new Uint8Array(n))}return hd(t)?Po(new Uint8Array(t)):kt.throwArgumentError("invalid arrayify value","value",t)}function Xr(t){const e=t.map(i=>le(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Po(n)}function tf(t){let e=le(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function MO(t,e){t=le(t),t.length>e&&kt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Po(r)}function Ce(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const U1="0123456789abcdef";function oe(t,e){if(e||(e={}),typeof t=="number"){kt.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=U1[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),o4(t))return t.toHexString();if(Ce(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":kt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(hd(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=U1[(i&240)>>4]+U1[i&15]}return r}return kt.throwArgumentError("invalid hexlify value","value",t)}function P0(t){if(typeof t!="string")t=oe(t);else if(!Ce(t)||t.length%2)return null;return(t.length-2)/2}function pr(t,e,r){return typeof t!="string"?t=oe(t):(!Ce(t)||t.length%2)&&kt.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Vr(t){let e="0x";return t.forEach(r=>{e+=oe(r).substring(2)}),e}function og(t){const e=OO(oe(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function OO(t){typeof t!="string"&&(t=oe(t)),Ce(t)||kt.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Nt(t,e){for(typeof t!="string"?t=oe(t):Ce(t)||kt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&kt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function dd(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(sg(t)){let r=le(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=oe(r.slice(0,32)),e.s=oe(r.slice(32,64))):r.length===65?(e.r=oe(r.slice(0,32)),e.s=oe(r.slice(32,64)),e.v=r[64]):kt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:kt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=oe(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=MO(le(e._vs),32);e._vs=oe(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&kt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=oe(i);e.s==null?e.s=o:e.s!==o&&kt.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?kt.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&kt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ce(e.r)?kt.throwArgumentError("signature missing or invalid r","signature",t):e.r=Nt(e.r,32),e.s==null||!Ce(e.s)?kt.throwArgumentError("signature missing or invalid s","signature",t):e.s=Nt(e.s,32);const r=le(e.s);r[0]>=128&&kt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=oe(r);e._vs&&(Ce(e._vs)||kt.throwArgumentError("signature invalid _vs","signature",t),e._vs=Nt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&kt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const DO="bignumber/5.7.0";var Jc=ye.BN;const mi=new D(DO),V1={},pv=9007199254740991;let mv=!1;class Q{constructor(e,r){e!==V1&&mi.throwError("cannot call constructor directly; use BigNumber.from",D.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Or(_e(this).fromTwos(e))}toTwos(e){return Or(_e(this).toTwos(e))}abs(){return this._hex[0]==="-"?Q.from(this._hex.substring(1)):this}add(e){return Or(_e(this).add(_e(e)))}sub(e){return Or(_e(this).sub(_e(e)))}div(e){return Q.from(e).isZero()&&on("division-by-zero","div"),Or(_e(this).div(_e(e)))}mul(e){return Or(_e(this).mul(_e(e)))}mod(e){const r=_e(e);return r.isNeg()&&on("division-by-zero","mod"),Or(_e(this).umod(r))}pow(e){const r=_e(e);return r.isNeg()&&on("negative-power","pow"),Or(_e(this).pow(r))}and(e){const r=_e(e);return(this.isNegative()||r.isNeg())&&on("unbound-bitwise-result","and"),Or(_e(this).and(r))}or(e){const r=_e(e);return(this.isNegative()||r.isNeg())&&on("unbound-bitwise-result","or"),Or(_e(this).or(r))}xor(e){const r=_e(e);return(this.isNegative()||r.isNeg())&&on("unbound-bitwise-result","xor"),Or(_e(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&on("negative-width","mask"),Or(_e(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&on("negative-width","shl"),Or(_e(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&on("negative-width","shr"),Or(_e(this).shrn(e))}eq(e){return _e(this).eq(_e(e))}lt(e){return _e(this).lt(_e(e))}lte(e){return _e(this).lte(_e(e))}gt(e){return _e(this).gt(_e(e))}gte(e){return _e(this).gte(_e(e))}isNegative(){return this._hex[0]==="-"}isZero(){return _e(this).isZero()}toNumber(){try{return _e(this).toNumber()}catch{on("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return mi.throwError("this platform does not support BigInt",D.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?mv||(mv=!0,mi.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?mi.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",D.errors.UNEXPECTED_ARGUMENT,{}):mi.throwError("BigNumber.toString does not accept parameters",D.errors.UNEXPECTED_ARGUMENT,{})),_e(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Q)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Q(V1,tl(e)):e.match(/^-?[0-9]+$/)?new Q(V1,tl(new Jc(e))):mi.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&on("underflow","BigNumber.from",e),(e>=pv||e<=-pv)&&on("overflow","BigNumber.from",e),Q.from(String(e));const r=e;if(typeof r=="bigint")return Q.from(r.toString());if(hd(r))return Q.from(oe(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Q.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ce(n)||n[0]==="-"&&Ce(n.substring(1))))return Q.from(n)}return mi.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function tl(t){if(typeof t!="string")return tl(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&mi.throwArgumentError("invalid hex","value",t),t=tl(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Or(t){return Q.from(tl(t))}function _e(t){const e=Q.from(t).toHexString();return e[0]==="-"?new Jc("-"+e.substring(3),16):new Jc(e.substring(2),16)}function on(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),mi.throwError(t,D.errors.NUMERIC_FAULT,n)}function LO(t){return new Jc(t,36).toString(16)}const UO="properties/5.7.0";var VO=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};const Xc=new D(UO);function q(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Qn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ft(t){return VO(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function FO(t,e){(!t||typeof t!="object")&&Xc.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Xc.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Wt(t){const e={};for(const r in t)e[r]=t[r];return e}const BO={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function f4(t){if(t==null||BO[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!f4(n))return!1}return!0}return Xc.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function jO(t){if(f4(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Vi(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&q(e,r,Vi(n))}return e}return Xc.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Vi(t){return jO(t)}class Fl{constructor(e){for(const r in e)this[r]=Vi(e[r])}}const Bl="abi/5.7.0",Ie=new D(Bl),N0={};let gv={calldata:!0,memory:!0,storage:!0},zO={calldata:!0,memory:!0};function bu(t,e){if(t==="bytes"||t==="string"){if(gv[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&zO[e])return!0;return(gv[e]||e==="payable")&&Ie.throwArgumentError("invalid modifier","name",e),!1}function HO(t,e){let r=t;function n(f){Ie.throwArgumentError(`unexpected character at position ${f}`,"param",t)}t=t.replace(/\s/g," ");function i(f){let a={type:"",name:"",parent:f,state:{allowType:!0}};return e&&(a.indexed=!1),a}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let f=0;f<t.length;f++){let a=t[f];switch(a){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(f),o.state.allowType=!1,o.type=eo(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(f),o.indexed=!0,o.name=""),bu(o.type,o.name)&&(o.name=""),o.type=eo(o.type);let l=o;o=o.parent,o||n(f),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(f),o.indexed=!0,o.name=""),bu(o.type,o.name)&&(o.name=""),o.type=eo(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=eo(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(f),o.indexed&&n(f),o.indexed=!0,o.name=""):bu(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(f),o.type+=a,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(f),o.type+=a,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=a,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=a,delete o.state.allowArray):o.state.readArray?o.type+=a:n(f)}}return o.parent&&Ie.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):bu(o.type,o.name)&&(o.name=""),s.type=eo(s.type),s}function Wu(t,e){for(let r in e)q(t,r,e[r])}const Re=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),GO=new RegExp(/^(.*)\[([0-9]*)\]$/);class Yt{constructor(e,r){e!==N0&&Ie.throwError("use fromString",D.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Wu(this,r);let n=this.type.match(GO);n?Wu(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Yt.fromObject({type:n[1],components:this.components}),baseType:"array"}):Wu(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Re.sighash),Re[e]||Ie.throwArgumentError("invalid format type","format",e),e===Re.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Re.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Re.full?", ":",")+")"):r+=this.type,e!==Re.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Re.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Yt.fromString(e,r):Yt.fromObject(e)}static fromObject(e){return Yt.isParamType(e)?e:new Yt(N0,{name:e.name||null,type:eo(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Yt.fromObject):null})}static fromString(e,r){function n(i){return Yt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(HO(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function rl(t,e){return qO(t).map(r=>Yt.fromString(r,e))}class Si{constructor(e,r){e!==N0&&Ie.throwError("use a static from method",D.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Wu(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Si.isFragment(e)?e:typeof e=="string"?Si.fromString(e):Si.fromObject(e)}static fromObject(e){if(Si.isFragment(e))return e;switch(e.type){case"function":return $n.fromObject(e);case"event":return _i.fromObject(e);case"constructor":return Gn.fromObject(e);case"error":return as.fromObject(e);case"fallback":case"receive":return null}return Ie.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?_i.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?$n.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Gn.fromString(e.trim()):e.split(" ")[0]==="error"?as.fromString(e.substring(5).trim()):Ie.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class _i extends Si{format(e){if(e||(e=Re.sighash),Re[e]||Ie.throwArgumentError("invalid format type","format",e),e===Re.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Re.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Re.full?", ":",")+") ",e!==Re.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?_i.fromString(e):_i.fromObject(e)}static fromObject(e){if(_i.isEventFragment(e))return e;e.type!=="event"&&Ie.throwArgumentError("invalid event object","value",e);const r={name:nl(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Yt.fromObject):[],type:"event"};return new _i(N0,r)}static fromString(e){let r=e.match(il);r||Ie.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Ie.warn("unknown modifier: "+i)}}),_i.fromObject({name:r[1].trim(),anonymous:n,inputs:rl(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function a4(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Ie.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ie.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Q.from(r[1]),r[0]):t}function l4(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function u4(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ie.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ie.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ie.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ie.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ie.throwArgumentError("unable to determine stateMutability","value",t),e}class Gn extends Si{format(e){if(e||(e=Re.sighash),Re[e]||Ie.throwArgumentError("invalid format type","format",e),e===Re.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Re.sighash&&Ie.throwError("cannot format a constructor for sighash",D.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Re.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Gn.fromString(e):Gn.fromObject(e)}static fromObject(e){if(Gn.isConstructorFragment(e))return e;e.type!=="constructor"&&Ie.throwArgumentError("invalid constructor object","value",e);let r=u4(e);r.constant&&Ie.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Yt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Q.from(e.gas):null};return new Gn(N0,n)}static fromString(e){let r={type:"constructor"};e=a4(e,r);let n=e.match(il);return(!n||n[1].trim()!=="constructor")&&Ie.throwArgumentError("invalid constructor string","value",e),r.inputs=rl(n[2].trim(),!1),l4(n[3].trim(),r),Gn.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class $n extends Gn{format(e){if(e||(e=Re.sighash),Re[e]||Ie.throwArgumentError("invalid format type","format",e),e===Re.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Re.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Re.full?", ":",")+") ",e!==Re.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?$n.fromString(e):$n.fromObject(e)}static fromObject(e){if($n.isFunctionFragment(e))return e;e.type!=="function"&&Ie.throwArgumentError("invalid function object","value",e);let r=u4(e);const n={type:e.type,name:nl(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Yt.fromObject):[],outputs:e.outputs?e.outputs.map(Yt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Q.from(e.gas):null};return new $n(N0,n)}static fromString(e){let r={type:"function"};e=a4(e,r);let n=e.split(" returns ");n.length>2&&Ie.throwArgumentError("invalid function string","value",e);let i=n[0].match(il);if(i||Ie.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&nl(r.name),r.inputs=rl(i[2],!1),l4(i[3].trim(),r),n.length>1){let s=n[1].match(il);(s[1].trim()!=""||s[3].trim()!="")&&Ie.throwArgumentError("unexpected tokens","value",e),r.outputs=rl(s[2],!1)}else r.outputs=[];return $n.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function yv(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ie.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class as extends Si{format(e){if(e||(e=Re.sighash),Re[e]||Ie.throwArgumentError("invalid format type","format",e),e===Re.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Re.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Re.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?as.fromString(e):as.fromObject(e)}static fromObject(e){if(as.isErrorFragment(e))return e;e.type!=="error"&&Ie.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:nl(e.name),inputs:e.inputs?e.inputs.map(Yt.fromObject):[]};return yv(new as(N0,r))}static fromString(e){let r={type:"error"},n=e.match(il);return n||Ie.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&nl(r.name),r.inputs=rl(n[2],!1),yv(as.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function eo(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const $O=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function nl(t){return(!t||!t.match($O))&&Ie.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const il=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function qO(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Ie.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const fg=new D(Bl);function WO(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(f){e.push({path:o,error:f})}}};return r([],t),e}class zi{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){fg.throwArgumentError(e,this.localName,r)}}class R5{constructor(e){q(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Vr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Xr(e._data))}writeBytes(e){let r=le(e);const n=r.length%this.wordSize;return n&&(r=Xr([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=le(Q.from(e));return r.length>this.wordSize&&fg.throwError("value out-of-bounds",D.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Xr([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Zc{constructor(e,r,n,i){q(this,"_data",le(e)),q(this,"wordSize",r||32),q(this,"_coerceFunc",n),q(this,"allowLoose",i),this._offset=0}get data(){return oe(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Zc.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:fg.throwError("data out-of-bounds",D.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Zc(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Q.from(this.readBytes(this.wordSize))}}var c4={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=i8:s&&(i=self);var f=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,a=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],p=[1,256,65536,16777216],y=[6,1536,393216,100663296],w=[0,8,16,24],S=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],P=[224,256,384,512],v=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],T={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"}),a&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(g){return typeof g=="object"&&g.buffer&&g.buffer.constructor===ArrayBuffer});for(var M=function(g,U,F){return function(z){return new d(g,U,g).update(z)[F]()}},O=function(g,U,F){return function(z,K){return new d(g,U,K).update(z)[F]()}},V=function(g,U,F){return function(z,K,ae,X){return c["cshake"+g].update(z,K,ae,X)[F]()}},B=function(g,U,F){return function(z,K,ae,X){return c["kmac"+g].update(z,K,ae,X)[F]()}},H=function(g,U,F,z){for(var K=0;K<b.length;++K){var ae=b[K];g[ae]=U(F,z,ae)}return g},W=function(g,U){var F=M(g,U,"hex");return F.create=function(){return new d(g,U,g)},F.update=function(z){return F.create().update(z)},H(F,M,g,U)},re=function(g,U){var F=O(g,U,"hex");return F.create=function(z){return new d(g,U,z)},F.update=function(z,K){return F.create(K).update(z)},H(F,O,g,U)},ue=function(g,U){var F=T[g],z=V(g,U,"hex");return z.create=function(K,ae,X){return!ae&&!X?c["shake"+g].create(K):new d(g,U,K).bytepad([ae,X],F)},z.update=function(K,ae,X,J){return z.create(ae,X,J).update(K)},H(z,V,g,U)},Me=function(g,U){var F=T[g],z=B(g,U,"hex");return z.create=function(K,ae,X){return new R(g,U,ae).bytepad(["KMAC",X],F).bytepad([K],F)},z.update=function(K,ae,X,J){return z.create(K,X,J).update(ae)},H(z,B,g,U)},k=[{name:"keccak",padding:p,bits:P,createMethod:W},{name:"sha3",padding:y,bits:P,createMethod:W},{name:"shake",padding:u,bits:v,createMethod:re},{name:"cshake",padding:h,bits:v,createMethod:ue},{name:"kmac",padding:h,bits:v,createMethod:Me}],c={},m=[],_=0;_<k.length;++_)for(var I=k[_],A=I.bits,C=0;C<A.length;++C){var N=I.name+"_"+A[C];if(m.push(N),c[N]=I.createMethod(A[C],I.padding),I.name!=="sha3"){var E=I.name+A[C];m.push(E),c[E]=c[N]}}function d(g,U,F){this.blocks=[],this.s=[],this.padding=U,this.outputBits=F,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(g<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=F>>5,this.extraBytes=(F&31)>>3;for(var z=0;z<50;++z)this.s[z]=0}d.prototype.update=function(g){if(this.finalized)throw new Error(r);var U,F=typeof g;if(F!=="string"){if(F==="object"){if(g===null)throw new Error(e);if(a&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!a||!ArrayBuffer.isView(g)))throw new Error(e)}else throw new Error(e);U=!0}for(var z=this.blocks,K=this.byteCount,ae=g.length,X=this.blockCount,J=0,wt=this.s,te,ge;J<ae;){if(this.reset)for(this.reset=!1,z[0]=this.block,te=1;te<X+1;++te)z[te]=0;if(U)for(te=this.start;J<ae&&te<K;++J)z[te>>2]|=g[J]<<w[te++&3];else for(te=this.start;J<ae&&te<K;++J)ge=g.charCodeAt(J),ge<128?z[te>>2]|=ge<<w[te++&3]:ge<2048?(z[te>>2]|=(192|ge>>6)<<w[te++&3],z[te>>2]|=(128|ge&63)<<w[te++&3]):ge<55296||ge>=57344?(z[te>>2]|=(224|ge>>12)<<w[te++&3],z[te>>2]|=(128|ge>>6&63)<<w[te++&3],z[te>>2]|=(128|ge&63)<<w[te++&3]):(ge=65536+((ge&1023)<<10|g.charCodeAt(++J)&1023),z[te>>2]|=(240|ge>>18)<<w[te++&3],z[te>>2]|=(128|ge>>12&63)<<w[te++&3],z[te>>2]|=(128|ge>>6&63)<<w[te++&3],z[te>>2]|=(128|ge&63)<<w[te++&3]);if(this.lastByteIndex=te,te>=K){for(this.start=te-K,this.block=z[X],te=0;te<X;++te)wt[te]^=z[te];se(wt),this.reset=!0}else this.start=te}return this},d.prototype.encode=function(g,U){var F=g&255,z=1,K=[F];for(g=g>>8,F=g&255;F>0;)K.unshift(F),g=g>>8,F=g&255,++z;return U?K.push(z):K.unshift(z),this.update(K),K.length},d.prototype.encodeString=function(g){var U,F=typeof g;if(F!=="string"){if(F==="object"){if(g===null)throw new Error(e);if(a&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!a||!ArrayBuffer.isView(g)))throw new Error(e)}else throw new Error(e);U=!0}var z=0,K=g.length;if(U)z=K;else for(var ae=0;ae<g.length;++ae){var X=g.charCodeAt(ae);X<128?z+=1:X<2048?z+=2:X<55296||X>=57344?z+=3:(X=65536+((X&1023)<<10|g.charCodeAt(++ae)&1023),z+=4)}return z+=this.encode(z*8),this.update(g),z},d.prototype.bytepad=function(g,U){for(var F=this.encode(U),z=0;z<g.length;++z)F+=this.encodeString(g[z]);var K=U-F%U,ae=[];return ae.length=K,this.update(ae),this},d.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var g=this.blocks,U=this.lastByteIndex,F=this.blockCount,z=this.s;if(g[U>>2]|=this.padding[U&3],this.lastByteIndex===this.byteCount)for(g[0]=g[F],U=1;U<F+1;++U)g[U]=0;for(g[F-1]|=2147483648,U=0;U<F;++U)z[U]^=g[U];se(z)}},d.prototype.toString=d.prototype.hex=function(){this.finalize();for(var g=this.blockCount,U=this.s,F=this.outputBlocks,z=this.extraBytes,K=0,ae=0,X="",J;ae<F;){for(K=0;K<g&&ae<F;++K,++ae)J=U[K],X+=l[J>>4&15]+l[J&15]+l[J>>12&15]+l[J>>8&15]+l[J>>20&15]+l[J>>16&15]+l[J>>28&15]+l[J>>24&15];ae%g===0&&(se(U),K=0)}return z&&(J=U[K],X+=l[J>>4&15]+l[J&15],z>1&&(X+=l[J>>12&15]+l[J>>8&15]),z>2&&(X+=l[J>>20&15]+l[J>>16&15])),X},d.prototype.arrayBuffer=function(){this.finalize();var g=this.blockCount,U=this.s,F=this.outputBlocks,z=this.extraBytes,K=0,ae=0,X=this.outputBits>>3,J;z?J=new ArrayBuffer(F+1<<2):J=new ArrayBuffer(X);for(var wt=new Uint32Array(J);ae<F;){for(K=0;K<g&&ae<F;++K,++ae)wt[ae]=U[K];ae%g===0&&se(U)}return z&&(wt[K]=U[K],J=J.slice(0,X)),J},d.prototype.buffer=d.prototype.arrayBuffer,d.prototype.digest=d.prototype.array=function(){this.finalize();for(var g=this.blockCount,U=this.s,F=this.outputBlocks,z=this.extraBytes,K=0,ae=0,X=[],J,wt;ae<F;){for(K=0;K<g&&ae<F;++K,++ae)J=ae<<2,wt=U[K],X[J]=wt&255,X[J+1]=wt>>8&255,X[J+2]=wt>>16&255,X[J+3]=wt>>24&255;ae%g===0&&se(U)}return z&&(J=ae<<2,wt=U[K],X[J]=wt&255,z>1&&(X[J+1]=wt>>8&255),z>2&&(X[J+2]=wt>>16&255)),X};function R(g,U,F){d.call(this,g,U,F)}R.prototype=new d,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),d.prototype.finalize.call(this)};var se=function(g){var U,F,z,K,ae,X,J,wt,te,ge,js,De,Le,zs,Ue,Ve,Hs,Fe,Be,Gs,je,ze,$s,He,Ge,qs,$e,qe,Ws,We,Ke,Ks,Qe,Ye,Qs,Je,Xe,Ys,Ze,et,Js,tt,rt,Xs,nt,it,Zs,st,ot,e0,ft,at,t0,lt,ut,r0,ct,ht,Gi,$i,qi,Wi,Ki;for(z=0;z<48;z+=2)K=g[0]^g[10]^g[20]^g[30]^g[40],ae=g[1]^g[11]^g[21]^g[31]^g[41],X=g[2]^g[12]^g[22]^g[32]^g[42],J=g[3]^g[13]^g[23]^g[33]^g[43],wt=g[4]^g[14]^g[24]^g[34]^g[44],te=g[5]^g[15]^g[25]^g[35]^g[45],ge=g[6]^g[16]^g[26]^g[36]^g[46],js=g[7]^g[17]^g[27]^g[37]^g[47],De=g[8]^g[18]^g[28]^g[38]^g[48],Le=g[9]^g[19]^g[29]^g[39]^g[49],U=De^(X<<1|J>>>31),F=Le^(J<<1|X>>>31),g[0]^=U,g[1]^=F,g[10]^=U,g[11]^=F,g[20]^=U,g[21]^=F,g[30]^=U,g[31]^=F,g[40]^=U,g[41]^=F,U=K^(wt<<1|te>>>31),F=ae^(te<<1|wt>>>31),g[2]^=U,g[3]^=F,g[12]^=U,g[13]^=F,g[22]^=U,g[23]^=F,g[32]^=U,g[33]^=F,g[42]^=U,g[43]^=F,U=X^(ge<<1|js>>>31),F=J^(js<<1|ge>>>31),g[4]^=U,g[5]^=F,g[14]^=U,g[15]^=F,g[24]^=U,g[25]^=F,g[34]^=U,g[35]^=F,g[44]^=U,g[45]^=F,U=wt^(De<<1|Le>>>31),F=te^(Le<<1|De>>>31),g[6]^=U,g[7]^=F,g[16]^=U,g[17]^=F,g[26]^=U,g[27]^=F,g[36]^=U,g[37]^=F,g[46]^=U,g[47]^=F,U=ge^(K<<1|ae>>>31),F=js^(ae<<1|K>>>31),g[8]^=U,g[9]^=F,g[18]^=U,g[19]^=F,g[28]^=U,g[29]^=F,g[38]^=U,g[39]^=F,g[48]^=U,g[49]^=F,zs=g[0],Ue=g[1],it=g[11]<<4|g[10]>>>28,Zs=g[10]<<4|g[11]>>>28,qe=g[20]<<3|g[21]>>>29,Ws=g[21]<<3|g[20]>>>29,$i=g[31]<<9|g[30]>>>23,qi=g[30]<<9|g[31]>>>23,tt=g[40]<<18|g[41]>>>14,rt=g[41]<<18|g[40]>>>14,Ye=g[2]<<1|g[3]>>>31,Qs=g[3]<<1|g[2]>>>31,Ve=g[13]<<12|g[12]>>>20,Hs=g[12]<<12|g[13]>>>20,st=g[22]<<10|g[23]>>>22,ot=g[23]<<10|g[22]>>>22,We=g[33]<<13|g[32]>>>19,Ke=g[32]<<13|g[33]>>>19,Wi=g[42]<<2|g[43]>>>30,Ki=g[43]<<2|g[42]>>>30,lt=g[5]<<30|g[4]>>>2,ut=g[4]<<30|g[5]>>>2,Je=g[14]<<6|g[15]>>>26,Xe=g[15]<<6|g[14]>>>26,Fe=g[25]<<11|g[24]>>>21,Be=g[24]<<11|g[25]>>>21,e0=g[34]<<15|g[35]>>>17,ft=g[35]<<15|g[34]>>>17,Ks=g[45]<<29|g[44]>>>3,Qe=g[44]<<29|g[45]>>>3,He=g[6]<<28|g[7]>>>4,Ge=g[7]<<28|g[6]>>>4,r0=g[17]<<23|g[16]>>>9,ct=g[16]<<23|g[17]>>>9,Ys=g[26]<<25|g[27]>>>7,Ze=g[27]<<25|g[26]>>>7,Gs=g[36]<<21|g[37]>>>11,je=g[37]<<21|g[36]>>>11,at=g[47]<<24|g[46]>>>8,t0=g[46]<<24|g[47]>>>8,Xs=g[8]<<27|g[9]>>>5,nt=g[9]<<27|g[8]>>>5,qs=g[18]<<20|g[19]>>>12,$e=g[19]<<20|g[18]>>>12,ht=g[29]<<7|g[28]>>>25,Gi=g[28]<<7|g[29]>>>25,et=g[38]<<8|g[39]>>>24,Js=g[39]<<8|g[38]>>>24,ze=g[48]<<14|g[49]>>>18,$s=g[49]<<14|g[48]>>>18,g[0]=zs^~Ve&Fe,g[1]=Ue^~Hs&Be,g[10]=He^~qs&qe,g[11]=Ge^~$e&Ws,g[20]=Ye^~Je&Ys,g[21]=Qs^~Xe&Ze,g[30]=Xs^~it&st,g[31]=nt^~Zs&ot,g[40]=lt^~r0&ht,g[41]=ut^~ct&Gi,g[2]=Ve^~Fe&Gs,g[3]=Hs^~Be&je,g[12]=qs^~qe&We,g[13]=$e^~Ws&Ke,g[22]=Je^~Ys&et,g[23]=Xe^~Ze&Js,g[32]=it^~st&e0,g[33]=Zs^~ot&ft,g[42]=r0^~ht&$i,g[43]=ct^~Gi&qi,g[4]=Fe^~Gs&ze,g[5]=Be^~je&$s,g[14]=qe^~We&Ks,g[15]=Ws^~Ke&Qe,g[24]=Ys^~et&tt,g[25]=Ze^~Js&rt,g[34]=st^~e0&at,g[35]=ot^~ft&t0,g[44]=ht^~$i&Wi,g[45]=Gi^~qi&Ki,g[6]=Gs^~ze&zs,g[7]=je^~$s&Ue,g[16]=We^~Ks&He,g[17]=Ke^~Qe&Ge,g[26]=et^~tt&Ye,g[27]=Js^~rt&Qs,g[36]=e0^~at&Xs,g[37]=ft^~t0&nt,g[46]=$i^~Wi&lt,g[47]=qi^~Ki&ut,g[8]=ze^~zs&Ve,g[9]=$s^~Ue&Hs,g[18]=Ks^~He&qs,g[19]=Qe^~Ge&$e,g[28]=tt^~Ye&Je,g[29]=rt^~Qs&Xe,g[38]=at^~Xs&it,g[39]=t0^~nt&Zs,g[48]=Wi^~lt&r0,g[49]=Ki^~ut&ct,g[0]^=S[z],g[1]^=S[z+1]};if(f)t.exports=c;else for(_=0;_<m.length;++_)i[m[_]]=c[m[_]]})()})(c4);var KO=c4.exports;const QO=al(KO);function $t(t){return"0x"+QO.keccak_256(le(t))}const YO="rlp/5.7.0",Bn=new D(YO);function vv(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function bv(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function h4(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(h4(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=vv(n.length);return i.unshift(247+i.length),i.concat(n)}sg(t)||Bn.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(le(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=vv(e.length);return r.unshift(183+r.length),r.concat(e)}function pd(t){return oe(h4(t))}function _v(t,e,r,n){const i=[];for(;r<e+1+n;){const s=d4(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Bn.throwError("child data too short",D.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function d4(t,e){if(t.length===0&&Bn.throwError("data too short",D.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Bn.throwError("data short segment too short",D.errors.BUFFER_OVERRUN,{});const n=bv(t,e+1,r);return e+1+r+n>t.length&&Bn.throwError("data long segment too short",D.errors.BUFFER_OVERRUN,{}),_v(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Bn.throwError("data array too short",D.errors.BUFFER_OVERRUN,{}),_v(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Bn.throwError("data array too short",D.errors.BUFFER_OVERRUN,{});const n=bv(t,e+1,r);e+1+r+n>t.length&&Bn.throwError("data array too short",D.errors.BUFFER_OVERRUN,{});const i=oe(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Bn.throwError("data too short",D.errors.BUFFER_OVERRUN,{});const n=oe(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:oe(t[e])}}function ag(t){const e=le(t),r=d4(e,0);return r.consumed!==e.length&&Bn.throwArgumentError("invalid rlp data","data",t),r.result}const JO="address/5.7.0",yo=new D(JO);function wv(t){Ce(t,20)||yo.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=le($t(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const XO=9007199254740991;function ZO(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const lg={};for(let t=0;t<10;t++)lg[String(t)]=String(t);for(let t=0;t<26;t++)lg[String.fromCharCode(65+t)]=String(10+t);const Av=Math.floor(ZO(XO));function eD(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>lg[n]).join("");for(;e.length>=Av;){let n=e.substring(0,Av);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function ar(t){let e=null;if(typeof t!="string"&&yo.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=wv(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&yo.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==eD(t)&&yo.throwArgumentError("bad icap checksum","address",t),e=LO(t.substring(4));e.length<40;)e="0"+e;e=wv("0x"+e)}else yo.throwArgumentError("invalid address","address",t);return e}function p4(t){let e=null;try{e=ar(t.from)}catch{yo.throwArgumentError("missing from address","transaction",t)}const r=tf(le(Q.from(t.nonce).toHexString()));return ar(pr($t(pd([e,r])),12))}class tD extends zi{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=ar(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return ar(Nt(e.readValue().toHexString(),20))}}class rD extends zi{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const vo=new D(Bl);function m4(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let a={};n=e.map(l=>{const u=l.localName;return u||vo.throwError("cannot encode object for signature with missing names",D.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),a[u]&&vo.throwError("cannot encode object for signature with duplicate names",D.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),a[u]=!0,r[u]})}else vo.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&vo.throwArgumentError("types/value length mismatch","tuple",r);let i=new R5(t.wordSize),s=new R5(t.wordSize),o=[];e.forEach((a,l)=>{let u=n[l];if(a.dynamic){let h=s.length;a.encode(s,u);let p=i.writeUpdatableValue();o.push(y=>{p(y+h)})}else a.encode(i,u)}),o.forEach(a=>{a(i.length)});let f=t.appendWriter(i);return f+=t.appendWriter(s),f}function g4(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let f=t.readValue(),a=n.subReader(f.toNumber());try{o=s.decode(a)}catch(l){if(l.code===D.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(f){if(f.code===D.errors.BUFFER_OVERRUN)throw f;o=f,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const f=o.localName;return f&&(s[f]||(s[f]=0),s[f]++),s},{});e.forEach((s,o)=>{let f=s.localName;if(!f||i[f]!==1||(f==="length"&&(f="_length"),r[f]!=null))return;const a=r[o];a instanceof Error?Object.defineProperty(r,f,{enumerable:!0,get:()=>{throw a}}):r[f]=a});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class nD extends zi{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),vo.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return m4(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&vo.throwError("insufficient data length",D.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new rD(this.coder));return e.coerce(this.name,g4(e,n))}}class iD extends zi{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class y4 extends zi{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=le(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class sD extends y4{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,oe(super.decode(e)))}}class oD extends zi{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=le(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,oe(e.readBytes(this.size)))}}class fD extends zi{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const aD="0x0000000000000000000000000000000000000000",lD=Q.from(-1),v4=Q.from(0),uD=Q.from(1),cD=Q.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),hD="0x0000000000000000000000000000000000000000000000000000000000000000";class dD extends zi{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Q.from(r),i=cD.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(uD).mul(lD)))&&this._throwError("value out-of-bounds",r)}else(n.lt(v4)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const pD="strings/5.7.0",b4=new D(pD);var sl;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(sl||(sl={}));var Wr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Wr||(Wr={}));function mD(t,e,r,n,i){return b4.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function _4(t,e,r,n,i){if(t===Wr.BAD_PREFIX||t===Wr.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Wr.OVERRUN?r.length-e-1:0}function gD(t,e,r,n,i){return t===Wr.OVERLONG?(n.push(i),0):(n.push(65533),_4(t,e,r))}const yD=Object.freeze({error:mD,ignore:_4,replace:gD});function w4(t,e){e==null&&(e=yD.error),t=le(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Wr.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Wr.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Wr.OVERRUN,n-1,t,r);continue}let f=i&(1<<8-s-1)-1;for(let a=0;a<s;a++){let l=t[n];if((l&192)!=128){n+=e(Wr.MISSING_CONTINUE,n,t,r),f=null;break}f=f<<6|l&63,n++}if(f!==null){if(f>1114111){n+=e(Wr.OUT_OF_RANGE,n-1-s,t,r,f);continue}if(f>=55296&&f<=57343){n+=e(Wr.UTF16_SURROGATE,n-1-s,t,r,f);continue}if(f<=o){n+=e(Wr.OVERLONG,n-1-s,t,r,f);continue}r.push(f)}}return r}function ai(t,e=sl.current){e!=sl.current&&(b4.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return le(r)}function vD(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function jl(t,e){return vD(w4(t,e))}function bD(t,e=sl.current){return w4(ai(t,e))}class _D extends y4{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,ai(r))}decode(e){return jl(super.decode(e))}}class _u extends zi{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return m4(e,this.coders,r)}decode(e){return e.coerce(this.name,g4(e,this.coders))}}const wu=new D(Bl),wD=new RegExp(/^bytes([0-9]*)$/),AD=new RegExp(/^(u?int)([0-9]*)$/);class ED{constructor(e){q(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new tD(e.name);case"bool":return new iD(e.name);case"string":return new _D(e.name);case"bytes":return new sD(e.name);case"array":return new nD(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new _u((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new fD(e.name)}let r=e.type.match(AD);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&wu.throwArgumentError("invalid "+r[1]+" bit length","param",e),new dD(n/8,r[1]==="int",e.name)}if(r=e.type.match(wD),r){let n=parseInt(r[1]);return(n===0||n>32)&&wu.throwArgumentError("invalid bytes length","param",e),new oD(n,e.name)}return wu.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Zc(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new R5(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Yt.from(i)));return new _u(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&wu.throwError("types/values length mismatch",D.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Yt.from(o))),i=new _u(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Yt.from(o)));return new _u(i,"_").decode(this._getReader(le(r),n))}}const TD=new ED;function bo(t){return $t(ai(t))}const A4="hash/5.7.0";function E4(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return le(e)}function T4(t){t=le(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function I4(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(f){o>0&&Array.isArray(f)?i(f,o-1):r.push(f)})};return i(t,e),r}function ID(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function SD(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let O=1;O<n;O++)s.push(i+=r());let o=r(),f=e;e+=o;let a=0,l=0;function u(){return a==0&&(l=l<<8|t[e++],a=8),l>>--a&1}const h=31,p=Math.pow(2,h),y=p>>>1,w=y>>1,S=p-1;let P=0;for(let O=0;O<h;O++)P=P<<1|u();let v=[],b=0,T=p;for(;;){let O=Math.floor(((P-b+1)*i-1)/T),V=0,B=n;for(;B-V>1;){let re=V+B>>>1;O<s[re]?B=re:V=re}if(V==0)break;v.push(V);let H=b+Math.floor(T*s[V]/i),W=b+Math.floor(T*s[V+1]/i)-1;for(;!((H^W)&y);)P=P<<1&S|u(),H=H<<1&S,W=W<<1&S|1;for(;H&~W&w;)P=P&y|P<<1&S>>>1|u(),H=H<<1^y,W=(W^y)<<1|y|1;b=H,T=1+W-H}let M=n-4;return v.map(O=>{switch(O-M){case 3:return M+65792+(t[f++]<<16|t[f++]<<8|t[f++]);case 2:return M+256+(t[f++]<<8|t[f++]);case 1:return M+t[f++];default:return O-1}})}function xD(t){let e=0;return()=>t[e++]}function RD(t){return xD(SD(t))}function kD(t){return t&1?~t>>1:t>>1}function CD(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function Ev(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function PD(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=kD(e());return r}function eh(t,e){let r=Ev(t(),t),n=t(),i=Ev(n,t),s=CD(n,t);for(let o=0;o<n;o++)for(let f=0;f<s[o];f++)r.push(i[o]+f);return e?r.map(o=>e[o]):r}function ND(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(OD(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(DD(r,t))}return ID(I4(e))}function MD(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function S4(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)PD(t,r).forEach((s,o)=>n[o].push(s));return n}function OD(t,e){let r=1+e(),n=e(),i=MD(e),s=S4(i.length,1+t,e);return I4(s.map((o,f)=>{const a=o[0],l=o.slice(1);return Array(i[f]).fill(void 0).map((u,h)=>{let p=h*n;return[a+h*r,l.map(y=>y+p)]})}))}function DD(t,e){let r=1+e();return S4(r,1+t,e).map(i=>[i[0],i.slice(1)])}function LD(t){let e=eh(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=eh(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let f=i==1,a=i==2;return{branches:n,valid:s,fe0f:o,save:f,check:a}}}function UD(){return RD(E4("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const md=UD(),VD=new Set(eh(md)),FD=new Set(eh(md)),BD=ND(md),jD=LD(md),Tv=45,Iv=95;function x4(t){return bD(t)}function zD(t){return t.filter(e=>e!=65039)}function R4(t){for(let e of t.split(".")){let r=x4(e);try{for(let n=r.lastIndexOf(Iv)-1;n>=0;n--)if(r[n]!==Iv)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Tv&&r[3]===Tv)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function HD(t){return R4(GD(t,zD))}function GD(t,e){let r=x4(t).reverse(),n=[];for(;r.length;){let i=qD(r);if(i){n.push(...e(i));continue}let s=r.pop();if(VD.has(s)){n.push(s);continue}if(FD.has(s))continue;let o=BD[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return R4($D(String.fromCodePoint(...n)))}function $D(t){return t.normalize("NFC")}function qD(t,e){var r;let n=jD,i,s,o=[],f=t.length;for(e&&(e.length=0);f;){let a=t[--f];if(n=(r=n.branches.find(l=>l.set.has(a)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=a;else if(n.check&&a===s)break;o.push(a),n.fe0f&&(o.push(65039),f>0&&t[f-1]==65039&&f--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(f).reverse()),t.length=f)}return i}const WD=new D(A4),k4=new Uint8Array(32);k4.fill(0);function Sv(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function C4(t){const e=ai(HD(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Sv(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Sv(e.slice(n))),r}function Ku(t){typeof t!="string"&&WD.throwArgumentError("invalid ENS name; not a string","name",t);let e=k4;const r=C4(t);for(;r.length;)e=$t(Xr([e,$t(r.pop())]));return oe(e)}function KD(t){return oe(Xr(C4(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var QD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};const Et=new D(A4),P4=new Uint8Array(32);P4.fill(0);const YD=Q.from(-1),N4=Q.from(0),M4=Q.from(1),JD=Q.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function XD(t){const e=le(t),r=e.length%32;return r?Vr([e,P4.slice(r)]):oe(e)}const ZD=Nt(M4.toHexString(),32),eL=Nt(N4.toHexString(),32),xv={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},F1=["name","version","chainId","verifyingContract","salt"];function Rv(t){return function(e){return typeof e!="string"&&Et.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const tL={name:Rv("name"),version:Rv("version"),chainId:function(t){try{return Q.from(t).toString()}catch{}return Et.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ar(t).toLowerCase()}catch{}return Et.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=le(t);if(e.length!==32)throw new Error("bad length");return oe(e)}catch{}return Et.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function B1(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Et.throwArgumentError("invalid numeric width","type",t);const i=JD.mask(r?n-1:n),s=r?i.add(M4).mul(YD):N4;return function(o){const f=Q.from(o);return(f.lt(s)||f.gt(i))&&Et.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Nt(f.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Et.throwArgumentError("invalid bytes width","type",t),function(n){return le(n).length!==r&&Et.throwArgumentError(`invalid length for ${t}`,"value",n),XD(n)}}}switch(t){case"address":return function(e){return Nt(ar(e),32)};case"bool":return function(e){return e?ZD:eL};case"bytes":return function(e){return $t(e)};case"string":return function(e){return bo(e)}}return null}function kv(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class $r{constructor(e){q(this,"types",Object.freeze(Vi(e))),q(this,"_encoderCache",{}),q(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(f=>{r[f]={},n[f]=[],i[f]={}});for(const f in e){const a={};e[f].forEach(l=>{a[l.name]&&Et.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(f)}`,"types",e),a[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===f&&Et.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!B1(u)&&(n[u]||Et.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(f),r[f][u]=!0)})}const s=Object.keys(n).filter(f=>n[f].length===0);s.length===0?Et.throwArgumentError("missing primary type","types",e):s.length>1&&Et.throwArgumentError(`ambiguous primary types or unused types: ${s.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),q(this,"primaryType",s[0]);function o(f,a){a[f]&&Et.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),a[f]=!0,Object.keys(r[f]).forEach(l=>{n[l]&&(o(l,a),Object.keys(a).forEach(u=>{i[u][l]=!0}))}),delete a[f]}o(this.primaryType,{});for(const f in i){const a=Object.keys(i[f]);a.sort(),this._types[f]=kv(f,e[f])+a.map(l=>kv(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=B1(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return f=>{o>=0&&f.length!==o&&Et.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",f);let a=f.map(s);return this._types[i]&&(a=a.map($t)),$t(Vr(a))}}const n=this.types[e];if(n){const i=bo(this._types[e]);return s=>{const o=n.map(({name:f,type:a})=>{const l=this.getEncoder(a)(s[f]);return this._types[a]?$t(l):l});return o.unshift(i),Vr(o)}}return Et.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Et.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return $t(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(B1(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],f=parseInt(i[3]);return f>=0&&r.length!==f&&Et.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(a=>this._visit(o,a,n))}const s=this.types[e];return s?s.reduce((o,{name:f,type:a})=>(o[f]=this._visit(a,r[f],n),o),{}):Et.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new $r(e)}static getPrimaryType(e){return $r.from(e).primaryType}static hashStruct(e,r,n){return $r.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=xv[n];i||Et.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>F1.indexOf(n.name)-F1.indexOf(i.name)),$r.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Vr(["0x1901",$r.hashDomain(e),$r.from(r).hash(n)])}static hash(e,r,n){return $t($r.encode(e,r,n))}static resolveNames(e,r,n,i){return QD(this,void 0,void 0,function*(){e=Wt(e);const s={};e.verifyingContract&&!Ce(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=$r.from(r);o.visit(n,(f,a)=>(f==="address"&&!Ce(a,20)&&(s[a]="0x"),a));for(const f in s)s[f]=yield i(f);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(f,a)=>f==="address"&&s[a]?s[a]:a),{domain:e,value:n}})}static getPayload(e,r,n){$r.hashDomain(e);const i={},s=[];F1.forEach(a=>{const l=e[a];l!=null&&(i[a]=tL[a](l),s.push({name:a,type:xv[a]}))});const o=$r.from(r),f=Wt(r);return f.EIP712Domain?Et.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):f.EIP712Domain=s,o.encode(n),{types:f,domain:i,primaryType:o.primaryType,message:o.visit(n,(a,l)=>{if(a.match(/^bytes(\d*)/))return oe(le(l));if(a.match(/^u?int/))return Q.from(l).toString();switch(a){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Et.throwArgumentError("invalid string","value",l),l}return Et.throwArgumentError("unsupported type","type",a)})}}}const At=new D(Bl);class rL extends Fl{}class nL extends Fl{}class iL extends Fl{}class k5 extends Fl{static isIndexed(e){return!!(e&&e._isIndexed)}}const sL={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Cv(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Pv{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,q(this,"fragments",r.map(n=>Si.from(n)).filter(n=>n!=null)),q(this,"_abiCoder",Qn(new.target,"getAbiCoder")()),q(this,"functions",{}),q(this,"errors",{}),q(this,"events",{}),q(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){At.warn("duplicate definition - constructor");return}q(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){At.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||q(this,"deploy",Gn.from({payable:!1,type:"constructor"})),q(this,"_isInterface",!0)}format(e){e||(e=Re.full),e===Re.sighash&&At.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Re.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return TD}static getAddress(e){return ar(e)}static getSighash(e){return pr(bo(e.format()),0,4)}static getEventTopic(e){return bo(e.format())}getFunction(e){if(Ce(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];At.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?At.throwArgumentError("no matching function","name",n):i.length>1&&At.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[$n.fromString(e).format()];return r||At.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Ce(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];At.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?At.throwArgumentError("no matching event","name",n):i.length>1&&At.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[_i.fromString(e).format()];return r||At.throwArgumentError("no matching event","signature",e),r}getError(e){if(Ce(e)){const n=Qn(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}At.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?At.throwArgumentError("no matching error","name",n):i.length>1&&At.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[$n.fromString(e).format()];return r||At.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Qn(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Qn(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=le(r);return oe(n.slice(0,4))!==this.getSighash(e)&&At.throwArgumentError(`data signature does not match error ${e.name}.`,"data",oe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),oe(Xr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=le(r);return oe(n.slice(0,4))!==this.getSighash(e)&&At.throwArgumentError(`data signature does not match function ${e.name}.`,"data",oe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),oe(Xr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=le(r),i=null,s="",o=null,f=null,a=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=oe(n.slice(0,4)),u=sL[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),f=u.name,a=u.signature,u.reason&&(i=o[0]),f==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:f==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const h=this.getError(l);o=this._abiCoder.decode(h.inputs,n.slice(4)),f=h.name,a=h.format()}catch{}break}}return At.throwError("call revert exception"+s,D.errors.CALL_EXCEPTION,{method:e.format(),data:oe(r),errorArgs:o,errorName:f,errorSignature:a,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),oe(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&At.throwError("too many arguments for "+e.format(),D.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?bo(o):s.type==="bytes"?$t(oe(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Q.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Nt(oe(o),32));for(r.forEach((s,o)=>{let f=e.inputs[o];if(!f.indexed){s!=null&&At.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+f.name,s);return}s==null?n.push(null):f.baseType==="array"||f.baseType==="tuple"?At.throwArgumentError("filtering with tuples or arrays not supported","contract."+f.name,s):Array.isArray(s)?n.push(s.map(a=>i(f,a))):n.push(i(f,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&At.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,f)=>{const a=r[f];if(o.indexed)if(o.type==="string")n.push(bo(a));else if(o.type==="bytes")n.push($t(a));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[a]))}else i.push(o),s.push(a)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let p=this.getEventTopic(e);(!Ce(n[0],32)||n[0].toLowerCase()!==p)&&At.throwError("fragment/topic mismatch",D.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:p,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((p,y)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(Yt.fromObject({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(s.push(p),o.push(!1))});let f=n!=null?this._abiCoder.decode(i,Xr(n)):null,a=this._abiCoder.decode(s,r,!0),l=[],u=0,h=0;e.inputs.forEach((p,y)=>{if(p.indexed)if(f==null)l[y]=new k5({_isIndexed:!0,hash:null});else if(o[y])l[y]=new k5({_isIndexed:!0,hash:f[h++]});else try{l[y]=f[h++]}catch(w){l[y]=w}else try{l[y]=a[u++]}catch(w){l[y]=w}if(p.name&&l[p.name]==null){const w=l[y];w instanceof Error?Object.defineProperty(l,p.name,{enumerable:!0,get:()=>{throw Cv(`property ${JSON.stringify(p.name)}`,w)}}):l[p.name]=w}});for(let p=0;p<l.length;p++){const y=l[p];y instanceof Error&&Object.defineProperty(l,p,{enumerable:!0,get:()=>{throw Cv(`index ${p}`,y)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new nL({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Q.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new rL({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=oe(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new iL({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const oL="abstract-provider/5.7.0";var fL=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};const aL=new D(oL);class lL extends Fl{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class gd{constructor(){aL.checkAbstract(new.target,gd),q(this,"_isProvider",!0)}getFeeData(){return fL(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Ft({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Q.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const uL="abstract-signer/5.7.0";var wn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};const fn=new D(uL),cL=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],hL=[D.errors.INSUFFICIENT_FUNDS,D.errors.NONCE_EXPIRED,D.errors.REPLACEMENT_UNDERPRICED];class zl{constructor(){fn.checkAbstract(new.target,zl),q(this,"_isSigner",!0)}getBalance(e){return wn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return wn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return wn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Ft(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return wn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Ft(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return wn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return wn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return wn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return wn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return wn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)cL.indexOf(n)===-1&&fn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Wt(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&fn.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return wn(this,void 0,void 0,function*(){const r=yield Ft(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>wn(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&fn.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?fn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&fn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&fn.throwError("network does not support EIP-1559",D.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):fn.throwError("failed to get consistent fee data",D.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(hL.indexOf(i.code)>=0)throw i;return fn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",D.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&fn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Ft(r)})}_checkProvider(e){this.provider||fn.throwError("missing provider",D.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class ug extends zl{constructor(e,r){super(),q(this,"address",e),q(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{fn.throwError(e,D.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ug(this.address,e)}}var O4={},Ee={},Hl=D4;function D4(t,e){if(!t)throw new Error(e||"Assertion failed")}D4.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var C5={exports:{}};typeof Object.create=="function"?C5.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:C5.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var dL=C5.exports,pL=Hl,mL=dL;Ee.inherits=mL;function gL(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function yL(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):gL(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ee.toArray=yL;function vL(t){for(var e="",r=0;r<t.length;r++)e+=U4(t[r].toString(16));return e}Ee.toHex=vL;function L4(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ee.htonl=L4;function bL(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=L4(i)),r+=V4(i.toString(16))}return r}Ee.toHex32=bL;function U4(t){return t.length===1?"0"+t:t}Ee.zero2=U4;function V4(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ee.zero8=V4;function _L(t,e,r,n){var i=r-e;pL(i%4===0);for(var s=new Array(i/4),o=0,f=e;o<s.length;o++,f+=4){var a;n==="big"?a=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:a=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],s[o]=a>>>0}return s}Ee.join32=_L;function wL(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Ee.split32=wL;function AL(t,e){return t>>>e|t<<32-e}Ee.rotr32=AL;function EL(t,e){return t<<e|t>>>32-e}Ee.rotl32=EL;function TL(t,e){return t+e>>>0}Ee.sum32=TL;function IL(t,e,r){return t+e+r>>>0}Ee.sum32_3=IL;function SL(t,e,r,n){return t+e+r+n>>>0}Ee.sum32_4=SL;function xL(t,e,r,n,i){return t+e+r+n+i>>>0}Ee.sum32_5=xL;function RL(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,f=(o<n?1:0)+r+i;t[e]=f>>>0,t[e+1]=o}Ee.sum64=RL;function kL(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Ee.sum64_hi=kL;function CL(t,e,r,n){var i=e+n;return i>>>0}Ee.sum64_lo=CL;function PL(t,e,r,n,i,s,o,f){var a=0,l=e;l=l+n>>>0,a+=l<e?1:0,l=l+s>>>0,a+=l<s?1:0,l=l+f>>>0,a+=l<f?1:0;var u=t+r+i+o+a;return u>>>0}Ee.sum64_4_hi=PL;function NL(t,e,r,n,i,s,o,f){var a=e+n+s+f;return a>>>0}Ee.sum64_4_lo=NL;function ML(t,e,r,n,i,s,o,f,a,l){var u=0,h=e;h=h+n>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+f>>>0,u+=h<f?1:0,h=h+l>>>0,u+=h<l?1:0;var p=t+r+i+o+a+u;return p>>>0}Ee.sum64_5_hi=ML;function OL(t,e,r,n,i,s,o,f,a,l){var u=e+n+s+f+l;return u>>>0}Ee.sum64_5_lo=OL;function DL(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ee.rotr64_hi=DL;function LL(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ee.rotr64_lo=LL;function UL(t,e,r){return t>>>r}Ee.shr64_hi=UL;function VL(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ee.shr64_lo=VL;var Af={},Nv=Ee,FL=Hl;function yd(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Af.BlockHash=yd;yd.prototype.update=function(e,r){if(e=Nv.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Nv.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};yd.prototype.digest=function(e){return this.update(this._pad()),FL(this.pending===null),this._digest(e)};yd.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Ef={},di={},BL=Ee,ii=BL.rotr32;function jL(t,e,r,n){if(t===0)return F4(e,r,n);if(t===1||t===3)return j4(e,r,n);if(t===2)return B4(e,r,n)}di.ft_1=jL;function F4(t,e,r){return t&e^~t&r}di.ch32=F4;function B4(t,e,r){return t&e^t&r^e&r}di.maj32=B4;function j4(t,e,r){return t^e^r}di.p32=j4;function zL(t){return ii(t,2)^ii(t,13)^ii(t,22)}di.s0_256=zL;function HL(t){return ii(t,6)^ii(t,11)^ii(t,25)}di.s1_256=HL;function GL(t){return ii(t,7)^ii(t,18)^t>>>3}di.g0_256=GL;function $L(t){return ii(t,17)^ii(t,19)^t>>>10}di.g1_256=$L;var rf=Ee,qL=Af,WL=di,j1=rf.rotl32,Ff=rf.sum32,KL=rf.sum32_5,QL=WL.ft_1,z4=qL.BlockHash,YL=[1518500249,1859775393,2400959708,3395469782];function li(){if(!(this instanceof li))return new li;z4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}rf.inherits(li,z4);var JL=li;li.blockSize=512;li.outSize=160;li.hmacStrength=80;li.padLength=64;li.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=j1(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],f=this.h[2],a=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),h=KL(j1(s,5),QL(u,o,f,a),l,n[i],YL[u]);l=a,a=f,f=j1(o,30),o=s,s=h}this.h[0]=Ff(this.h[0],s),this.h[1]=Ff(this.h[1],o),this.h[2]=Ff(this.h[2],f),this.h[3]=Ff(this.h[3],a),this.h[4]=Ff(this.h[4],l)};li.prototype._digest=function(e){return e==="hex"?rf.toHex32(this.h,"big"):rf.split32(this.h,"big")};var nf=Ee,XL=Af,Tf=di,ZL=Hl,An=nf.sum32,eU=nf.sum32_4,tU=nf.sum32_5,rU=Tf.ch32,nU=Tf.maj32,iU=Tf.s0_256,sU=Tf.s1_256,oU=Tf.g0_256,fU=Tf.g1_256,H4=XL.BlockHash,aU=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ui(){if(!(this instanceof ui))return new ui;H4.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=aU,this.W=new Array(64)}nf.inherits(ui,H4);var G4=ui;ui.blockSize=512;ui.outSize=256;ui.hmacStrength=192;ui.padLength=64;ui.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=eU(fU(n[i-2]),n[i-7],oU(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],f=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7];for(ZL(this.k.length===n.length),i=0;i<n.length;i++){var y=tU(p,sU(l),rU(l,u,h),this.k[i],n[i]),w=An(iU(s),nU(s,o,f));p=h,h=u,u=l,l=An(a,y),a=f,f=o,o=s,s=An(y,w)}this.h[0]=An(this.h[0],s),this.h[1]=An(this.h[1],o),this.h[2]=An(this.h[2],f),this.h[3]=An(this.h[3],a),this.h[4]=An(this.h[4],l),this.h[5]=An(this.h[5],u),this.h[6]=An(this.h[6],h),this.h[7]=An(this.h[7],p)};ui.prototype._digest=function(e){return e==="hex"?nf.toHex32(this.h,"big"):nf.split32(this.h,"big")};var P5=Ee,$4=G4;function Fi(){if(!(this instanceof Fi))return new Fi;$4.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}P5.inherits(Fi,$4);var lU=Fi;Fi.blockSize=512;Fi.outSize=224;Fi.hmacStrength=192;Fi.padLength=64;Fi.prototype._digest=function(e){return e==="hex"?P5.toHex32(this.h.slice(0,7),"big"):P5.split32(this.h.slice(0,7),"big")};var Hr=Ee,uU=Af,cU=Hl,si=Hr.rotr64_hi,oi=Hr.rotr64_lo,q4=Hr.shr64_hi,W4=Hr.shr64_lo,Ji=Hr.sum64,z1=Hr.sum64_hi,H1=Hr.sum64_lo,hU=Hr.sum64_4_hi,dU=Hr.sum64_4_lo,pU=Hr.sum64_5_hi,mU=Hr.sum64_5_lo,K4=uU.BlockHash,gU=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Dn(){if(!(this instanceof Dn))return new Dn;K4.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=gU,this.W=new Array(160)}Hr.inherits(Dn,K4);var Q4=Dn;Dn.blockSize=1024;Dn.outSize=512;Dn.hmacStrength=192;Dn.padLength=128;Dn.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=xU(n[i-4],n[i-3]),o=RU(n[i-4],n[i-3]),f=n[i-14],a=n[i-13],l=IU(n[i-30],n[i-29]),u=SU(n[i-30],n[i-29]),h=n[i-32],p=n[i-31];n[i]=hU(s,o,f,a,l,u,h,p),n[i+1]=dU(s,o,f,a,l,u,h,p)}};Dn.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],a=this.h[4],l=this.h[5],u=this.h[6],h=this.h[7],p=this.h[8],y=this.h[9],w=this.h[10],S=this.h[11],P=this.h[12],v=this.h[13],b=this.h[14],T=this.h[15];cU(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var O=b,V=T,B=EU(p,y),H=TU(p,y),W=yU(p,y,w,S,P),re=vU(p,y,w,S,P,v),ue=this.k[M],Me=this.k[M+1],k=n[M],c=n[M+1],m=pU(O,V,B,H,W,re,ue,Me,k,c),_=mU(O,V,B,H,W,re,ue,Me,k,c);O=wU(i,s),V=AU(i,s),B=bU(i,s,o,f,a),H=_U(i,s,o,f,a,l);var I=z1(O,V,B,H),A=H1(O,V,B,H);b=P,T=v,P=w,v=S,w=p,S=y,p=z1(u,h,m,_),y=H1(h,h,m,_),u=a,h=l,a=o,l=f,o=i,f=s,i=z1(m,_,I,A),s=H1(m,_,I,A)}Ji(this.h,0,i,s),Ji(this.h,2,o,f),Ji(this.h,4,a,l),Ji(this.h,6,u,h),Ji(this.h,8,p,y),Ji(this.h,10,w,S),Ji(this.h,12,P,v),Ji(this.h,14,b,T)};Dn.prototype._digest=function(e){return e==="hex"?Hr.toHex32(this.h,"big"):Hr.split32(this.h,"big")};function yU(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function vU(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function bU(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function _U(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function wU(t,e){var r=si(t,e,28),n=si(e,t,2),i=si(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function AU(t,e){var r=oi(t,e,28),n=oi(e,t,2),i=oi(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function EU(t,e){var r=si(t,e,14),n=si(t,e,18),i=si(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function TU(t,e){var r=oi(t,e,14),n=oi(t,e,18),i=oi(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function IU(t,e){var r=si(t,e,1),n=si(t,e,8),i=q4(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function SU(t,e){var r=oi(t,e,1),n=oi(t,e,8),i=W4(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function xU(t,e){var r=si(t,e,19),n=si(e,t,29),i=q4(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function RU(t,e){var r=oi(t,e,19),n=oi(e,t,29),i=W4(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var N5=Ee,Y4=Q4;function Bi(){if(!(this instanceof Bi))return new Bi;Y4.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}N5.inherits(Bi,Y4);var kU=Bi;Bi.blockSize=1024;Bi.outSize=384;Bi.hmacStrength=192;Bi.padLength=128;Bi.prototype._digest=function(e){return e==="hex"?N5.toHex32(this.h.slice(0,12),"big"):N5.split32(this.h.slice(0,12),"big")};Ef.sha1=JL;Ef.sha224=lU;Ef.sha256=G4;Ef.sha384=kU;Ef.sha512=Q4;var J4={},M0=Ee,CU=Af,Au=M0.rotl32,Mv=M0.sum32,Bf=M0.sum32_3,Ov=M0.sum32_4,X4=CU.BlockHash;function ci(){if(!(this instanceof ci))return new ci;X4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}M0.inherits(ci,X4);J4.ripemd160=ci;ci.blockSize=512;ci.outSize=160;ci.hmacStrength=192;ci.padLength=64;ci.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],a=n,l=i,u=s,h=o,p=f,y=0;y<80;y++){var w=Mv(Au(Ov(n,Dv(y,i,s,o),e[MU[y]+r],PU(y)),DU[y]),f);n=f,f=o,o=Au(s,10),s=i,i=w,w=Mv(Au(Ov(a,Dv(79-y,l,u,h),e[OU[y]+r],NU(y)),LU[y]),p),a=p,p=h,h=Au(u,10),u=l,l=w}w=Bf(this.h[1],s,h),this.h[1]=Bf(this.h[2],o,p),this.h[2]=Bf(this.h[3],f,a),this.h[3]=Bf(this.h[4],n,l),this.h[4]=Bf(this.h[0],i,u),this.h[0]=w};ci.prototype._digest=function(e){return e==="hex"?M0.toHex32(this.h,"little"):M0.split32(this.h,"little")};function Dv(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function PU(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function NU(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var MU=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],OU=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],DU=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],LU=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],UU=Ee,VU=Hl;function sf(t,e,r){if(!(this instanceof sf))return new sf(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(UU.toArray(e,r))}var FU=sf;sf.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),VU(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};sf.prototype.update=function(e,r){return this.inner.update(e,r),this};sf.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ee,e.common=Af,e.sha=Ef,e.ripemd=J4,e.hmac=FU,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(O4);const Fn=al(O4);function If(t,e,r){return r={path:e,exports:{},require:function(n,i){return BU(n,i??r.path)}},t(r,r.exports),r.exports}function BU(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var cg=Z4;function Z4(t,e){if(!t)throw new Error(e||"Assertion failed")}Z4.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Rn=If(function(t,e){var r=e;function n(o,f){if(Array.isArray(o))return o.slice();if(!o)return[];var a=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)a[l]=o[l]|0;return a}if(f==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)a.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),h=u>>8,p=u&255;h?a.push(h,p):a.push(p)}return a}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var f="",a=0;a<o.length;a++)f+=i(o[a].toString(16));return f}r.toHex=s,r.encode=function(f,a){return a==="hex"?s(f):f}}),sn=If(function(t,e){var r=e;r.assert=cg,r.toArray=Rn.toArray,r.zero2=Rn.zero2,r.toHex=Rn.toHex,r.encode=Rn.encode;function n(a,l,u){var h=new Array(Math.max(a.bitLength(),u)+1);h.fill(0);for(var p=1<<l+1,y=a.clone(),w=0;w<h.length;w++){var S,P=y.andln(p-1);y.isOdd()?(P>(p>>1)-1?S=(p>>1)-P:S=P,y.isubn(S)):S=0,h[w]=S,y.iushrn(1)}return h}r.getNAF=n;function i(a,l){var u=[[],[]];a=a.clone(),l=l.clone();for(var h=0,p=0,y;a.cmpn(-h)>0||l.cmpn(-p)>0;){var w=a.andln(3)+h&3,S=l.andln(3)+p&3;w===3&&(w=-1),S===3&&(S=-1);var P;w&1?(y=a.andln(7)+h&7,(y===3||y===5)&&S===2?P=-w:P=w):P=0,u[0].push(P);var v;S&1?(y=l.andln(7)+p&7,(y===3||y===5)&&w===2?v=-S:v=S):v=0,u[1].push(v),2*h===P+1&&(h=1-h),2*p===v+1&&(p=1-p),a.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(a,l,u){var h="_"+l;a.prototype[l]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}r.cachedProperty=s;function o(a){return typeof a=="string"?r.toArray(a,"hex"):a}r.parseBytes=o;function f(a){return new ye(a,"hex","le")}r.intFromLE=f}),th=sn.getNAF,jU=sn.getJSF,rh=sn.assert;function Bs(t,e){this.type=t,this.p=new ye(e.p,16),this.red=e.prime?ye.red(e.prime):ye.mont(this.p),this.zero=new ye(0).toRed(this.red),this.one=new ye(1).toRed(this.red),this.two=new ye(2).toRed(this.red),this.n=e.n&&new ye(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var $0=Bs;Bs.prototype.point=function(){throw new Error("Not implemented")};Bs.prototype.validate=function(){throw new Error("Not implemented")};Bs.prototype._fixedNafMul=function(e,r){rh(e.precomputed);var n=e._getDoubles(),i=th(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],f,a;for(f=0;f<i.length;f+=n.step){a=0;for(var l=f+n.step-1;l>=f;l--)a=(a<<1)+i[l];o.push(a)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),p=s;p>0;p--){for(f=0;f<o.length;f++)a=o[f],a===p?h=h.mixedAdd(n.points[f]):a===-p&&(h=h.mixedAdd(n.points[f].neg()));u=u.add(h)}return u.toP()};Bs.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=th(r,n,this._bitLength),f=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&o[a]===0;a--)l++;if(a>=0&&l++,f=f.dblp(l),a<0)break;var u=o[a];rh(u!==0),e.type==="affine"?u>0?f=f.mixedAdd(s[u-1>>1]):f=f.mixedAdd(s[-u-1>>1].neg()):u>0?f=f.add(s[u-1>>1]):f=f.add(s[-u-1>>1].neg())}return e.type==="affine"?f.toP():f};Bs.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,f=this._wnafT2,a=this._wnafT3,l=0,u,h,p;for(u=0;u<i;u++){p=r[u];var y=p._getNAFPoints(e);o[u]=y.wnd,f[u]=y.points}for(u=i-1;u>=1;u-=2){var w=u-1,S=u;if(o[w]!==1||o[S]!==1){a[w]=th(n[w],o[w],this._bitLength),a[S]=th(n[S],o[S],this._bitLength),l=Math.max(a[w].length,l),l=Math.max(a[S].length,l);continue}var P=[r[w],null,null,r[S]];r[w].y.cmp(r[S].y)===0?(P[1]=r[w].add(r[S]),P[2]=r[w].toJ().mixedAdd(r[S].neg())):r[w].y.cmp(r[S].y.redNeg())===0?(P[1]=r[w].toJ().mixedAdd(r[S]),P[2]=r[w].add(r[S].neg())):(P[1]=r[w].toJ().mixedAdd(r[S]),P[2]=r[w].toJ().mixedAdd(r[S].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=jU(n[w],n[S]);for(l=Math.max(b[0].length,l),a[w]=new Array(l),a[S]=new Array(l),h=0;h<l;h++){var T=b[0][h]|0,M=b[1][h]|0;a[w][h]=v[(T+1)*3+(M+1)],a[S][h]=0,f[w]=P}}var O=this.jpoint(null,null,null),V=this._wnafT4;for(u=l;u>=0;u--){for(var B=0;u>=0;){var H=!0;for(h=0;h<i;h++)V[h]=a[h][u]|0,V[h]!==0&&(H=!1);if(!H)break;B++,u--}if(u>=0&&B++,O=O.dblp(B),u<0)break;for(h=0;h<i;h++){var W=V[h];W!==0&&(W>0?p=f[h][W-1>>1]:W<0&&(p=f[h][-W-1>>1].neg()),p.type==="affine"?O=O.mixedAdd(p):O=O.add(p))}}for(u=0;u<i;u++)f[u]=null;return s?O:O.toP()};function vn(t,e){this.curve=t,this.type=e,this.precomputed=null}Bs.BasePoint=vn;vn.prototype.eq=function(){throw new Error("Not implemented")};vn.prototype.validate=function(){return this.curve.validate(this)};Bs.prototype.decodePoint=function(e,r){e=sn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?rh(e[e.length-1]%2===0):e[0]===7&&rh(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};vn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};vn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};vn.prototype.encode=function(e,r){return sn.encode(this._encode(r),e)};vn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};vn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};vn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};vn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};vn.prototype._getBeta=function(){return null};vn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var hg=If(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),zU=sn.assert;function bn(t){$0.call(this,"short",t),this.a=new ye(t.a,16).toRed(this.red),this.b=new ye(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}hg(bn,$0);var HU=bn;bn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ye(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new ye(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],zU(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(f){return{a:new ye(f.a,16),b:new ye(f.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};bn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ye.mont(e),n=new ye(2).toRed(r).redInvm(),i=n.redNeg(),s=new ye(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),f=i.redSub(s).fromRed();return[o,f]};bn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new ye(1),o=new ye(0),f=new ye(0),a=new ye(1),l,u,h,p,y,w,S,P=0,v,b;n.cmpn(0)!==0;){var T=i.div(n);v=i.sub(T.mul(n)),b=f.sub(T.mul(s));var M=a.sub(T.mul(o));if(!h&&v.cmp(r)<0)l=S.neg(),u=s,h=v.neg(),p=b;else if(h&&++P===2)break;S=v,i=n,n=v,f=s,s=b,a=o,o=M}y=v.neg(),w=b;var O=h.sqr().add(p.sqr()),V=y.sqr().add(w.sqr());return V.cmp(O)>=0&&(y=l,w=u),h.negative&&(h=h.neg(),p=p.neg()),y.negative&&(y=y.neg(),w=w.neg()),[{a:h,b:p},{a:y,b:w}]};bn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),f=s.mul(n.a),a=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),h=e.sub(f).sub(a),p=l.add(u).neg();return{k1:h,k2:p}};bn.prototype.pointFromX=function(e,r){e=new ye(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};bn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};bn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var f=this._endoSplit(r[o]),a=e[o],l=a._getBeta();f.k1.negative&&(f.k1.ineg(),a=a.neg(!0)),f.k2.negative&&(f.k2.ineg(),l=l.neg(!0)),i[o*2]=a,i[o*2+1]=l,s[o*2]=f.k1,s[o*2+1]=f.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function er(t,e,r,n){$0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ye(e,16),this.y=new ye(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}hg(er,$0.BasePoint);bn.prototype.point=function(e,r,n){return new er(this,e,r,n)};bn.prototype.pointFromJSON=function(e,r){return er.fromJSON(this,e,r)};er.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};er.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};er.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(f){return e.point(f[0],f[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};er.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};er.prototype.isInfinity=function(){return this.inf};er.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};er.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,f)};er.prototype.getX=function(){return this.x.fromRed()};er.prototype.getY=function(){return this.y.fromRed()};er.prototype.mul=function(e){return e=new ye(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};er.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};er.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};er.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};er.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};er.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function lr(t,e,r,n){$0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ye(0)):(this.x=new ye(e,16),this.y=new ye(r,16),this.z=new ye(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}hg(lr,$0.BasePoint);bn.prototype.jpoint=function(e,r,n){return new lr(this,e,r,n)};lr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};lr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};lr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),a=i.redSub(s),l=o.redSub(f);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),h=u.redMul(a),p=i.redMul(u),y=l.redSqr().redIAdd(h).redISub(p).redISub(p),w=l.redMul(p.redISub(y)).redISub(o.redMul(h)),S=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(y,w,S)};lr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),f=n.redSub(i),a=s.redSub(o);if(f.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=f.redSqr(),u=l.redMul(f),h=n.redMul(l),p=a.redSqr().redIAdd(u).redISub(h).redISub(h),y=a.redMul(h.redISub(p)).redISub(s.redMul(u)),w=this.z.redMul(f);return this.curve.jpoint(p,y,w)};lr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,f=this.y,a=this.z,l=a.redSqr().redSqr(),u=f.redAdd(f);for(r=0;r<e;r++){var h=o.redSqr(),p=u.redSqr(),y=p.redSqr(),w=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(l)),S=o.redMul(p),P=w.redSqr().redISub(S.redAdd(S)),v=S.redISub(P),b=w.redMul(v);b=b.redIAdd(b).redISub(y);var T=u.redMul(a);r+1<e&&(l=l.redMul(y)),o=P,a=T,u=b}return this.curve.jpoint(o,u.redMul(s),a)};lr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};lr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(o);f=f.redIAdd(f);var a=i.redAdd(i).redIAdd(i),l=a.redSqr().redISub(f).redISub(f),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=a.redMul(f.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),w=this.x.redAdd(p).redSqr().redISub(h).redISub(y);w=w.redIAdd(w);var S=h.redAdd(h).redIAdd(h),P=S.redSqr(),v=y.redIAdd(y);v=v.redIAdd(v),v=v.redIAdd(v),e=P.redISub(w).redISub(w),r=S.redMul(w.redISub(e)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};lr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(o);f=f.redIAdd(f);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=a.redSqr().redISub(f).redISub(f);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=a.redMul(f.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),p=this.y.redSqr(),y=this.x.redMul(p),w=this.x.redSub(h).redMul(this.x.redAdd(h));w=w.redAdd(w).redIAdd(w);var S=y.redIAdd(y);S=S.redIAdd(S);var P=S.redAdd(S);e=w.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(h);var v=p.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=w.redMul(S.redISub(e)).redISub(v)}return this.curve.jpoint(e,r,n)};lr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),f=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(f),h=a.redSqr().redISub(u.redAdd(u)),p=u.redISub(h),y=f.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var w=a.redMul(p).redISub(y),S=n.redAdd(n).redMul(i);return this.curve.jpoint(h,w,S)};lr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(o);var a=f.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(f).redSqr().redISub(o).redISub(a).redISub(l),h=r.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var p=this.x.redMul(a).redISub(h);p=p.redIAdd(p),p=p.redIAdd(p);var y=this.y.redMul(u.redMul(l.redISub(u)).redISub(f.redMul(a)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var w=this.z.redAdd(f).redSqr().redISub(n).redISub(a);return this.curve.jpoint(p,y,w)};lr.prototype.mul=function(e,r){return e=new ye(e,r),this.curve._wnafMul(this,e)};lr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};lr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};lr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};lr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Qu=If(function(t,e){var r=e;r.base=$0,r.short=HU,r.mont=null,r.edwards=null}),Yu=If(function(t,e){var r=e,n=sn.assert;function i(f){f.type==="short"?this.curve=new Qu.short(f):f.type==="edwards"?this.curve=new Qu.edwards(f):this.curve=new Qu.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(f,a){Object.defineProperty(r,f,{configurable:!0,enumerable:!0,get:function(){var l=new i(a);return Object.defineProperty(r,f,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Fn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Fn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Fn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Fn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Fn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Fn.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Fn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Fn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Ps(t){if(!(this instanceof Ps))return new Ps(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Rn.toArray(t.entropy,t.entropyEnc||"hex"),r=Rn.toArray(t.nonce,t.nonceEnc||"hex"),n=Rn.toArray(t.pers,t.persEnc||"hex");cg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var eA=Ps;Ps.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Ps.prototype._hmac=function(){return new Fn.hmac(this.hash,this.K)};Ps.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ps.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Rn.toArray(e,r),n=Rn.toArray(n,i),cg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ps.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Rn.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Rn.encode(o,r)};var M5=sn.assert;function Er(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var dg=Er;Er.fromPublic=function(e,r,n){return r instanceof Er?r:new Er(e,{pub:r,pubEnc:n})};Er.fromPrivate=function(e,r,n){return r instanceof Er?r:new Er(e,{priv:r,privEnc:n})};Er.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Er.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Er.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Er.prototype._importPrivate=function(e,r){this.priv=new ye(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Er.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?M5(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&M5(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Er.prototype.derive=function(e){return e.validate()||M5(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Er.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Er.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Er.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var GU=sn.assert;function vd(t,e){if(t instanceof vd)return t;this._importDER(t,e)||(GU(t.r&&t.s,"Signature without r or s"),this.r=new ye(t.r,16),this.s=new ye(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var bd=vd;function $U(){this.place=0}function G1(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function Lv(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}vd.prototype._importDER=function(e,r){e=sn.toArray(e,r);var n=new $U;if(e[n.place++]!==48)return!1;var i=G1(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=G1(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var f=G1(e,n);if(f===!1||e.length!==f+n.place)return!1;var a=e.slice(n.place,f+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new ye(o),this.s=new ye(a),this.recoveryParam=null,!0};function $1(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}vd.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Lv(r),n=Lv(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];$1(i,r.length),i=i.concat(r),i.push(2),$1(i,n.length);var s=i.concat(n),o=[48];return $1(o,s.length),o=o.concat(s),sn.encode(o,e)};var qU=function(){throw new Error("unsupported")},tA=sn.assert;function yn(t){if(!(this instanceof yn))return new yn(t);typeof t=="string"&&(tA(Object.prototype.hasOwnProperty.call(Yu,t),"Unknown curve "+t),t=Yu[t]),t instanceof Yu.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var WU=yn;yn.prototype.keyPair=function(e){return new dg(this,e)};yn.prototype.keyFromPrivate=function(e,r){return dg.fromPrivate(this,e,r)};yn.prototype.keyFromPublic=function(e,r){return dg.fromPublic(this,e,r)};yn.prototype.genKeyPair=function(e){e||(e={});for(var r=new eA({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||qU(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new ye(2));;){var s=new ye(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};yn.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};yn.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new ye(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),f=e.toArray("be",s),a=new eA({hash:this.hash,entropy:o,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new ye(1)),u=0;;u++){var h=i.k?i.k(u):new ye(a.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(l)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var y=p.getX(),w=y.umod(this.n);if(w.cmpn(0)!==0){var S=h.invm(this.n).mul(w.mul(r.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var P=(p.getY().isOdd()?1:0)|(y.cmp(w)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),P^=1),new bd({r:w,s:S,recoveryParam:P})}}}}}};yn.prototype.verify=function(e,r,n,i){e=this._truncateToN(new ye(e,16)),n=this.keyFromPublic(n,i),r=new bd(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),a=f.mul(e).umod(this.n),l=f.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(a,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(a,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};yn.prototype.recoverPubKey=function(t,e,r,n){tA((3&r)===r,"The recovery param is more than two bits"),e=new bd(e,n);var i=this.n,s=new ye(t),o=e.r,f=e.s,a=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),a):o=this.curve.pointFromX(o,a);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),p=f.mul(u).umod(i);return this.g.mulAdd(h,o,p)};yn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new bd(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var KU=If(function(t,e){var r=e;r.version="6.5.4",r.utils=sn,r.rand=function(){throw new Error("unsupported")},r.curve=Qu,r.curves=Yu,r.ec=WU,r.eddsa=null}),QU=KU.ec;const YU="signing-key/5.7.0",O5=new D(YU);let q1=null;function jn(){return q1||(q1=new QU("secp256k1")),q1}class JU{constructor(e){q(this,"curve","secp256k1"),q(this,"privateKey",oe(e)),P0(this.privateKey)!==32&&O5.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=jn().keyFromPrivate(le(this.privateKey));q(this,"publicKey","0x"+r.getPublic(!1,"hex")),q(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),q(this,"_isSigningKey",!0)}_addPoint(e){const r=jn().keyFromPublic(le(this.publicKey)),n=jn().keyFromPublic(le(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=jn().keyFromPrivate(le(this.privateKey)),n=le(e);n.length!==32&&O5.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return dd({recoveryParam:i.recoveryParam,r:Nt("0x"+i.r.toString(16),32),s:Nt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=jn().keyFromPrivate(le(this.privateKey)),n=jn().keyFromPublic(le(rA(e)));return Nt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function XU(t,e){const r=dd(e),n={r:le(r.r),s:le(r.s)};return"0x"+jn().recoverPubKey(le(t),n,r.recoveryParam).encode("hex",!1)}function rA(t,e){const r=le(t);if(r.length===32){const n=new JU(r);return e?"0x"+jn().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?oe(r):"0x"+jn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+jn().keyFromPublic(r).getPublic(!0,"hex"):oe(r)}return O5.throwArgumentError("invalid public or private key","key","[REDACTED]")}const ZU="transactions/5.7.0",Hi=new D(ZU);var Uv;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Uv||(Uv={}));function pg(t){return t==="0x"?null:ar(t)}function yr(t){return t==="0x"?v4:Q.from(t)}function eV(t){const e=rA(t);return ar(pr($t(pr(e,1)),12))}function nA(t,e){return eV(XU(le(t),e))}function Kr(t,e){const r=tf(Q.from(t).toHexString());return r.length>32&&Hi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function W1(t,e){return{address:ar(t),storageKeys:(e||[]).map((r,n)=>(P0(r)!==32&&Hi.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Sf(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Hi.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),W1(r[0],r[1])):W1(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return W1(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function iA(t){return Sf(t).map(e=>[e.address,e.storageKeys])}function tV(t,e){if(t.gasPrice!=null){const n=Q.from(t.gasPrice),i=Q.from(t.maxFeePerGas||0);n.eq(i)||Hi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Kr(t.chainId||0,"chainId"),Kr(t.nonce||0,"nonce"),Kr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Kr(t.maxFeePerGas||0,"maxFeePerGas"),Kr(t.gasLimit||0,"gasLimit"),t.to!=null?ar(t.to):"0x",Kr(t.value||0,"value"),t.data||"0x",iA(t.accessList||[])];if(e){const n=dd(e);r.push(Kr(n.recoveryParam,"recoveryParam")),r.push(tf(n.r)),r.push(tf(n.s))}return Vr(["0x02",pd(r)])}function rV(t,e){const r=[Kr(t.chainId||0,"chainId"),Kr(t.nonce||0,"nonce"),Kr(t.gasPrice||0,"gasPrice"),Kr(t.gasLimit||0,"gasLimit"),t.to!=null?ar(t.to):"0x",Kr(t.value||0,"value"),t.data||"0x",iA(t.accessList||[])];if(e){const n=dd(e);r.push(Kr(n.recoveryParam,"recoveryParam")),r.push(tf(n.r)),r.push(tf(n.s))}return Vr(["0x01",pd(r)])}function sA(t,e,r){try{const n=yr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Hi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Nt(e[1],32),t.s=Nt(e[2],32);try{const n=$t(r(t));t.from=nA(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function nV(t){const e=ag(t.slice(1));e.length!==9&&e.length!==12&&Hi.throwArgumentError("invalid component count for transaction type: 2","payload",oe(t));const r=yr(e[2]),n=yr(e[3]),i={type:2,chainId:yr(e[0]).toNumber(),nonce:yr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:yr(e[4]),to:pg(e[5]),value:yr(e[6]),data:e[7],accessList:Sf(e[8])};return e.length===9||(i.hash=$t(t),sA(i,e.slice(9),tV)),i}function iV(t){const e=ag(t.slice(1));e.length!==8&&e.length!==11&&Hi.throwArgumentError("invalid component count for transaction type: 1","payload",oe(t));const r={type:1,chainId:yr(e[0]).toNumber(),nonce:yr(e[1]).toNumber(),gasPrice:yr(e[2]),gasLimit:yr(e[3]),to:pg(e[4]),value:yr(e[5]),data:e[6],accessList:Sf(e[7])};return e.length===8||(r.hash=$t(t),sA(r,e.slice(8),rV)),r}function sV(t){const e=ag(t);e.length!==9&&e.length!==6&&Hi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:yr(e[0]).toNumber(),gasPrice:yr(e[1]),gasLimit:yr(e[2]),to:pg(e[3]),value:yr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Q.from(e[6]).toNumber()}catch{return r}if(r.r=Nt(e[7],32),r.s=Nt(e[8],32),Q.from(r.r).isZero()&&Q.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(oe(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=$t(pd(i));try{r.from=nA(s,{r:oe(r.r),s:oe(r.s),recoveryParam:n})}catch{}r.hash=$t(t)}return r.type=null,r}function oV(t){const e=le(t);if(e[0]>127)return sV(e);switch(e[0]){case 1:return iV(e);case 2:return nV(e)}return Hi.throwError(`unsupported transaction type: ${e[0]}`,D.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const fV="contracts/5.7.0";var O0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};const Ot=new D(fV);function nh(t,e){return O0(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&Ot.throwArgumentError("invalid address or ENS name","name",r);try{return ar(r)}catch{}t||Ot.throwError("a provider or signer is needed to resolve ENS names",D.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&Ot.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Ju(t,e,r){return O0(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Ju(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield nh(t,e):r.type==="tuple"?yield Ju(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Ju(t,n,r.arrayChildren))):Promise.reject(Ot.makeError("invalid value for array",D.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function _d(t,e,r){return O0(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Wt(r.pop())),Ot.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Ft({override:nh(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>O0(this,void 0,void 0,function*(){return ar(l.signer)!==l.override&&Ot.throwError("Contract with a Signer cannot override from",D.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=nh(t.provider,n.from));const i=yield Ft({args:Ju(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Ft(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},f=i.overrides;if(f.nonce!=null&&(o.nonce=Q.from(f.nonce).toNumber()),f.gasLimit!=null&&(o.gasLimit=Q.from(f.gasLimit)),f.gasPrice!=null&&(o.gasPrice=Q.from(f.gasPrice)),f.maxFeePerGas!=null&&(o.maxFeePerGas=Q.from(f.maxFeePerGas)),f.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Q.from(f.maxPriorityFeePerGas)),f.from!=null&&(o.from=f.from),f.type!=null&&(o.type=f.type),f.accessList!=null&&(o.accessList=Sf(f.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=le(s);for(let h=0;h<u.length;h++)l+=4,u[h]&&(l+=64);o.gasLimit=Q.from(e.gas).add(l)}if(f.value){const l=Q.from(f.value);!l.isZero()&&!e.payable&&Ot.throwError("non-payable method cannot override value",D.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}f.customData&&(o.customData=Wt(f.customData)),f.ccipReadEnabled&&(o.ccipReadEnabled=!!f.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const a=Object.keys(n).filter(l=>n[l]!=null);return a.length&&Ot.throwError(`cannot override ${a.map(l=>JSON.stringify(l)).join(",")}`,D.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:a}),o})}function aV(t,e){return function(...r){return _d(t,e,r)}}function lV(t,e){const r=t.signer||t.provider;return function(...n){return O0(this,void 0,void 0,function*(){r||Ot.throwError("estimate require a provider or signer",D.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield _d(t,e,n);return yield r.estimateGas(i)})}}function uV(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Vi(s),f=null;try{f=t.interface.parseLog(s)}catch{}return f&&(o.args=f.args,o.decode=(a,l)=>t.interface.decodeEventLog(f.eventFragment,a,l),o.event=f.name,o.eventSignature=f.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function oA(t,e,r){const n=t.signer||t.provider;return function(...i){return O0(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const a=Wt(i.pop());a.blockTag!=null&&(s=yield a.blockTag),delete a.blockTag,i.push(a)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield _d(t,e,i),f=yield n.call(o,s);try{let a=t.interface.decodeFunctionResult(e,f);return r&&e.outputs.length===1&&(a=a[0]),a}catch(a){throw a.code===D.errors.CALL_EXCEPTION&&(a.address=t.address,a.args=i,a.transaction=o),a}})}}function cV(t,e){return function(...r){return O0(this,void 0,void 0,function*(){t.signer||Ot.throwError("sending a transaction requires a signer",D.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield _d(t,e,r),i=yield t.signer.sendTransaction(n);return uV(t,i),i})}}function Vv(t,e,r){return e.constant?oA(t,e,r):cV(t,e)}function fA(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ol{constructor(e,r){q(this,"tag",e),q(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class hV extends ol{constructor(){super("error",null)}}class Fv extends ol{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&Ot.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(fA(s),s),q(this,"address",e),q(this,"interface",r),q(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=WO(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Bv extends ol{constructor(e,r){super("*",{address:e}),q(this,"address",e),q(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class dV{constructor(e,r,n){q(this,"interface",Qn(new.target,"getInterface")(r)),n==null?(q(this,"provider",null),q(this,"signer",null)):zl.isSigner(n)?(q(this,"provider",n.provider||null),q(this,"signer",n)):gd.isProvider(n)?(q(this,"provider",n),q(this,"signer",null)):Ot.throwArgumentError("invalid signer or provider","signerOrProvider",n),q(this,"callStatic",{}),q(this,"estimateGas",{}),q(this,"functions",{}),q(this,"populateTransaction",{}),q(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(f=>{const a=this.interface.events[f];q(this.filters,f,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(a,l)})),o[a.name]||(o[a.name]=[]),o[a.name].push(f)}),Object.keys(o).forEach(f=>{const a=o[f];a.length===1?q(this.filters,f,this.filters[a[0]]):Ot.warn(`Duplicate definition of ${f} (${a.join(", ")})`)})}if(q(this,"_runningEvents",{}),q(this,"_wrappedEmits",{}),e==null&&Ot.throwArgumentError("invalid contract address or ENS name","addressOrName",e),q(this,"address",e),this.provider)q(this,"resolvedAddress",nh(this.provider,e));else try{q(this,"resolvedAddress",Promise.resolve(ar(e)))}catch{Ot.throwError("provider is required to use ENS name as contract address",D.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const f=this.interface.functions[o];if(s[o]){Ot.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const a=f.name;i[`%${a}`]||(i[`%${a}`]=[]),i[`%${a}`].push(o)}this[o]==null&&q(this,o,Vv(this,f,!0)),this.functions[o]==null&&q(this.functions,o,Vv(this,f,!1)),this.callStatic[o]==null&&q(this.callStatic,o,oA(this,f,!0)),this.populateTransaction[o]==null&&q(this.populateTransaction,o,aV(this,f)),this.estimateGas[o]==null&&q(this.estimateGas,o,lV(this,f))}),Object.keys(i).forEach(o=>{const f=i[o];if(f.length>1)return;o=o.substring(1);const a=f[0];try{this[o]==null&&q(this,o,this[a])}catch{}this.functions[o]==null&&q(this.functions,o,this.functions[a]),this.callStatic[o]==null&&q(this.callStatic,o,this.callStatic[a]),this.populateTransaction[o]==null&&q(this.populateTransaction,o,this.populateTransaction[a]),this.estimateGas[o]==null&&q(this.estimateGas,o,this.estimateGas[a])})}static getContractAddress(e){return p4(e)}static getInterface(e){return Pv.isInterface(e)?e:new Pv(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Ot.throwError("contract not deployed",D.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Ot.throwError("sending a transactions require a signer",D.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Wt(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Ot.throwError("cannot override "+n,D.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new ug(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&q(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return k5.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new hV);if(e==="event")return this._normalizeRunningEvent(new ol("event",null));if(e==="*")return this._normalizeRunningEvent(new Bv(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Fv(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Fv(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ol(fA(r),r))}return this._normalizeRunningEvent(new Bv(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Vi(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||Ot.throwError("events require a provider or a signer with a provider",D.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const f=e.getEmit(o);this.emit(e.filter,...f)}catch(f){o.decodeError=f.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Wt(i.filter);return typeof r=="string"&&Ce(r,32)?(n!=null&&Ot.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(f=>this._wrapEvent(i,f,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class wd extends dV{}class aA{constructor(e){q(this,"alphabet",e),q(this,"base",e.length),q(this,"_alphabetMap",{}),q(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=le(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let f=0;f<n.length;++f)o+=n[f]<<8,n[f]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return le(new Uint8Array(r.reverse()))}}new aA("abcdefghijklmnopqrstuvwxyz234567");const D5=new aA("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function jv(t){return"0x"+Fn.sha256().update(le(t)).digest("hex")}const pV="networks/5.7.1",zv=new D(pV);function mV(t){return t&&typeof t.renetwork=="function"}function vi(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return vi(r)},e}function ih(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return ih(t,n)},r}const Hv={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:vi("homestead")},Gv={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:vi("ropsten")},$v={chainId:63,name:"classicMordor",_defaultProvider:ih("https://www.ethercluster.com/mordor","classicMordor")},Eu={unspecified:{chainId:0,name:"unspecified"},homestead:Hv,mainnet:Hv,morden:{chainId:2,name:"morden"},ropsten:Gv,testnet:Gv,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:vi("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:vi("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:vi("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:vi("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:ih("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:$v,classicTestnet:$v,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:ih("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:vi("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:vi("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function gV(t){if(t==null)return null;if(typeof t=="number"){for(const n in Eu){const i=Eu[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Eu[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Eu[t.name];if(!e)return typeof t.chainId!="number"&&zv.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&zv.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(mV(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const yV="web/5.7.1";var vV=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};function bV(t,e){return vV(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,f)=>{s[f.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:le(new Uint8Array(i))}})}var _V=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};const En=new D(yV);function qv(t){return new Promise(e=>{setTimeout(e,t)})}function Xi(t,e){if(t==null)return null;if(typeof t=="string")return t;if(sg(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return jl(t)}catch{}return oe(t)}return t}function wV(t){return ai(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function AV(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;En.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;En.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,f={};let a=null;const l={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")a=t;else if(typeof t=="object"){if((t==null||t.url==null)&&En.throwArgumentError("missing URL","connection.url",t),a=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const v in t.headers)f[v.toLowerCase()]={key:v,value:String(t.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){a.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&En.throwError("basic authentication requires a secure https url",D.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:t.user,password:"[REDACTED]"});const v=t.user+":"+t.password;f.authorization={key:"Authorization",value:"Basic "+T4(ai(v))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Wt(t.fetchOptions))}const p=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),y=a?a.match(p):null;if(y)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]||"text/plain"},body:y[2]?E4(y[3]):wV(y[3])};let b=v.body;return r&&(b=r(v.body,v)),Promise.resolve(b)}catch(v){En.throwError("processing response error",D.errors.SERVER_ERROR,{body:Xi(y[1],y[2]),error:v,requestBody:null,requestMethod:"GET",url:a})}e&&(l.method="POST",l.body=e,f["content-type"]==null&&(f["content-type"]={key:"Content-Type",value:"application/octet-stream"}),f["content-length"]==null&&(f["content-length"]={key:"Content-Length",value:String(e.length)}));const w={};Object.keys(f).forEach(v=>{const b=f[v];w[b.key]=b.value}),l.headers=w;const S=function(){let v=null;return{promise:new Promise(function(M,O){h&&(v=setTimeout(()=>{v!=null&&(v=null,O(En.makeError("timeout",D.errors.TIMEOUT,{requestBody:Xi(l.body,w["content-type"]),requestMethod:l.method,timeout:h,url:a})))},h))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}}(),P=function(){return _V(this,void 0,void 0,function*(){for(let v=0;v<n;v++){let b=null;try{if(b=yield bV(a,l),v<n){if(b.statusCode===301||b.statusCode===302){const M=b.headers.location||"";if(l.method==="GET"&&M.match(/^https:/)){a=b.headers.location;continue}}else if(b.statusCode===429){let M=!0;if(i&&(M=yield i(v,a)),M){let O=0;const V=b.headers["retry-after"];typeof V=="string"&&V.match(/^[1-9][0-9]*$/)?O=parseInt(V)*1e3:O=s*parseInt(String(Math.random()*Math.pow(2,v))),yield qv(O);continue}}}}catch(M){b=M.response,b==null&&(S.cancel(),En.throwError("missing response",D.errors.SERVER_ERROR,{requestBody:Xi(l.body,w["content-type"]),requestMethod:l.method,serverError:M,url:a}))}let T=b.body;if(u&&b.statusCode===304?T=null:!o&&(b.statusCode<200||b.statusCode>=300)&&(S.cancel(),En.throwError("bad response",D.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:Xi(T,b.headers?b.headers["content-type"]:null),requestBody:Xi(l.body,w["content-type"]),requestMethod:l.method,url:a})),r)try{const M=yield r(T,b);return S.cancel(),M}catch(M){if(M.throttleRetry&&v<n){let O=!0;if(i&&(O=yield i(v,a)),O){const V=s*parseInt(String(Math.random()*Math.pow(2,v)));yield qv(V);continue}}S.cancel(),En.throwError("processing response error",D.errors.SERVER_ERROR,{body:Xi(T,b.headers?b.headers["content-type"]:null),error:M,requestBody:Xi(l.body,w["content-type"]),requestMethod:l.method,url:a})}return S.cancel(),T}return En.throwError("failed response",D.errors.SERVER_ERROR,{requestBody:Xi(l.body,w["content-type"]),requestMethod:l.method,url:a})})}();return Promise.race([S.promise,P])}function mg(t,e,r){let n=(s,o)=>{let f=null;if(s!=null)try{f=JSON.parse(jl(s))}catch(a){En.throwError("invalid JSON",D.errors.SERVER_ERROR,{body:s,error:a})}return r&&(f=r(f,o)),f},i=null;if(e!=null){i=ai(e);const s=typeof t=="string"?{url:t}:Wt(t);s.headers?Object.keys(s.headers).filter(f=>f.toLowerCase()==="content-type").length!==0||(s.headers=Wt(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return AV(t,i,n)}function ta(t,e){return e||(e={}),e=Wt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const f=e.retryLimit;let a=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(a++,a>f){o()&&n(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,a)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(l,h)}return null},function(u){o()&&n(u)})}l()})}var sh="qpzry9x8gf2tvdw0s3jn54khce6mua7l",L5={};for(var Tu=0;Tu<sh.length;Tu++){var K1=sh.charAt(Tu);if(L5[K1]!==void 0)throw new TypeError(K1+" is ambiguous");L5[K1]=Tu}function No(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function lA(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=No(e)^n>>5}for(e=No(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=No(e)^i&31}return e}function EV(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=lA(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=No(n)^o,i+=sh.charAt(o)}for(s=0;s<6;++s)n=No(n);for(n^=1,s=0;s<6;++s){var f=n>>(5-s)*5&31;i+=sh.charAt(f)}return i}function uA(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var f=lA(s);if(typeof f=="string")return f;for(var a=[],l=0;l<o.length;++l){var u=o.charAt(l),h=L5[u];if(h===void 0)return"Unknown character "+u;f=No(f)^h,!(l+6>=o.length)&&a.push(h)}return f!==1?"Invalid checksum for "+t:{prefix:s,words:a}}function TV(){var t=uA.apply(null,arguments);if(typeof t=="object")return t}function IV(t){var e=uA.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Ad(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,f=[],a=0;a<t.length;++a)for(i=i<<e|t[a],s+=e;s>=r;)s-=r,f.push(i>>s&o);if(n)s>0&&f.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return f}function SV(t){var e=Ad(t,8,5,!0);if(Array.isArray(e))return e}function xV(t){var e=Ad(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function RV(t){var e=Ad(t,5,8,!1);if(Array.isArray(e))return e}function kV(t){var e=Ad(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var CV={decodeUnsafe:TV,decode:IV,encode:EV,toWordsUnsafe:SV,toWords:xV,fromWordsUnsafe:RV,fromWords:kV};const Wv=al(CV),Ed="providers/5.7.2",jf=new D(Ed);class ne{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),f=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:l,accessList:ne.allowNull(this.accessList.bind(this),null),blockHash:ne.allowNull(o,null),blockNumber:ne.allowNull(a,null),transactionIndex:ne.allowNull(a,null),confirmations:ne.allowNull(a,null),from:r,gasPrice:ne.allowNull(n),maxPriorityFeePerGas:ne.allowNull(n),maxFeePerGas:ne.allowNull(n),gasLimit:n,to:ne.allowNull(r,null),value:n,nonce:a,data:s,r:ne.allowNull(this.uint256),s:ne.allowNull(this.uint256),v:ne.allowNull(a),creates:ne.allowNull(r,null),raw:ne.allowNull(s)},e.transactionRequest={from:ne.allowNull(r),nonce:ne.allowNull(a),gasLimit:ne.allowNull(n),gasPrice:ne.allowNull(n),maxPriorityFeePerGas:ne.allowNull(n),maxFeePerGas:ne.allowNull(n),to:ne.allowNull(r),value:ne.allowNull(n),data:ne.allowNull(u),type:ne.allowNull(a),accessList:ne.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:r,topics:ne.arrayOf(o),data:s,logIndex:a,blockHash:o},e.receipt={to:ne.allowNull(this.address,null),from:ne.allowNull(this.address,null),contractAddress:ne.allowNull(r,null),transactionIndex:a,root:ne.allowNull(f),gasUsed:n,logsBloom:ne.allowNull(s),blockHash:o,transactionHash:o,logs:ne.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:ne.allowNull(a,null),cumulativeGasUsed:n,effectiveGasPrice:ne.allowNull(n),status:ne.allowNull(a),type:l},e.block={hash:ne.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:ne.allowNull(f),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:ne.allowNull(r),extraData:s,transactions:ne.allowNull(ne.arrayOf(o)),baseFeePerGas:ne.allowNull(n)},e.blockWithTransactions=Wt(e.block),e.blockWithTransactions.transactions=ne.allowNull(ne.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ne.allowNull(i,void 0),toBlock:ne.allowNull(i,void 0),blockHash:ne.allowNull(o,void 0),address:ne.allowNull(r,void 0),topics:ne.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ne.allowNull(a),blockHash:ne.allowNull(o),transactionIndex:a,removed:ne.allowNull(this.boolean.bind(this)),address:r,data:ne.allowFalsish(s,"0x"),topics:ne.arrayOf(o),transactionHash:o,logIndex:a},e}accessList(e){return Sf(e||[])}number(e){return e==="0x"?0:Q.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Q.from(e).toNumber()}bigNumber(e){return Q.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ce(e))?e.toLowerCase():jf.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return ar(e)}callAddress(e){if(!Ce(e,32))return null;const r=ar(pr(e,12));return r===aD?null:r}contractAddress(e){return p4(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ce(e))return og(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return P0(n)!==32?jf.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Q.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Ce(e))throw new Error("invalid uint256");return Nt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=ne.check(r,e);return i._difficulty=n==null?null:Q.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ne.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Q.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=ne.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Ce(n)&&(n=Q.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Ce(n)&&(n=Q.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return oV(e)}receiptLog(e){return ne.check(this.formats.receiptLog,e)}receipt(e){const r=ne.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Q.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&jf.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):jf.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&jf.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return ne.check(this.formats.filter,e)}filterLog(e){return ne.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var pe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};const be=new D(Ed),PV=10;function Kv(t){return t==null?"null":(P0(t)!==32&&be.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Qv(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[Kv(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return Kv(e)}).join("&")}function NV(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Q0(t){if(typeof t=="string"){if(t=t.toLowerCase(),P0(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Qv(t);if(lL.isForkEvent(t))throw be.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Qv(t.topics||[])}throw new Error("invalid event - "+t)}function zf(){return new Date().getTime()}function Yv(t){return new Promise(e=>{setTimeout(e,t)})}const MV=["block","network","pending","poll"];class OV{constructor(e,r,n){q(this,"tag",e),q(this,"listener",r),q(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=NV(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||MV.indexOf(this.tag)>=0}}const DV={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Q1(t){return Nt(Q.from(t).toHexString(),32)}function Jv(t){return D5.encode(Xr([t,pr(jv(jv(t)),0,4)]))}const cA=new RegExp("^(ipfs)://(.*)$","i"),Xv=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),cA,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Xu(t,e){try{return jl(fl(t,e))}catch{}return null}function fl(t,e){if(t==="0x")return null;const r=Q.from(pr(t,e,e+32)).toNumber(),n=Q.from(pr(t,r,r+32)).toNumber();return pr(t,r+32,r+32+n)}function Y1(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):be.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Zv(t){const e=le(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function LV(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function hA(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=le(t[n]);e[n]=Zv(r),e.push(Zv(i.length)),e.push(LV(i)),r+=32+Math.ceil(i.length/32)*32}return Vr(e)}class e8{constructor(e,r,n,i){q(this,"provider",e),q(this,"name",n),q(this,"address",e.formatter.address(r)),q(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Q.from(e).eq(1)).catch(e=>{if(e.code===D.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return pe(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Vr([e,Ku(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Vr(["0x9061b923",hA([KD(this.name),n.data])]));try{let s=yield this.provider.call(n);return le(s).length%32===4&&be.throwError("resolver threw error",D.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=fl(s,0)),s}catch(s){if(s.code===D.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return pe(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?fl(n,0):null})}_getAddress(e,r){const n=DV[String(e)];if(n==null&&be.throwError(`unsupported coin type: ${e}`,D.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=le(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Jv(Xr([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Jv(Xr([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const f=Wv.toWords(i.slice(2));return f.unshift(o),Wv.encode(n.prefix,f)}}return null}getAddress(e){return pe(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===hD?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===D.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Q1(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&be.throwError("invalid or unsupported coin data",D.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return pe(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Xv.length;n++){const i=r.match(Xv[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Y1(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const f=this._resolvedAddress||(yield this.getAddress()),a=(i[2]||"").split("/");if(a.length!==2)return null;const l=yield this.provider.formatter.address(a[0]),u=Nt(Q.from(a[1]).toHexString(),32);if(s==="erc721"){const S=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Vr(["0x6352211e",u])}));if(f!==S)return null;e.push({type:"owner",content:S})}else if(s==="erc1155"){const S=Q.from(yield this.provider.call({to:l,data:Vr(["0x00fdd58e",Nt(f,32),u])}));if(S.isZero())return null;e.push({type:"balance",content:S.toString()})}const h={to:this.provider.formatter.address(a[0]),data:Vr([o,u])};let p=Xu(yield this.provider.call(h),0);if(p==null)return null;e.push({type:"metadata-url-base",content:p}),s==="erc1155"&&(p=p.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:p})),p.match(/^ipfs:/i)&&(p=Y1(p)),e.push({type:"metadata-url",content:p});const y=yield mg(p);if(!y)return null;e.push({type:"metadata",content:JSON.stringify(y)});let w=y.image;if(typeof w!="string")return null;if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(cA)==null)return null;e.push({type:"url-ipfs",content:w}),w=Y1(w)}return e.push({type:"url",content:w}),{linkage:e,url:w}}}}}catch{}return null})}getContentHash(){return pe(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+D5.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+D5.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+T4("0x"+s[1]).replace(/[=+\/]/g,a=>o[a])}return be.throwError("invalid or unsupported content hash data",D.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return pe(this,void 0,void 0,function*(){let r=ai(e);r=Xr([Q1(64),Q1(r.length),r]),r.length%32!==0&&(r=Xr([r,Nt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",oe(r));return n==null||n==="0x"?null:jl(n)})}}let J1=null,UV=1;class VV extends gd{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),q(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Qn(new.target,"getNetwork")(e);r?(q(this,"_network",r),this.emit("network",r,null)):be.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return pe(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||be.throwError("no network detected",D.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:q(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ta(()=>this._ready().then(e=>e,e=>{if(!(e.code===D.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return J1==null&&(J1=new ne),J1}static getNetwork(e){return gV(e??"homestead")}ccipReadFetch(e,r,n){return pe(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let f=0;f<n.length;f++){const a=n[f],l=a.replace("{sender}",i).replace("{data}",s),u=a.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield mg({url:l,errorPassThrough:!0},u,(y,w)=>(y.status=w.statusCode,y));if(h.data)return h.data;const p=h.message||"unknown error";if(h.status>=400&&h.status<500)return be.throwError(`response not found during CCIP fetch: ${p}`,D.errors.SERVER_ERROR,{url:a,errorMessage:p});o.push(p)}return be.throwError(`error encountered during CCIP fetch: ${o.map(f=>JSON.stringify(f)).join(", ")}`,D.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return pe(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(zf()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=zf(),n=Ft({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=zf();return i=Q.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return pe(this,void 0,void 0,function*(){const e=UV++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)be.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",be.makeError("network block skew detected",D.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(f=>(!f||f.blockNumber==null||(this._emitted["t:"+s]=f.blockNumber,this.emit(s,f)),null)).catch(f=>{this.emit("error",f)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const f=this.getLogs(s).then(a=>{i._inflight=!1,a.length!==0&&a.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(a=>{this.emit("error",a),i._inflight=!1});r.push(f)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return pe(this,void 0,void 0,function*(){return be.throwError("provider does not support network detection",D.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return pe(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Yv(0),this._network;const n=be.makeError("underlying network changed",D.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=zf();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=zf(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return pe(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return pe(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,f)=>{const a=[];let l=!1;const u=function(){return l?!0:(l=!0,a.forEach(p=>{p()}),!1)},h=p=>{p.confirmations<r||u()||o(p)};if(this.on(e,h),a.push(()=>{this.removeListener(e,h)}),i){let p=i.startBlock,y=null;const w=S=>pe(this,void 0,void 0,function*(){l||(yield Yv(1e3),this.getTransactionCount(i.from).then(P=>pe(this,void 0,void 0,function*(){if(!l){if(P<=i.nonce)p=S;else{{const v=yield this.getTransaction(e);if(v&&v.blockNumber!=null)return}for(y==null&&(y=p-3,y<i.startBlock&&(y=i.startBlock));y<=S;){if(l)return;const v=yield this.getBlockWithTransactions(y);for(let b=0;b<v.transactions.length;b++){const T=v.transactions[b];if(T.hash===e)return;if(T.from===i.from&&T.nonce===i.nonce){if(l)return;const M=yield this.waitForTransaction(T.hash,r);if(u())return;let O="replaced";T.data===i.data&&T.to===i.to&&T.value.eq(i.value)?O="repriced":T.data==="0x"&&T.from===T.to&&T.value.isZero()&&(O="cancelled"),f(be.makeError("transaction was replaced",D.errors.TRANSACTION_REPLACED,{cancelled:O==="replaced"||O==="cancelled",reason:O,replacement:this._wrapTransaction(T),hash:e,receipt:M}));return}}y++}}l||this.once("block",w)}}),P=>{l||this.once("block",w)}))});if(l)return;this.once("block",w),a.push(()=>{this.removeListener("block",w)})}if(typeof n=="number"&&n>0){const p=setTimeout(()=>{u()||f(be.makeError("timeout exceeded",D.errors.TIMEOUT,{timeout:n}))},n);p.unref&&p.unref(),a.push(()=>{clearTimeout(p)})}})})}getBlockNumber(){return pe(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Q.from(e)}catch(r){return be.throwError("bad result from backend",D.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ft({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Q.from(i)}catch(s){return be.throwError("bad result from backend",D.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ft({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Q.from(i).toNumber()}catch(s){return be.throwError("bad result from backend",D.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ft({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return oe(i)}catch(s){return be.throwError("bad result from backend",D.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Ft({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>og(o))}),s=yield this.perform("getStorageAt",i);try{return oe(s)}catch(o){return be.throwError("bad result from backend",D.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&P0(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&be.throwError("Transaction hash mismatch from Provider.sendTransaction.",D.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>pe(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let f;s!==0&&n!=null&&(f={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const a=yield this._waitForTransaction(e.hash,s,o,f);return a==null&&s===0?null:(this._emitted["t:"+e.hash]=a.blockNumber,a.status===0&&be.throwError("transaction failed",D.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:a}),a)}),i}sendTransaction(e){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>oe(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return pe(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Q.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?oe(s):null))}),this.formatter.transactionRequest(yield Ft(n))})}_getFilter(e){return pe(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Ft(r))})}_call(e,r,n){return pe(this,void 0,void 0,function*(){n>=PV&&be.throwError("CCIP read exceeded maximum redirections",D.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&P0(s)%32===4)try{const o=pr(s,4),f=pr(o,0,32);Q.from(f).eq(i)||be.throwError("CCIP Read sender did not match",D.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const a=[],l=Q.from(pr(o,32,64)).toNumber(),u=Q.from(pr(o,l,l+32)).toNumber(),h=pr(o,l+32);for(let v=0;v<u;v++){const b=Xu(h,v*32);b==null&&be.throwError("CCIP Read contained corrupt URL string",D.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),a.push(b)}const p=fl(o,64);Q.from(pr(o,100,128)).isZero()||be.throwError("CCIP Read callback selector included junk",D.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y=pr(o,96,100),w=fl(o,128),S=yield this.ccipReadFetch(e,p,a);S==null&&be.throwError("CCIP Read disabled or provided no URLs",D.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const P={to:i,data:Vr([y,hA([S,w])])};return this._call(P,r,n+1)}catch(o){if(o.code===D.errors.SERVER_ERROR)throw o}try{return oe(s)}catch(o){return be.throwError("bad result from backend",D.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ft({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ft({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Q.from(n)}catch(i){return be.throwError("bad result from backend",D.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return pe(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&be.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&be.throwError("ENS name not configured",D.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return pe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Ce(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Ce(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{be.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ta(()=>pe(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let a=0;a<s.transactions.length;a++){const l=s.transactions[a];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const f=this.formatter.blockWithTransactions(s);return f.transactions=f.transactions.map(a=>this._wrapTransaction(a)),f}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return pe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ta(()=>pe(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return pe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ta(()=>pe(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return pe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ft({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),ne.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return pe(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return pe(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&be.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return pe(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new e8(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return pe(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||be.throwError("network does not support ENS",D.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Ku(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return pe(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Ce(e))throw n}typeof e!="string"&&be.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return pe(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Xu(yield this.call({to:n,data:"0x691f3431"+Ku(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return pe(this,void 0,void 0,function*(){let r=null;if(Ce(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new e8(this,o,s);try{const f=yield r.getAvatar();if(f)return f.url}catch(f){if(f.code!==D.errors.CALL_EXCEPTION)throw f}try{const f=Xu(yield this.call({to:o,data:"0x691f3431"+Ku(s).substring(2)}),0);r=yield this.getResolver(f)}catch(f){if(f.code!==D.errors.CALL_EXCEPTION)throw f;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return be.throwError(e+" not implemented",D.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new OV(Q0(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Q0(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Q0(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Q0(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Q0(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Q0(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var gi=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(u){try{l(n.next(u))}catch(h){o(h)}}function a(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(f,a)}l((n=n.apply(t,e||[])).next())})};const Bt=new D(Ed),FV=["call","estimateGas"];function ba(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Ce(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=ba(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return ba(JSON.parse(t),e)}catch{}return null}function dA(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=ba(e,!0);if(s)return s.data;Bt.throwError("missing revert data in call exception; Transaction reverted without a reason string",D.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=ba(e.body,!1);s==null&&(s=ba(e,!1)),s&&Bt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",D.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===D.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Bt.throwError("insufficient funds for intrinsic transaction cost",D.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Bt.throwError("nonce has already been used",D.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Bt.throwError("replacement fee too low",D.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Bt.throwError("legacy pre-eip-155 transactions not supported",D.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),FV.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Bt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",D.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function t8(t){return new Promise(function(e){setTimeout(e,t)})}function BV(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Hf(t){return t&&t.toLowerCase()}const U5={};class pA extends zl{constructor(e,r,n){if(super(),e!==U5)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");q(this,"provider",r),n==null&&(n=0),typeof n=="string"?(q(this,"_address",this.provider.formatter.address(n)),q(this,"_index",null)):typeof n=="number"?(q(this,"_index",n),q(this,"_address",null)):Bt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Bt.throwError("cannot alter JSON-RPC Signer connection",D.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new jV(U5,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Bt.throwError("unknown account #"+this._index,D.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Wt(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Wt(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>gi(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Bt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Ft({tx:Ft(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Bt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Bt.throwError("user rejected transaction",D.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),dA("sendTransaction",o,s)))})}signTransaction(e){return Bt.throwError("signing transactions is unsupported",D.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return gi(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ta(()=>gi(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return gi(this,void 0,void 0,function*(){const r=typeof e=="string"?ai(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[oe(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Bt.throwError("user rejected signing",D.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return gi(this,void 0,void 0,function*(){const r=typeof e=="string"?ai(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),oe(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Bt.throwError("user rejected signing",D.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return gi(this,void 0,void 0,function*(){const i=yield $r.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify($r.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Bt.throwError("user rejected signing",D.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return gi(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class jV extends pA{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const zV={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class HV extends VV{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Qn(this.constructor,"defaultUrl")()),typeof e=="string"?q(this,"connection",Object.freeze({url:e})):q(this,"connection",Object.freeze(Wt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return gi(this,void 0,void 0,function*(){yield t8(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Qn(this.constructor,"getNetwork");try{return r(Q.from(e).toNumber())}catch(n){return Bt.throwError("could not detect network",D.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Bt.throwError("could not detect network",D.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new pA(U5,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Vi(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=mg(this.connection,JSON.stringify(n),BV).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Hf(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Hf(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Hf(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Hf(r.address),Nt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Qn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Qn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Hf(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return gi(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Q.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Wt(r),r.transaction=Wt(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Bt.throwError(e+" not implemented",D.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return dA(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(f){e._emitted["t:"+f.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(f).then(function(a){return e.emit("pending",a),null})})}),o.then(function(){return t8(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Wt(zV);if(r)for(const s in r)r[s]&&(n[s]=!0);FO(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=og(Q.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=oe(e[s]))}),e.accessList&&(i.accessList=Sf(e.accessList)),i}}const r8=new D(Ed);let GV=1;function n8(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:GV++,jsonrpc:"2.0"};return new Promise((o,f)=>{this.emit("debug",{action:"request",fetcher:r,request:Vi(s),provider:this}),e(s,(a,l)=>{if(a)return this.emit("debug",{action:"response",fetcher:r,error:a,request:s,provider:this}),f(a);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,f(u)}o(l.result)})})}}function $V(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Vi(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class Td extends HV{constructor(e,r){e==null&&r8.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=$V(e)):e.sendAsync?i=n8(e,e.sendAsync.bind(e)):e.send?i=n8(e,e.send.bind(e)):r8.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),q(this,"jsonRpcFetchFunc",i),q(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const mA=t=>{const[e,r]=L.useState(null),n=async i=>{i.preventDefault();try{let o=i.target.sendAmount.value,f=i.target.recieverAddress.value,a=await t.contract.transfer(f,o);r(a.hash);var s=Pt.collection("products").doc("your_doc_id");s.update({propertyToBeUpdated:"newValue"})}catch(o){console.log(o)}};return x.jsx("div",{className:hn.interactionsCard,children:x.jsxs("form",{onSubmit:n,children:[x.jsx("h3",{children:" Transfer Coins "}),x.jsx("p",{children:" Reciever Address "}),x.jsx("input",{type:"text",id:"recieverAddress",className:hn.addressInput}),x.jsx("p",{children:" Send Amount "}),x.jsx("input",{type:"number",id:"sendAmount",min:"0",step:"1"}),x.jsx("button",{type:"submit",className:hn.button6,children:"Send"}),x.jsx("div",{children:e})]})})},qV="hh-sol-artifact-1",WV="TokenFactory",KV="contracts/TokenFactory.sol",QV=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"tokenAddress",type:"address"}],name:"TokenDeployed",type:"event"},{inputs:[{internalType:"uint256",name:"_initialSupply",type:"uint256"},{internalType:"string",name:"_tname",type:"string"},{internalType:"string",name:"_tiker",type:"string"}],name:"createToken",outputs:[{internalType:"address",name:"tokenAddress",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"list_of_tokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],YV="0x608060405234801561001057600080fd5b506000600181905550613006806100286000396000f3fe60806040523480156200001157600080fd5b5060043610620000465760003560e01c80638d24d8d4146200004b5780639f181b5e1462000081578063b1037e7814620000a3575b600080fd5b62000069600480360381019062000063919062000304565b620000d9565b6040516200007891906200037b565b60405180910390f35b6200008b62000119565b6040516200009a9190620003a9565b60405180910390f35b620000c16004803603810190620000bb919062000528565b6200011f565b604051620000d091906200037b565b60405180910390f35b60008181548110620000ea57600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60015481565b6000600160008154809291906200013690620005f1565b919050555060008484846040516200014e90620002a7565b6200015c93929190620006c7565b604051809103906000f08015801562000179573d6000803e3d6000fd5b5090508073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb33876040518363ffffffff1660e01b8152600401620001b992919062000712565b6020604051808303816000875af1158015620001d9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620001ff91906200077c565b506000819080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f91d24864a084ab70b268a1f865e757ca12006cf298d763b6be697302ef86498c816040516200029491906200037b565b60405180910390a1809150509392505050565b61282280620007af83390190565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b620002de81620002c9565b8114620002ea57600080fd5b50565b600081359050620002fe81620002d3565b92915050565b6000602082840312156200031d576200031c620002bf565b5b60006200032d84828501620002ed565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620003638262000336565b9050919050565b620003758162000356565b82525050565b60006020820190506200039260008301846200036a565b92915050565b620003a381620002c9565b82525050565b6000602082019050620003c0600083018462000398565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6200041b82620003d0565b810181811067ffffffffffffffff821117156200043d576200043c620003e1565b5b80604052505050565b600062000452620002b5565b905062000460828262000410565b919050565b600067ffffffffffffffff821115620004835762000482620003e1565b5b6200048e82620003d0565b9050602081019050919050565b82818337600083830152505050565b6000620004c1620004bb8462000465565b62000446565b905082815260208101848484011115620004e057620004df620003cb565b5b620004ed8482856200049b565b509392505050565b600082601f8301126200050d576200050c620003c6565b5b81356200051f848260208601620004aa565b91505092915050565b600080600060608486031215620005445762000543620002bf565b5b60006200055486828701620002ed565b935050602084013567ffffffffffffffff811115620005785762000577620002c4565b5b6200058686828701620004f5565b925050604084013567ffffffffffffffff811115620005aa57620005a9620002c4565b5b620005b886828701620004f5565b9150509250925092565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000620005fe82620002c9565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203620006335762000632620005c2565b5b600182019050919050565b600081519050919050565b600082825260208201905092915050565b60005b838110156200067a5780820151818401526020810190506200065d565b60008484015250505050565b600062000693826200063e565b6200069f818562000649565b9350620006b18185602086016200065a565b620006bc81620003d0565b840191505092915050565b6000606082019050620006de600083018662000398565b8181036020830152620006f2818562000686565b9050818103604083015262000708818462000686565b9050949350505050565b60006040820190506200072960008301856200036a565b62000738602083018462000398565b9392505050565b60008115159050919050565b62000756816200073f565b81146200076257600080fd5b50565b60008151905062000776816200074b565b92915050565b600060208284031215620007955762000794620002bf565b5b6000620007a58482850162000765565b9150509291505056fe60806040523480156200001157600080fd5b5060405162002822380380620028228339818101604052810190620000379190620004d1565b818181600390816200004a9190620007ac565b5080600490816200005c9190620007ac565b5050506200007f62000073620000be60201b60201c565b620000c660201b60201c565b8160069081620000909190620007ac565b508060079081620000a29190620007ac565b50620000b533846200018c60201b60201c565b505050620009ae565b600033905090565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603620001fe576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620001f590620008f4565b60405180910390fd5b6200021260008383620002f960201b60201c565b806002600082825462000226919062000945565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051620002d9919062000991565b60405180910390a3620002f560008383620002fe60201b60201c565b5050565b505050565b505050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6200032c8162000317565b81146200033857600080fd5b50565b6000815190506200034c8162000321565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620003a7826200035c565b810181811067ffffffffffffffff82111715620003c957620003c86200036d565b5b80604052505050565b6000620003de62000303565b9050620003ec82826200039c565b919050565b600067ffffffffffffffff8211156200040f576200040e6200036d565b5b6200041a826200035c565b9050602081019050919050565b60005b83811015620004475780820151818401526020810190506200042a565b60008484015250505050565b60006200046a6200046484620003f1565b620003d2565b90508281526020810184848401111562000489576200048862000357565b5b6200049684828562000427565b509392505050565b600082601f830112620004b657620004b562000352565b5b8151620004c884826020860162000453565b91505092915050565b600080600060608486031215620004ed57620004ec6200030d565b5b6000620004fd868287016200033b565b935050602084015167ffffffffffffffff81111562000521576200052062000312565b5b6200052f868287016200049e565b925050604084015167ffffffffffffffff81111562000553576200055262000312565b5b62000561868287016200049e565b9150509250925092565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620005be57607f821691505b602082108103620005d457620005d362000576565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026200063e7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82620005ff565b6200064a8683620005ff565b95508019841693508086168417925050509392505050565b6000819050919050565b60006200068d62000687620006818462000317565b62000662565b62000317565b9050919050565b6000819050919050565b620006a9836200066c565b620006c1620006b88262000694565b8484546200060c565b825550505050565b600090565b620006d8620006c9565b620006e58184846200069e565b505050565b5b818110156200070d5762000701600082620006ce565b600181019050620006eb565b5050565b601f8211156200075c576200072681620005da565b6200073184620005ef565b8101602085101562000741578190505b620007596200075085620005ef565b830182620006ea565b50505b505050565b600082821c905092915050565b6000620007816000198460080262000761565b1980831691505092915050565b60006200079c83836200076e565b9150826002028217905092915050565b620007b7826200056b565b67ffffffffffffffff811115620007d357620007d26200036d565b5b620007df8254620005a5565b620007ec82828562000711565b600060209050601f8311600181146200082457600084156200080f578287015190505b6200081b85826200078e565b8655506200088b565b601f1984166200083486620005da565b60005b828110156200085e5784890151825560018201915060208501945060208101905062000837565b868310156200087e57848901516200087a601f8916826200076e565b8355505b6001600288020188555050505b505050505050565b600082825260208201905092915050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b6000620008dc601f8362000893565b9150620008e982620008a4565b602082019050919050565b600060208201905081810360008301526200090f81620008cd565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000620009528262000317565b91506200095f8362000317565b92508282019050808211156200097a576200097962000916565b5b92915050565b6200098b8162000317565b82525050565b6000602082019050620009a8600083018462000980565b92915050565b611e6480620009be6000396000f3fe608060405234801561001057600080fd5b50600436106101375760003560e01c806342966c68116100b85780638da5cb5b1161007c5780638da5cb5b1461032c57806395d89b411461034a578063a457c2d714610368578063a9059cbb14610398578063dd62ed3e146103c8578063f2fde38b146103f857610137565b806342966c681461029c5780635d366307146102b857806370a08231146102d6578063715018a61461030657806379cc67901461031057610137565b806323b872dd116100ff57806323b872dd146101e4578063313ce567146102145780633373bffb14610232578063395093511461025057806340c10f191461028057610137565b806301f6264e1461013c57806306fdde031461015a578063095ea7b31461017857806318160ddd146101a8578063188944ac146101c6575b600080fd5b610144610414565b604051610151919061145c565b60405180910390f35b6101626104a6565b60405161016f919061145c565b60405180910390f35b610192600480360381019061018d9190611517565b610538565b60405161019f9190611572565b60405180910390f35b6101b061055b565b6040516101bd919061159c565b60405180910390f35b6101ce610565565b6040516101db919061145c565b60405180910390f35b6101fe60048036038101906101f991906115b7565b6105f7565b60405161020b9190611572565b60405180910390f35b61021c610626565b6040516102299190611626565b60405180910390f35b61023a61062f565b604051610247919061145c565b60405180910390f35b61026a60048036038101906102659190611517565b6106bd565b6040516102779190611572565b60405180910390f35b61029a60048036038101906102959190611517565b6106f4565b005b6102b660048036038101906102b19190611641565b61070a565b005b6102c061071e565b6040516102cd919061145c565b60405180910390f35b6102f060048036038101906102eb919061166e565b6107ac565b6040516102fd919061159c565b60405180910390f35b61030e6107f4565b005b61032a60048036038101906103259190611517565b610808565b005b610334610828565b60405161034191906116aa565b60405180910390f35b610352610852565b60405161035f919061145c565b60405180910390f35b610382600480360381019061037d9190611517565b6108e4565b60405161038f9190611572565b60405180910390f35b6103b260048036038101906103ad9190611517565b61095b565b6040516103bf9190611572565b60405180910390f35b6103e260048036038101906103dd91906116c5565b61097e565b6040516103ef919061159c565b60405180910390f35b610412600480360381019061040d919061166e565b610a05565b005b60606006805461042390611734565b80601f016020809104026020016040519081016040528092919081815260200182805461044f90611734565b801561049c5780601f106104715761010080835404028352916020019161049c565b820191906000526020600020905b81548152906001019060200180831161047f57829003601f168201915b5050505050905090565b6060600380546104b590611734565b80601f01602080910402602001604051908101604052809291908181526020018280546104e190611734565b801561052e5780601f106105035761010080835404028352916020019161052e565b820191906000526020600020905b81548152906001019060200180831161051157829003601f168201915b5050505050905090565b600080610543610a88565b9050610550818585610a90565b600191505092915050565b6000600254905090565b60606007805461057490611734565b80601f01602080910402602001604051908101604052809291908181526020018280546105a090611734565b80156105ed5780601f106105c2576101008083540402835291602001916105ed565b820191906000526020600020905b8154815290600101906020018083116105d057829003601f168201915b5050505050905090565b600080610602610a88565b905061060f858285610c59565b61061a858585610ce5565b60019150509392505050565b60006002905090565b6007805461063c90611734565b80601f016020809104026020016040519081016040528092919081815260200182805461066890611734565b80156106b55780601f1061068a576101008083540402835291602001916106b5565b820191906000526020600020905b81548152906001019060200180831161069857829003601f168201915b505050505081565b6000806106c8610a88565b90506106e98185856106da858961097e565b6106e49190611794565b610a90565b600191505092915050565b6106fc610f5b565b6107068282610fd9565b5050565b61071b610715610a88565b8261112f565b50565b6006805461072b90611734565b80601f016020809104026020016040519081016040528092919081815260200182805461075790611734565b80156107a45780601f10610779576101008083540402835291602001916107a4565b820191906000526020600020905b81548152906001019060200180831161078757829003601f168201915b505050505081565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6107fc610f5b565b61080660006112fc565b565b61081a82610814610a88565b83610c59565b610824828261112f565b5050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60606004805461086190611734565b80601f016020809104026020016040519081016040528092919081815260200182805461088d90611734565b80156108da5780601f106108af576101008083540402835291602001916108da565b820191906000526020600020905b8154815290600101906020018083116108bd57829003601f168201915b5050505050905090565b6000806108ef610a88565b905060006108fd828661097e565b905083811015610942576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109399061183a565b60405180910390fd5b61094f8286868403610a90565b60019250505092915050565b600080610966610a88565b9050610973818585610ce5565b600191505092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b610a0d610f5b565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610a7c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a73906118cc565b60405180910390fd5b610a85816112fc565b50565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610aff576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610af69061195e565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610b6e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b65906119f0565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92583604051610c4c919061159c565b60405180910390a3505050565b6000610c65848461097e565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610cdf5781811015610cd1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc890611a5c565b60405180910390fd5b610cde8484848403610a90565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610d54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d4b90611aee565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610dc3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dba90611b80565b60405180910390fd5b610dce8383836113c2565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610e54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4b90611c12565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610f42919061159c565b60405180910390a3610f558484846113c7565b50505050565b610f63610a88565b73ffffffffffffffffffffffffffffffffffffffff16610f81610828565b73ffffffffffffffffffffffffffffffffffffffff1614610fd7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fce90611c7e565b60405180910390fd5b565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611048576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161103f90611cea565b60405180910390fd5b611054600083836113c2565b80600260008282546110669190611794565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051611117919061159c565b60405180910390a361112b600083836113c7565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361119e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161119590611d7c565b60405180910390fd5b6111aa826000836113c2565b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015611230576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161122790611e0e565b60405180910390fd5b8181036000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555081600260008282540392505081905550600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516112e3919061159c565b60405180910390a36112f7836000846113c7565b505050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b505050565b505050565b600081519050919050565b600082825260208201905092915050565b60005b838110156114065780820151818401526020810190506113eb565b60008484015250505050565b6000601f19601f8301169050919050565b600061142e826113cc565b61143881856113d7565b93506114488185602086016113e8565b61145181611412565b840191505092915050565b600060208201905081810360008301526114768184611423565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006114ae82611483565b9050919050565b6114be816114a3565b81146114c957600080fd5b50565b6000813590506114db816114b5565b92915050565b6000819050919050565b6114f4816114e1565b81146114ff57600080fd5b50565b600081359050611511816114eb565b92915050565b6000806040838503121561152e5761152d61147e565b5b600061153c858286016114cc565b925050602061154d85828601611502565b9150509250929050565b60008115159050919050565b61156c81611557565b82525050565b60006020820190506115876000830184611563565b92915050565b611596816114e1565b82525050565b60006020820190506115b1600083018461158d565b92915050565b6000806000606084860312156115d0576115cf61147e565b5b60006115de868287016114cc565b93505060206115ef868287016114cc565b925050604061160086828701611502565b9150509250925092565b600060ff82169050919050565b6116208161160a565b82525050565b600060208201905061163b6000830184611617565b92915050565b6000602082840312156116575761165661147e565b5b600061166584828501611502565b91505092915050565b6000602082840312156116845761168361147e565b5b6000611692848285016114cc565b91505092915050565b6116a4816114a3565b82525050565b60006020820190506116bf600083018461169b565b92915050565b600080604083850312156116dc576116db61147e565b5b60006116ea858286016114cc565b92505060206116fb858286016114cc565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061174c57607f821691505b60208210810361175f5761175e611705565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061179f826114e1565b91506117aa836114e1565b92508282019050808211156117c2576117c1611765565b5b92915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b60006118246025836113d7565b915061182f826117c8565b604082019050919050565b6000602082019050818103600083015261185381611817565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b60006118b66026836113d7565b91506118c18261185a565b604082019050919050565b600060208201905081810360008301526118e5816118a9565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006119486024836113d7565b9150611953826118ec565b604082019050919050565b600060208201905081810360008301526119778161193b565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b60006119da6022836113d7565b91506119e58261197e565b604082019050919050565b60006020820190508181036000830152611a09816119cd565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b6000611a46601d836113d7565b9150611a5182611a10565b602082019050919050565b60006020820190508181036000830152611a7581611a39565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611ad86025836113d7565b9150611ae382611a7c565b604082019050919050565b60006020820190508181036000830152611b0781611acb565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000611b6a6023836113d7565b9150611b7582611b0e565b604082019050919050565b60006020820190508181036000830152611b9981611b5d565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b6000611bfc6026836113d7565b9150611c0782611ba0565b604082019050919050565b60006020820190508181036000830152611c2b81611bef565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b6000611c686020836113d7565b9150611c7382611c32565b602082019050919050565b60006020820190508181036000830152611c9781611c5b565b9050919050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b6000611cd4601f836113d7565b9150611cdf82611c9e565b602082019050919050565b60006020820190508181036000830152611d0381611cc7565b9050919050565b7f45524332303a206275726e2066726f6d20746865207a65726f2061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b6000611d666021836113d7565b9150611d7182611d0a565b604082019050919050565b60006020820190508181036000830152611d9581611d59565b9050919050565b7f45524332303a206275726e20616d6f756e7420657863656564732062616c616e60008201527f6365000000000000000000000000000000000000000000000000000000000000602082015250565b6000611df86022836113d7565b9150611e0382611d9c565b604082019050919050565b60006020820190508181036000830152611e2781611deb565b905091905056fea2646970667358221220fb3d37898f2f37f8b30d5186ad788edcace9564a87ab56ef371f6ce861943faa64736f6c63430008110033a2646970667358221220603fe9ede1e051fef556d7c4b12e86d11e09b99964e207e18d10f57b0c4a3d2164736f6c63430008110033",JV="0x60806040523480156200001157600080fd5b5060043610620000465760003560e01c80638d24d8d4146200004b5780639f181b5e1462000081578063b1037e7814620000a3575b600080fd5b62000069600480360381019062000063919062000304565b620000d9565b6040516200007891906200037b565b60405180910390f35b6200008b62000119565b6040516200009a9190620003a9565b60405180910390f35b620000c16004803603810190620000bb919062000528565b6200011f565b604051620000d091906200037b565b60405180910390f35b60008181548110620000ea57600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60015481565b6000600160008154809291906200013690620005f1565b919050555060008484846040516200014e90620002a7565b6200015c93929190620006c7565b604051809103906000f08015801562000179573d6000803e3d6000fd5b5090508073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb33876040518363ffffffff1660e01b8152600401620001b992919062000712565b6020604051808303816000875af1158015620001d9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620001ff91906200077c565b506000819080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f91d24864a084ab70b268a1f865e757ca12006cf298d763b6be697302ef86498c816040516200029491906200037b565b60405180910390a1809150509392505050565b61282280620007af83390190565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b620002de81620002c9565b8114620002ea57600080fd5b50565b600081359050620002fe81620002d3565b92915050565b6000602082840312156200031d576200031c620002bf565b5b60006200032d84828501620002ed565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620003638262000336565b9050919050565b620003758162000356565b82525050565b60006020820190506200039260008301846200036a565b92915050565b620003a381620002c9565b82525050565b6000602082019050620003c0600083018462000398565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6200041b82620003d0565b810181811067ffffffffffffffff821117156200043d576200043c620003e1565b5b80604052505050565b600062000452620002b5565b905062000460828262000410565b919050565b600067ffffffffffffffff821115620004835762000482620003e1565b5b6200048e82620003d0565b9050602081019050919050565b82818337600083830152505050565b6000620004c1620004bb8462000465565b62000446565b905082815260208101848484011115620004e057620004df620003cb565b5b620004ed8482856200049b565b509392505050565b600082601f8301126200050d576200050c620003c6565b5b81356200051f848260208601620004aa565b91505092915050565b600080600060608486031215620005445762000543620002bf565b5b60006200055486828701620002ed565b935050602084013567ffffffffffffffff811115620005785762000577620002c4565b5b6200058686828701620004f5565b925050604084013567ffffffffffffffff811115620005aa57620005a9620002c4565b5b620005b886828701620004f5565b9150509250925092565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000620005fe82620002c9565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203620006335762000632620005c2565b5b600182019050919050565b600081519050919050565b600082825260208201905092915050565b60005b838110156200067a5780820151818401526020810190506200065d565b60008484015250505050565b600062000693826200063e565b6200069f818562000649565b9350620006b18185602086016200065a565b620006bc81620003d0565b840191505092915050565b6000606082019050620006de600083018662000398565b8181036020830152620006f2818562000686565b9050818103604083015262000708818462000686565b9050949350505050565b60006040820190506200072960008301856200036a565b62000738602083018462000398565b9392505050565b60008115159050919050565b62000756816200073f565b81146200076257600080fd5b50565b60008151905062000776816200074b565b92915050565b600060208284031215620007955762000794620002bf565b5b6000620007a58482850162000765565b9150509291505056fe60806040523480156200001157600080fd5b5060405162002822380380620028228339818101604052810190620000379190620004d1565b818181600390816200004a9190620007ac565b5080600490816200005c9190620007ac565b5050506200007f62000073620000be60201b60201c565b620000c660201b60201c565b8160069081620000909190620007ac565b508060079081620000a29190620007ac565b50620000b533846200018c60201b60201c565b505050620009ae565b600033905090565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603620001fe576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620001f590620008f4565b60405180910390fd5b6200021260008383620002f960201b60201c565b806002600082825462000226919062000945565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051620002d9919062000991565b60405180910390a3620002f560008383620002fe60201b60201c565b5050565b505050565b505050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6200032c8162000317565b81146200033857600080fd5b50565b6000815190506200034c8162000321565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620003a7826200035c565b810181811067ffffffffffffffff82111715620003c957620003c86200036d565b5b80604052505050565b6000620003de62000303565b9050620003ec82826200039c565b919050565b600067ffffffffffffffff8211156200040f576200040e6200036d565b5b6200041a826200035c565b9050602081019050919050565b60005b83811015620004475780820151818401526020810190506200042a565b60008484015250505050565b60006200046a6200046484620003f1565b620003d2565b90508281526020810184848401111562000489576200048862000357565b5b6200049684828562000427565b509392505050565b600082601f830112620004b657620004b562000352565b5b8151620004c884826020860162000453565b91505092915050565b600080600060608486031215620004ed57620004ec6200030d565b5b6000620004fd868287016200033b565b935050602084015167ffffffffffffffff81111562000521576200052062000312565b5b6200052f868287016200049e565b925050604084015167ffffffffffffffff81111562000553576200055262000312565b5b62000561868287016200049e565b9150509250925092565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620005be57607f821691505b602082108103620005d457620005d362000576565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026200063e7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82620005ff565b6200064a8683620005ff565b95508019841693508086168417925050509392505050565b6000819050919050565b60006200068d62000687620006818462000317565b62000662565b62000317565b9050919050565b6000819050919050565b620006a9836200066c565b620006c1620006b88262000694565b8484546200060c565b825550505050565b600090565b620006d8620006c9565b620006e58184846200069e565b505050565b5b818110156200070d5762000701600082620006ce565b600181019050620006eb565b5050565b601f8211156200075c576200072681620005da565b6200073184620005ef565b8101602085101562000741578190505b620007596200075085620005ef565b830182620006ea565b50505b505050565b600082821c905092915050565b6000620007816000198460080262000761565b1980831691505092915050565b60006200079c83836200076e565b9150826002028217905092915050565b620007b7826200056b565b67ffffffffffffffff811115620007d357620007d26200036d565b5b620007df8254620005a5565b620007ec82828562000711565b600060209050601f8311600181146200082457600084156200080f578287015190505b6200081b85826200078e565b8655506200088b565b601f1984166200083486620005da565b60005b828110156200085e5784890151825560018201915060208501945060208101905062000837565b868310156200087e57848901516200087a601f8916826200076e565b8355505b6001600288020188555050505b505050505050565b600082825260208201905092915050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b6000620008dc601f8362000893565b9150620008e982620008a4565b602082019050919050565b600060208201905081810360008301526200090f81620008cd565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000620009528262000317565b91506200095f8362000317565b92508282019050808211156200097a576200097962000916565b5b92915050565b6200098b8162000317565b82525050565b6000602082019050620009a8600083018462000980565b92915050565b611e6480620009be6000396000f3fe608060405234801561001057600080fd5b50600436106101375760003560e01c806342966c68116100b85780638da5cb5b1161007c5780638da5cb5b1461032c57806395d89b411461034a578063a457c2d714610368578063a9059cbb14610398578063dd62ed3e146103c8578063f2fde38b146103f857610137565b806342966c681461029c5780635d366307146102b857806370a08231146102d6578063715018a61461030657806379cc67901461031057610137565b806323b872dd116100ff57806323b872dd146101e4578063313ce567146102145780633373bffb14610232578063395093511461025057806340c10f191461028057610137565b806301f6264e1461013c57806306fdde031461015a578063095ea7b31461017857806318160ddd146101a8578063188944ac146101c6575b600080fd5b610144610414565b604051610151919061145c565b60405180910390f35b6101626104a6565b60405161016f919061145c565b60405180910390f35b610192600480360381019061018d9190611517565b610538565b60405161019f9190611572565b60405180910390f35b6101b061055b565b6040516101bd919061159c565b60405180910390f35b6101ce610565565b6040516101db919061145c565b60405180910390f35b6101fe60048036038101906101f991906115b7565b6105f7565b60405161020b9190611572565b60405180910390f35b61021c610626565b6040516102299190611626565b60405180910390f35b61023a61062f565b604051610247919061145c565b60405180910390f35b61026a60048036038101906102659190611517565b6106bd565b6040516102779190611572565b60405180910390f35b61029a60048036038101906102959190611517565b6106f4565b005b6102b660048036038101906102b19190611641565b61070a565b005b6102c061071e565b6040516102cd919061145c565b60405180910390f35b6102f060048036038101906102eb919061166e565b6107ac565b6040516102fd919061159c565b60405180910390f35b61030e6107f4565b005b61032a60048036038101906103259190611517565b610808565b005b610334610828565b60405161034191906116aa565b60405180910390f35b610352610852565b60405161035f919061145c565b60405180910390f35b610382600480360381019061037d9190611517565b6108e4565b60405161038f9190611572565b60405180910390f35b6103b260048036038101906103ad9190611517565b61095b565b6040516103bf9190611572565b60405180910390f35b6103e260048036038101906103dd91906116c5565b61097e565b6040516103ef919061159c565b60405180910390f35b610412600480360381019061040d919061166e565b610a05565b005b60606006805461042390611734565b80601f016020809104026020016040519081016040528092919081815260200182805461044f90611734565b801561049c5780601f106104715761010080835404028352916020019161049c565b820191906000526020600020905b81548152906001019060200180831161047f57829003601f168201915b5050505050905090565b6060600380546104b590611734565b80601f01602080910402602001604051908101604052809291908181526020018280546104e190611734565b801561052e5780601f106105035761010080835404028352916020019161052e565b820191906000526020600020905b81548152906001019060200180831161051157829003601f168201915b5050505050905090565b600080610543610a88565b9050610550818585610a90565b600191505092915050565b6000600254905090565b60606007805461057490611734565b80601f01602080910402602001604051908101604052809291908181526020018280546105a090611734565b80156105ed5780601f106105c2576101008083540402835291602001916105ed565b820191906000526020600020905b8154815290600101906020018083116105d057829003601f168201915b5050505050905090565b600080610602610a88565b905061060f858285610c59565b61061a858585610ce5565b60019150509392505050565b60006002905090565b6007805461063c90611734565b80601f016020809104026020016040519081016040528092919081815260200182805461066890611734565b80156106b55780601f1061068a576101008083540402835291602001916106b5565b820191906000526020600020905b81548152906001019060200180831161069857829003601f168201915b505050505081565b6000806106c8610a88565b90506106e98185856106da858961097e565b6106e49190611794565b610a90565b600191505092915050565b6106fc610f5b565b6107068282610fd9565b5050565b61071b610715610a88565b8261112f565b50565b6006805461072b90611734565b80601f016020809104026020016040519081016040528092919081815260200182805461075790611734565b80156107a45780601f10610779576101008083540402835291602001916107a4565b820191906000526020600020905b81548152906001019060200180831161078757829003601f168201915b505050505081565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6107fc610f5b565b61080660006112fc565b565b61081a82610814610a88565b83610c59565b610824828261112f565b5050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60606004805461086190611734565b80601f016020809104026020016040519081016040528092919081815260200182805461088d90611734565b80156108da5780601f106108af576101008083540402835291602001916108da565b820191906000526020600020905b8154815290600101906020018083116108bd57829003601f168201915b5050505050905090565b6000806108ef610a88565b905060006108fd828661097e565b905083811015610942576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109399061183a565b60405180910390fd5b61094f8286868403610a90565b60019250505092915050565b600080610966610a88565b9050610973818585610ce5565b600191505092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b610a0d610f5b565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610a7c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a73906118cc565b60405180910390fd5b610a85816112fc565b50565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610aff576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610af69061195e565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610b6e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b65906119f0565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92583604051610c4c919061159c565b60405180910390a3505050565b6000610c65848461097e565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610cdf5781811015610cd1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc890611a5c565b60405180910390fd5b610cde8484848403610a90565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610d54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d4b90611aee565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610dc3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dba90611b80565b60405180910390fd5b610dce8383836113c2565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610e54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4b90611c12565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610f42919061159c565b60405180910390a3610f558484846113c7565b50505050565b610f63610a88565b73ffffffffffffffffffffffffffffffffffffffff16610f81610828565b73ffffffffffffffffffffffffffffffffffffffff1614610fd7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fce90611c7e565b60405180910390fd5b565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611048576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161103f90611cea565b60405180910390fd5b611054600083836113c2565b80600260008282546110669190611794565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051611117919061159c565b60405180910390a361112b600083836113c7565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361119e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161119590611d7c565b60405180910390fd5b6111aa826000836113c2565b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015611230576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161122790611e0e565b60405180910390fd5b8181036000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555081600260008282540392505081905550600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516112e3919061159c565b60405180910390a36112f7836000846113c7565b505050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b505050565b505050565b600081519050919050565b600082825260208201905092915050565b60005b838110156114065780820151818401526020810190506113eb565b60008484015250505050565b6000601f19601f8301169050919050565b600061142e826113cc565b61143881856113d7565b93506114488185602086016113e8565b61145181611412565b840191505092915050565b600060208201905081810360008301526114768184611423565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006114ae82611483565b9050919050565b6114be816114a3565b81146114c957600080fd5b50565b6000813590506114db816114b5565b92915050565b6000819050919050565b6114f4816114e1565b81146114ff57600080fd5b50565b600081359050611511816114eb565b92915050565b6000806040838503121561152e5761152d61147e565b5b600061153c858286016114cc565b925050602061154d85828601611502565b9150509250929050565b60008115159050919050565b61156c81611557565b82525050565b60006020820190506115876000830184611563565b92915050565b611596816114e1565b82525050565b60006020820190506115b1600083018461158d565b92915050565b6000806000606084860312156115d0576115cf61147e565b5b60006115de868287016114cc565b93505060206115ef868287016114cc565b925050604061160086828701611502565b9150509250925092565b600060ff82169050919050565b6116208161160a565b82525050565b600060208201905061163b6000830184611617565b92915050565b6000602082840312156116575761165661147e565b5b600061166584828501611502565b91505092915050565b6000602082840312156116845761168361147e565b5b6000611692848285016114cc565b91505092915050565b6116a4816114a3565b82525050565b60006020820190506116bf600083018461169b565b92915050565b600080604083850312156116dc576116db61147e565b5b60006116ea858286016114cc565b92505060206116fb858286016114cc565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061174c57607f821691505b60208210810361175f5761175e611705565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061179f826114e1565b91506117aa836114e1565b92508282019050808211156117c2576117c1611765565b5b92915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b60006118246025836113d7565b915061182f826117c8565b604082019050919050565b6000602082019050818103600083015261185381611817565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b60006118b66026836113d7565b91506118c18261185a565b604082019050919050565b600060208201905081810360008301526118e5816118a9565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006119486024836113d7565b9150611953826118ec565b604082019050919050565b600060208201905081810360008301526119778161193b565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b60006119da6022836113d7565b91506119e58261197e565b604082019050919050565b60006020820190508181036000830152611a09816119cd565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b6000611a46601d836113d7565b9150611a5182611a10565b602082019050919050565b60006020820190508181036000830152611a7581611a39565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611ad86025836113d7565b9150611ae382611a7c565b604082019050919050565b60006020820190508181036000830152611b0781611acb565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000611b6a6023836113d7565b9150611b7582611b0e565b604082019050919050565b60006020820190508181036000830152611b9981611b5d565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b6000611bfc6026836113d7565b9150611c0782611ba0565b604082019050919050565b60006020820190508181036000830152611c2b81611bef565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b6000611c686020836113d7565b9150611c7382611c32565b602082019050919050565b60006020820190508181036000830152611c9781611c5b565b9050919050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b6000611cd4601f836113d7565b9150611cdf82611c9e565b602082019050919050565b60006020820190508181036000830152611d0381611cc7565b9050919050565b7f45524332303a206275726e2066726f6d20746865207a65726f2061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b6000611d666021836113d7565b9150611d7182611d0a565b604082019050919050565b60006020820190508181036000830152611d9581611d59565b9050919050565b7f45524332303a206275726e20616d6f756e7420657863656564732062616c616e60008201527f6365000000000000000000000000000000000000000000000000000000000000602082015250565b6000611df86022836113d7565b9150611e0382611d9c565b604082019050919050565b60006020820190508181036000830152611e2781611deb565b905091905056fea2646970667358221220fb3d37898f2f37f8b30d5186ad788edcace9564a87ab56ef371f6ce861943faa64736f6c63430008110033a2646970667358221220603fe9ede1e051fef556d7c4b12e86d11e09b99964e207e18d10f57b0c4a3d2164736f6c63430008110033",XV={},ZV={},gA={_format:qV,contractName:WV,sourceName:KV,abi:QV,bytecode:YV,deployedBytecode:JV,linkReferences:XV,deployedLinkReferences:ZV},yA="0xB8f6eDcA4791f6168665F35eFd6C057FbF8617fE";var vA="";const eF=()=>{const t=gA.abi,[e,r]=L.useState("Connect Wallet"),[n,i]=L.useState(null),[s,o]=L.useState(null),[f,a]=L.useState(null),[l,u]=L.useState(null),[h,p]=L.useState(null),[y,w]=L.useState(0),[S,P]=L.useState(""),[v,b]=L.useState(""),[T,M]=L.useState(null),O=async W=>{W.preventDefault();try{const re=await h.createToken(y,S,v);await re.wait(),console.log(re);const ue=await h.tokenCount(),Me=await h.list_of_tokens(ue-1);M(Me),vA=Me,console.log(Me),alert("Token created!")}catch(re){console.error(re)}},V=()=>{window.ethereum&&window.ethereum.isMetaMask?window.ethereum.request({method:"eth_requestAccounts"}).then(W=>{B(W[0]),r("Wallet Connected")}).catch(W=>{i(W.message)}):(console.log("need to install metamask"),i("Please install MetaMask"))},B=W=>{o(W),H()},H=()=>{let W=new Td(window.ethereum),re=W.getSigner(),ue=new wd(yA,t,re);a(W),u(re),p(ue)};return x.jsxs("div",{children:[x.jsxs("h2",{children:[" ","Factory ERC-20 Wallet"," "]}),x.jsx("button",{className:hn.button6,onClick:V,children:e}),x.jsxs("div",{className:hn.walletCard,children:[x.jsx("div",{children:x.jsxs("h3",{children:["Factory Address: ",s]})}),x.jsx("div",{}),n]}),x.jsx("div",{className:hn.interactionsCard,children:x.jsxs("form",{onSubmit:O,children:[x.jsx("input",{type:"number",value:y,onChange:W=>w(W.target.value),placeholder:"Initial Supply"}),x.jsx("input",{type:"text",value:S,onChange:W=>P(W.target.value),placeholder:"Token Name"}),x.jsx("input",{type:"text",value:v,onChange:W=>b(W.target.value),placeholder:"Token Ticker"}),x.jsx("input",{type:"submit",value:"Create Token"})]})}),x.jsx("div",{className:hn.walletCard,children:x.jsx("div",{children:x.jsxs("h3",{children:["Latest Token Address: ",T]})})})]})},tF="hh-sol-artifact-1",rF="Token",nF="contracts/Token.sol",iF=[{inputs:[{internalType:"uint256",name:"initialSupply",type:"uint256"},{internalType:"string",name:"_tname",type:"string"},{internalType:"string",name:"_tiker",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getTiker",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTname",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"tiker",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"tname",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],sF="0x60806040523480156200001157600080fd5b5060405162002822380380620028228339818101604052810190620000379190620004d1565b818181600390816200004a9190620007ac565b5080600490816200005c9190620007ac565b5050506200007f62000073620000be60201b60201c565b620000c660201b60201c565b8160069081620000909190620007ac565b508060079081620000a29190620007ac565b50620000b533846200018c60201b60201c565b505050620009ae565b600033905090565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603620001fe576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620001f590620008f4565b60405180910390fd5b6200021260008383620002f960201b60201c565b806002600082825462000226919062000945565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051620002d9919062000991565b60405180910390a3620002f560008383620002fe60201b60201c565b5050565b505050565b505050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6200032c8162000317565b81146200033857600080fd5b50565b6000815190506200034c8162000321565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620003a7826200035c565b810181811067ffffffffffffffff82111715620003c957620003c86200036d565b5b80604052505050565b6000620003de62000303565b9050620003ec82826200039c565b919050565b600067ffffffffffffffff8211156200040f576200040e6200036d565b5b6200041a826200035c565b9050602081019050919050565b60005b83811015620004475780820151818401526020810190506200042a565b60008484015250505050565b60006200046a6200046484620003f1565b620003d2565b90508281526020810184848401111562000489576200048862000357565b5b6200049684828562000427565b509392505050565b600082601f830112620004b657620004b562000352565b5b8151620004c884826020860162000453565b91505092915050565b600080600060608486031215620004ed57620004ec6200030d565b5b6000620004fd868287016200033b565b935050602084015167ffffffffffffffff81111562000521576200052062000312565b5b6200052f868287016200049e565b925050604084015167ffffffffffffffff81111562000553576200055262000312565b5b62000561868287016200049e565b9150509250925092565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620005be57607f821691505b602082108103620005d457620005d362000576565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026200063e7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82620005ff565b6200064a8683620005ff565b95508019841693508086168417925050509392505050565b6000819050919050565b60006200068d62000687620006818462000317565b62000662565b62000317565b9050919050565b6000819050919050565b620006a9836200066c565b620006c1620006b88262000694565b8484546200060c565b825550505050565b600090565b620006d8620006c9565b620006e58184846200069e565b505050565b5b818110156200070d5762000701600082620006ce565b600181019050620006eb565b5050565b601f8211156200075c576200072681620005da565b6200073184620005ef565b8101602085101562000741578190505b620007596200075085620005ef565b830182620006ea565b50505b505050565b600082821c905092915050565b6000620007816000198460080262000761565b1980831691505092915050565b60006200079c83836200076e565b9150826002028217905092915050565b620007b7826200056b565b67ffffffffffffffff811115620007d357620007d26200036d565b5b620007df8254620005a5565b620007ec82828562000711565b600060209050601f8311600181146200082457600084156200080f578287015190505b6200081b85826200078e565b8655506200088b565b601f1984166200083486620005da565b60005b828110156200085e5784890151825560018201915060208501945060208101905062000837565b868310156200087e57848901516200087a601f8916826200076e565b8355505b6001600288020188555050505b505050505050565b600082825260208201905092915050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b6000620008dc601f8362000893565b9150620008e982620008a4565b602082019050919050565b600060208201905081810360008301526200090f81620008cd565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000620009528262000317565b91506200095f8362000317565b92508282019050808211156200097a576200097962000916565b5b92915050565b6200098b8162000317565b82525050565b6000602082019050620009a8600083018462000980565b92915050565b611e6480620009be6000396000f3fe608060405234801561001057600080fd5b50600436106101375760003560e01c806342966c68116100b85780638da5cb5b1161007c5780638da5cb5b1461032c57806395d89b411461034a578063a457c2d714610368578063a9059cbb14610398578063dd62ed3e146103c8578063f2fde38b146103f857610137565b806342966c681461029c5780635d366307146102b857806370a08231146102d6578063715018a61461030657806379cc67901461031057610137565b806323b872dd116100ff57806323b872dd146101e4578063313ce567146102145780633373bffb14610232578063395093511461025057806340c10f191461028057610137565b806301f6264e1461013c57806306fdde031461015a578063095ea7b31461017857806318160ddd146101a8578063188944ac146101c6575b600080fd5b610144610414565b604051610151919061145c565b60405180910390f35b6101626104a6565b60405161016f919061145c565b60405180910390f35b610192600480360381019061018d9190611517565b610538565b60405161019f9190611572565b60405180910390f35b6101b061055b565b6040516101bd919061159c565b60405180910390f35b6101ce610565565b6040516101db919061145c565b60405180910390f35b6101fe60048036038101906101f991906115b7565b6105f7565b60405161020b9190611572565b60405180910390f35b61021c610626565b6040516102299190611626565b60405180910390f35b61023a61062f565b604051610247919061145c565b60405180910390f35b61026a60048036038101906102659190611517565b6106bd565b6040516102779190611572565b60405180910390f35b61029a60048036038101906102959190611517565b6106f4565b005b6102b660048036038101906102b19190611641565b61070a565b005b6102c061071e565b6040516102cd919061145c565b60405180910390f35b6102f060048036038101906102eb919061166e565b6107ac565b6040516102fd919061159c565b60405180910390f35b61030e6107f4565b005b61032a60048036038101906103259190611517565b610808565b005b610334610828565b60405161034191906116aa565b60405180910390f35b610352610852565b60405161035f919061145c565b60405180910390f35b610382600480360381019061037d9190611517565b6108e4565b60405161038f9190611572565b60405180910390f35b6103b260048036038101906103ad9190611517565b61095b565b6040516103bf9190611572565b60405180910390f35b6103e260048036038101906103dd91906116c5565b61097e565b6040516103ef919061159c565b60405180910390f35b610412600480360381019061040d919061166e565b610a05565b005b60606006805461042390611734565b80601f016020809104026020016040519081016040528092919081815260200182805461044f90611734565b801561049c5780601f106104715761010080835404028352916020019161049c565b820191906000526020600020905b81548152906001019060200180831161047f57829003601f168201915b5050505050905090565b6060600380546104b590611734565b80601f01602080910402602001604051908101604052809291908181526020018280546104e190611734565b801561052e5780601f106105035761010080835404028352916020019161052e565b820191906000526020600020905b81548152906001019060200180831161051157829003601f168201915b5050505050905090565b600080610543610a88565b9050610550818585610a90565b600191505092915050565b6000600254905090565b60606007805461057490611734565b80601f01602080910402602001604051908101604052809291908181526020018280546105a090611734565b80156105ed5780601f106105c2576101008083540402835291602001916105ed565b820191906000526020600020905b8154815290600101906020018083116105d057829003601f168201915b5050505050905090565b600080610602610a88565b905061060f858285610c59565b61061a858585610ce5565b60019150509392505050565b60006002905090565b6007805461063c90611734565b80601f016020809104026020016040519081016040528092919081815260200182805461066890611734565b80156106b55780601f1061068a576101008083540402835291602001916106b5565b820191906000526020600020905b81548152906001019060200180831161069857829003601f168201915b505050505081565b6000806106c8610a88565b90506106e98185856106da858961097e565b6106e49190611794565b610a90565b600191505092915050565b6106fc610f5b565b6107068282610fd9565b5050565b61071b610715610a88565b8261112f565b50565b6006805461072b90611734565b80601f016020809104026020016040519081016040528092919081815260200182805461075790611734565b80156107a45780601f10610779576101008083540402835291602001916107a4565b820191906000526020600020905b81548152906001019060200180831161078757829003601f168201915b505050505081565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6107fc610f5b565b61080660006112fc565b565b61081a82610814610a88565b83610c59565b610824828261112f565b5050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60606004805461086190611734565b80601f016020809104026020016040519081016040528092919081815260200182805461088d90611734565b80156108da5780601f106108af576101008083540402835291602001916108da565b820191906000526020600020905b8154815290600101906020018083116108bd57829003601f168201915b5050505050905090565b6000806108ef610a88565b905060006108fd828661097e565b905083811015610942576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109399061183a565b60405180910390fd5b61094f8286868403610a90565b60019250505092915050565b600080610966610a88565b9050610973818585610ce5565b600191505092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b610a0d610f5b565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610a7c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a73906118cc565b60405180910390fd5b610a85816112fc565b50565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610aff576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610af69061195e565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610b6e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b65906119f0565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92583604051610c4c919061159c565b60405180910390a3505050565b6000610c65848461097e565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610cdf5781811015610cd1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc890611a5c565b60405180910390fd5b610cde8484848403610a90565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610d54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d4b90611aee565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610dc3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dba90611b80565b60405180910390fd5b610dce8383836113c2565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610e54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4b90611c12565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610f42919061159c565b60405180910390a3610f558484846113c7565b50505050565b610f63610a88565b73ffffffffffffffffffffffffffffffffffffffff16610f81610828565b73ffffffffffffffffffffffffffffffffffffffff1614610fd7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fce90611c7e565b60405180910390fd5b565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611048576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161103f90611cea565b60405180910390fd5b611054600083836113c2565b80600260008282546110669190611794565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051611117919061159c565b60405180910390a361112b600083836113c7565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361119e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161119590611d7c565b60405180910390fd5b6111aa826000836113c2565b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015611230576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161122790611e0e565b60405180910390fd5b8181036000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555081600260008282540392505081905550600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516112e3919061159c565b60405180910390a36112f7836000846113c7565b505050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b505050565b505050565b600081519050919050565b600082825260208201905092915050565b60005b838110156114065780820151818401526020810190506113eb565b60008484015250505050565b6000601f19601f8301169050919050565b600061142e826113cc565b61143881856113d7565b93506114488185602086016113e8565b61145181611412565b840191505092915050565b600060208201905081810360008301526114768184611423565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006114ae82611483565b9050919050565b6114be816114a3565b81146114c957600080fd5b50565b6000813590506114db816114b5565b92915050565b6000819050919050565b6114f4816114e1565b81146114ff57600080fd5b50565b600081359050611511816114eb565b92915050565b6000806040838503121561152e5761152d61147e565b5b600061153c858286016114cc565b925050602061154d85828601611502565b9150509250929050565b60008115159050919050565b61156c81611557565b82525050565b60006020820190506115876000830184611563565b92915050565b611596816114e1565b82525050565b60006020820190506115b1600083018461158d565b92915050565b6000806000606084860312156115d0576115cf61147e565b5b60006115de868287016114cc565b93505060206115ef868287016114cc565b925050604061160086828701611502565b9150509250925092565b600060ff82169050919050565b6116208161160a565b82525050565b600060208201905061163b6000830184611617565b92915050565b6000602082840312156116575761165661147e565b5b600061166584828501611502565b91505092915050565b6000602082840312156116845761168361147e565b5b6000611692848285016114cc565b91505092915050565b6116a4816114a3565b82525050565b60006020820190506116bf600083018461169b565b92915050565b600080604083850312156116dc576116db61147e565b5b60006116ea858286016114cc565b92505060206116fb858286016114cc565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061174c57607f821691505b60208210810361175f5761175e611705565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061179f826114e1565b91506117aa836114e1565b92508282019050808211156117c2576117c1611765565b5b92915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b60006118246025836113d7565b915061182f826117c8565b604082019050919050565b6000602082019050818103600083015261185381611817565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b60006118b66026836113d7565b91506118c18261185a565b604082019050919050565b600060208201905081810360008301526118e5816118a9565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006119486024836113d7565b9150611953826118ec565b604082019050919050565b600060208201905081810360008301526119778161193b565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b60006119da6022836113d7565b91506119e58261197e565b604082019050919050565b60006020820190508181036000830152611a09816119cd565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b6000611a46601d836113d7565b9150611a5182611a10565b602082019050919050565b60006020820190508181036000830152611a7581611a39565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611ad86025836113d7565b9150611ae382611a7c565b604082019050919050565b60006020820190508181036000830152611b0781611acb565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000611b6a6023836113d7565b9150611b7582611b0e565b604082019050919050565b60006020820190508181036000830152611b9981611b5d565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b6000611bfc6026836113d7565b9150611c0782611ba0565b604082019050919050565b60006020820190508181036000830152611c2b81611bef565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b6000611c686020836113d7565b9150611c7382611c32565b602082019050919050565b60006020820190508181036000830152611c9781611c5b565b9050919050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b6000611cd4601f836113d7565b9150611cdf82611c9e565b602082019050919050565b60006020820190508181036000830152611d0381611cc7565b9050919050565b7f45524332303a206275726e2066726f6d20746865207a65726f2061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b6000611d666021836113d7565b9150611d7182611d0a565b604082019050919050565b60006020820190508181036000830152611d9581611d59565b9050919050565b7f45524332303a206275726e20616d6f756e7420657863656564732062616c616e60008201527f6365000000000000000000000000000000000000000000000000000000000000602082015250565b6000611df86022836113d7565b9150611e0382611d9c565b604082019050919050565b60006020820190508181036000830152611e2781611deb565b905091905056fea2646970667358221220fb3d37898f2f37f8b30d5186ad788edcace9564a87ab56ef371f6ce861943faa64736f6c63430008110033",oF="0x608060405234801561001057600080fd5b50600436106101375760003560e01c806342966c68116100b85780638da5cb5b1161007c5780638da5cb5b1461032c57806395d89b411461034a578063a457c2d714610368578063a9059cbb14610398578063dd62ed3e146103c8578063f2fde38b146103f857610137565b806342966c681461029c5780635d366307146102b857806370a08231146102d6578063715018a61461030657806379cc67901461031057610137565b806323b872dd116100ff57806323b872dd146101e4578063313ce567146102145780633373bffb14610232578063395093511461025057806340c10f191461028057610137565b806301f6264e1461013c57806306fdde031461015a578063095ea7b31461017857806318160ddd146101a8578063188944ac146101c6575b600080fd5b610144610414565b604051610151919061145c565b60405180910390f35b6101626104a6565b60405161016f919061145c565b60405180910390f35b610192600480360381019061018d9190611517565b610538565b60405161019f9190611572565b60405180910390f35b6101b061055b565b6040516101bd919061159c565b60405180910390f35b6101ce610565565b6040516101db919061145c565b60405180910390f35b6101fe60048036038101906101f991906115b7565b6105f7565b60405161020b9190611572565b60405180910390f35b61021c610626565b6040516102299190611626565b60405180910390f35b61023a61062f565b604051610247919061145c565b60405180910390f35b61026a60048036038101906102659190611517565b6106bd565b6040516102779190611572565b60405180910390f35b61029a60048036038101906102959190611517565b6106f4565b005b6102b660048036038101906102b19190611641565b61070a565b005b6102c061071e565b6040516102cd919061145c565b60405180910390f35b6102f060048036038101906102eb919061166e565b6107ac565b6040516102fd919061159c565b60405180910390f35b61030e6107f4565b005b61032a60048036038101906103259190611517565b610808565b005b610334610828565b60405161034191906116aa565b60405180910390f35b610352610852565b60405161035f919061145c565b60405180910390f35b610382600480360381019061037d9190611517565b6108e4565b60405161038f9190611572565b60405180910390f35b6103b260048036038101906103ad9190611517565b61095b565b6040516103bf9190611572565b60405180910390f35b6103e260048036038101906103dd91906116c5565b61097e565b6040516103ef919061159c565b60405180910390f35b610412600480360381019061040d919061166e565b610a05565b005b60606006805461042390611734565b80601f016020809104026020016040519081016040528092919081815260200182805461044f90611734565b801561049c5780601f106104715761010080835404028352916020019161049c565b820191906000526020600020905b81548152906001019060200180831161047f57829003601f168201915b5050505050905090565b6060600380546104b590611734565b80601f01602080910402602001604051908101604052809291908181526020018280546104e190611734565b801561052e5780601f106105035761010080835404028352916020019161052e565b820191906000526020600020905b81548152906001019060200180831161051157829003601f168201915b5050505050905090565b600080610543610a88565b9050610550818585610a90565b600191505092915050565b6000600254905090565b60606007805461057490611734565b80601f01602080910402602001604051908101604052809291908181526020018280546105a090611734565b80156105ed5780601f106105c2576101008083540402835291602001916105ed565b820191906000526020600020905b8154815290600101906020018083116105d057829003601f168201915b5050505050905090565b600080610602610a88565b905061060f858285610c59565b61061a858585610ce5565b60019150509392505050565b60006002905090565b6007805461063c90611734565b80601f016020809104026020016040519081016040528092919081815260200182805461066890611734565b80156106b55780601f1061068a576101008083540402835291602001916106b5565b820191906000526020600020905b81548152906001019060200180831161069857829003601f168201915b505050505081565b6000806106c8610a88565b90506106e98185856106da858961097e565b6106e49190611794565b610a90565b600191505092915050565b6106fc610f5b565b6107068282610fd9565b5050565b61071b610715610a88565b8261112f565b50565b6006805461072b90611734565b80601f016020809104026020016040519081016040528092919081815260200182805461075790611734565b80156107a45780601f10610779576101008083540402835291602001916107a4565b820191906000526020600020905b81548152906001019060200180831161078757829003601f168201915b505050505081565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6107fc610f5b565b61080660006112fc565b565b61081a82610814610a88565b83610c59565b610824828261112f565b5050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60606004805461086190611734565b80601f016020809104026020016040519081016040528092919081815260200182805461088d90611734565b80156108da5780601f106108af576101008083540402835291602001916108da565b820191906000526020600020905b8154815290600101906020018083116108bd57829003601f168201915b5050505050905090565b6000806108ef610a88565b905060006108fd828661097e565b905083811015610942576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109399061183a565b60405180910390fd5b61094f8286868403610a90565b60019250505092915050565b600080610966610a88565b9050610973818585610ce5565b600191505092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b610a0d610f5b565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610a7c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a73906118cc565b60405180910390fd5b610a85816112fc565b50565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610aff576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610af69061195e565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610b6e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b65906119f0565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92583604051610c4c919061159c565b60405180910390a3505050565b6000610c65848461097e565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610cdf5781811015610cd1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc890611a5c565b60405180910390fd5b610cde8484848403610a90565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610d54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d4b90611aee565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610dc3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dba90611b80565b60405180910390fd5b610dce8383836113c2565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610e54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4b90611c12565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610f42919061159c565b60405180910390a3610f558484846113c7565b50505050565b610f63610a88565b73ffffffffffffffffffffffffffffffffffffffff16610f81610828565b73ffffffffffffffffffffffffffffffffffffffff1614610fd7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fce90611c7e565b60405180910390fd5b565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611048576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161103f90611cea565b60405180910390fd5b611054600083836113c2565b80600260008282546110669190611794565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051611117919061159c565b60405180910390a361112b600083836113c7565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361119e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161119590611d7c565b60405180910390fd5b6111aa826000836113c2565b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015611230576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161122790611e0e565b60405180910390fd5b8181036000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555081600260008282540392505081905550600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516112e3919061159c565b60405180910390a36112f7836000846113c7565b505050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b505050565b505050565b600081519050919050565b600082825260208201905092915050565b60005b838110156114065780820151818401526020810190506113eb565b60008484015250505050565b6000601f19601f8301169050919050565b600061142e826113cc565b61143881856113d7565b93506114488185602086016113e8565b61145181611412565b840191505092915050565b600060208201905081810360008301526114768184611423565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006114ae82611483565b9050919050565b6114be816114a3565b81146114c957600080fd5b50565b6000813590506114db816114b5565b92915050565b6000819050919050565b6114f4816114e1565b81146114ff57600080fd5b50565b600081359050611511816114eb565b92915050565b6000806040838503121561152e5761152d61147e565b5b600061153c858286016114cc565b925050602061154d85828601611502565b9150509250929050565b60008115159050919050565b61156c81611557565b82525050565b60006020820190506115876000830184611563565b92915050565b611596816114e1565b82525050565b60006020820190506115b1600083018461158d565b92915050565b6000806000606084860312156115d0576115cf61147e565b5b60006115de868287016114cc565b93505060206115ef868287016114cc565b925050604061160086828701611502565b9150509250925092565b600060ff82169050919050565b6116208161160a565b82525050565b600060208201905061163b6000830184611617565b92915050565b6000602082840312156116575761165661147e565b5b600061166584828501611502565b91505092915050565b6000602082840312156116845761168361147e565b5b6000611692848285016114cc565b91505092915050565b6116a4816114a3565b82525050565b60006020820190506116bf600083018461169b565b92915050565b600080604083850312156116dc576116db61147e565b5b60006116ea858286016114cc565b92505060206116fb858286016114cc565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061174c57607f821691505b60208210810361175f5761175e611705565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061179f826114e1565b91506117aa836114e1565b92508282019050808211156117c2576117c1611765565b5b92915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b60006118246025836113d7565b915061182f826117c8565b604082019050919050565b6000602082019050818103600083015261185381611817565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b60006118b66026836113d7565b91506118c18261185a565b604082019050919050565b600060208201905081810360008301526118e5816118a9565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006119486024836113d7565b9150611953826118ec565b604082019050919050565b600060208201905081810360008301526119778161193b565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b60006119da6022836113d7565b91506119e58261197e565b604082019050919050565b60006020820190508181036000830152611a09816119cd565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b6000611a46601d836113d7565b9150611a5182611a10565b602082019050919050565b60006020820190508181036000830152611a7581611a39565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611ad86025836113d7565b9150611ae382611a7c565b604082019050919050565b60006020820190508181036000830152611b0781611acb565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000611b6a6023836113d7565b9150611b7582611b0e565b604082019050919050565b60006020820190508181036000830152611b9981611b5d565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b6000611bfc6026836113d7565b9150611c0782611ba0565b604082019050919050565b60006020820190508181036000830152611c2b81611bef565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b6000611c686020836113d7565b9150611c7382611c32565b602082019050919050565b60006020820190508181036000830152611c9781611c5b565b9050919050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b6000611cd4601f836113d7565b9150611cdf82611c9e565b602082019050919050565b60006020820190508181036000830152611d0381611cc7565b9050919050565b7f45524332303a206275726e2066726f6d20746865207a65726f2061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b6000611d666021836113d7565b9150611d7182611d0a565b604082019050919050565b60006020820190508181036000830152611d9581611d59565b9050919050565b7f45524332303a206275726e20616d6f756e7420657863656564732062616c616e60008201527f6365000000000000000000000000000000000000000000000000000000000000602082015250565b6000611df86022836113d7565b9150611e0382611d9c565b604082019050919050565b60006020820190508181036000830152611e2781611deb565b905091905056fea2646970667358221220fb3d37898f2f37f8b30d5186ad788edcace9564a87ab56ef371f6ce861943faa64736f6c63430008110033",fF={},aF={},bA={_format:tF,contractName:rF,sourceName:nF,abi:iF,bytecode:sF,deployedBytecode:oF,linkReferences:fF,deployedLinkReferences:aF},lF=()=>{const t=vA,e=bA.abi,[r,n]=L.useState("Token"),[i,s]=L.useState("Connect Wallet"),[o,f]=L.useState(null),[a,l]=L.useState(null),[u,h]=L.useState(null),[p,y]=L.useState(null),[w,S]=L.useState(null),[P,v]=L.useState(null),b=()=>{window.ethereum&&window.ethereum.isMetaMask?window.ethereum.request({method:"eth_requestAccounts"}).then(B=>{T(B[0]),s("Wallet Connected")}).catch(B=>{f(B.message)}):(console.log("need to install metamask"),f("Please install MetaMask"))},T=B=>{l(B),M()},M=()=>{let B=new Td(window.ethereum),H=B.getSigner(),W=new wd(t,e,H);y(B),S(H),v(W)};L.useEffect(()=>{P!=null&&(O(),V())},[P]);const O=async()=>{let H=(await P.balanceOf(a)).toNumber();h(H),console.log(H)},V=async()=>{n(await P.getTname())};return x.jsxs("div",{children:[x.jsxs("h2",{children:[" ",r+" ERC-20 Wallet"," "]}),x.jsx("button",{className:hn.button6,onClick:b,children:i}),x.jsxs("div",{className:hn.walletCard,children:[x.jsx("div",{children:x.jsxs("h3",{children:["Token Contract Address: ",t]})}),x.jsx("div",{children:x.jsxs("h3",{children:["User Address: ",a]})}),x.jsx("div",{children:x.jsxs("h3",{children:[r," Balance: ",u]})}),o]}),x.jsx(mA,{contract:P})]})};function uF(){return x.jsxs("div",{className:"App",children:[x.jsx(eF,{}),x.jsx(lF,{})]})}const cF=()=>{const t=gA.abi,[e,r]=L.useState(!1),[n,i]=L.useState("Connect Wallet"),[s,o]=L.useState(null),{currentUser:f}=L.useContext(Ln),[a,l]=L.useState(null),[u,h]=L.useState(!1),[p,y]=L.useState(!1),w=b=>{b.target.files[0],y(!0)},S=async b=>{b.preventDefault(),await v(),console.log(a),h(!0);const T=b.target[0].value,M=b.target[1].value,O=b.target[2].value,V=O,B=b.target[3].files[0];let H="";try{console.log("Create Token"),console.log(a);const W=await a.createToken(O,T,M);await W.wait(),console.log(W);const re=await a.tokenCount();H=await a.list_of_tokens(re-1),console.log("address",H),console.log("Create Token in blockchain");const Me=$u();console.log("productId",Me);const k=f.uid,c=new Date().getTime(),m=Ph(cd,`${M+c}`);await kh(m,B).then(()=>{Ch(m).then(async _=>{try{await ef(Cr(Pt,"products",Me),{uid:Me,tName:T,ticker:M,merchant:k,quantity:O,available_quantity:V,contractAddress:H,photoURL:_}),console.log("Create Token in firebase")}catch(I){console.log(I),o(I.message),r(!0),h(!1)}})})}catch(W){r(!0),h(!1),console.error(W)}},P=async()=>{console.log("UpdateEthers");let T=await new Td(window.ethereum).getSigner(),M=new wd(yA,t,T);l(M),console.log("tempContract",M),console.log("contract",a)};L.useEffect(()=>{P()},[]);const v=async()=>{const b=await Jo(Qo(Pt,"users"),Xo("email","==",f.email)),M=(await Zo(b)).docs[0].data().address;let O="";if(await window.ethereum.request({method:"eth_requestAccounts"}).then(V=>{O=V[0],i("Wallet is valid")}).catch(V=>{o(V.message)}),M!=O)throw r(!0),o("You should use your own Metamask wallet"),new Error("You should use your own Metamask wallet")};return x.jsx("div",{className:"formContainer",children:x.jsxs("div",{className:"formWrapper",children:[x.jsx(rg,{}),x.jsxs("div",{children:[x.jsxs("h2",{children:[" ","Check your Wallet"," "]}),x.jsxs("button",{className:hn.button6,onClick:v,children:[x.jsx("h3",{children:"Check Wallet"}),n]})]}),x.jsx("span",{className:"logo",children:" Create Your Token"}),x.jsxs("form",{onSubmit:S,children:[x.jsx("input",{required:!0,type:"text",placeholder:"Token Name"}),x.jsx("input",{required:!0,type:"text",placeholder:"Token Ticker"}),x.jsx("input",{required:!0,type:"number",placeholder:"Initial Supply"}),x.jsx("input",{required:!0,style:{display:"none"},type:"file",id:"file",onChange:w}),p&&x.jsx("p",{children:"Picture uploaded successfully!"}),x.jsxs("label",{htmlFor:"file",children:[x.jsx("img",{src:ng,alt:""}),x.jsx("span",{children:"Add an picture for your token"})]}),x.jsx("button",{disabled:u,children:"Create Token"}),u&&"Creating Token.. Please wait...",e&&x.jsx("span",{children:s})]})]})})},hF=()=>{const[t,e]=L.useState(!1),r=()=>{e(!0)},n=i=>{i.preventDefault(),handleCloseModal()};return x.jsxs("div",{children:[x.jsx("button",{onClick:r,children:"Open Modal"}),t&&x.jsx("div",{className:"modal",children:x.jsxs("div",{className:"modal-content",children:[x.jsx("button",{onClick:handleCloseModal,children:""}),x.jsx("form",{onSubmit:n,children:x.jsx("button",{type:"submit",children:"Submit"})})]})})]})},dF=()=>{const t=bA.abi,[e,r]=L.useState(!1);L.useState("Connect Wallet");const[n,i]=L.useState(null),{currentUser:s}=L.useContext(Ln),[o,f]=L.useState(!1),[a,l]=L.useState(!1),[u,h]=L.useState([]),p=async()=>{const O=s.uid,V=Jo(Qo(Pt,"products"),Xo("merchant","==",O));try{const B=await Zo(V),H=[];B.forEach(W=>{H.push(W.data())}),h(H)}catch{r(!0)}};L.useEffect(()=>{p()},[]);const[y,w]=L.useState(null),[S,P]=L.useState("Token"),[v,b]=L.useState(null),T=async(O,V)=>{V.preventDefault();let H=new Td(window.ethereum).getSigner(),W=new wd(O.contractAddress,t,H);w(W),P(O.tName),b(O.uid),f(!0)};L.useEffect(()=>{},[y]);const M=()=>{f(!1)};return x.jsx("div",{children:x.jsxs("div",{className:"formContainer",children:[x.jsxs("div",{className:"formWrapper",children:[x.jsx(rg,{}),x.jsx("span",{className:"logo",children:" My Tokens"}),x.jsxs("form",{children:[a&&"Creating Token.. Please wait...",e&&x.jsx("span",{children:n}),u.map((O,V)=>x.jsxs("div",{children:[O.tName," ",O.ticker," ",O.quantity," ",O.available_quantity,x.jsx("img",{src:O.photoURL,alt:""}),x.jsx("button",{onClick:B=>T(O,B),children:"Transfer"})]},V))]})]}),o&&x.jsx("div",{className:"transfer",children:x.jsxs("div",{className:"transfer-content",children:[x.jsx("button",{onClick:M,children:""}),x.jsx(mA,{contract:y})]})})]})})},pF=()=>{const[t,e]=L.useState(!1),r=()=>{e(!0)},n=()=>{e(!1)},i=s=>{s.preventDefault(),n()};return x.jsxs("div",{children:[x.jsx("button",{onClick:r,children:"Open Modal"}),t&&x.jsx("div",{className:"modal",children:x.jsxs("div",{className:"modal-content",children:[x.jsx("span",{className:"close",onClick:n,children:""}),x.jsx("form",{onSubmit:i,children:x.jsx("button",{type:"submit",children:"Submit"})})]})})]})};function mF(){const{currentUser:t}=L.useContext(Ln),e=({children:r})=>t?r:x.jsx(OT,{to:"/login2"});return x.jsx(zT,{children:x.jsx(LT,{children:x.jsxs(Gr,{path:"/",children:[x.jsx(Gr,{index:!0,element:x.jsxs(e,{children:[x.jsx(s4,{}),x.jsx(yO,{})]})}),x.jsx(Gr,{path:"friendsPage",element:x.jsx(gO,{})}),x.jsx(Gr,{path:"login",element:x.jsx(vO,{})}),x.jsx(Gr,{path:"login2",element:x.jsx(EO,{})}),x.jsx(Gr,{path:"register",element:x.jsx(TO,{})}),x.jsx(Gr,{path:"register2",element:x.jsx(IO,{})}),x.jsx(Gr,{path:"walletpage",element:x.jsx(uF,{})}),x.jsx(Gr,{path:"publishvoucher",element:x.jsx(cF,{})}),x.jsx(Gr,{path:"transfervoucher",element:x.jsx(hF,{})}),x.jsx(Gr,{path:"mytokens",element:x.jsx(dF,{})}),x.jsx(Gr,{path:"mytokens2",element:x.jsx(pF,{})})]})})})}const gF=X1.createRoot(document.getElementById("root"));gF.render(x.jsx(XM,{children:x.jsx(eO,{children:x.jsx(p8.StrictMode,{children:x.jsx(mF,{})})})}));
