(function(Bn,mt){typeof exports=="object"&&typeof module<"u"?mt(exports):typeof define=="function"&&define.amd?define(["exports"],mt):(Bn=typeof globalThis<"u"?globalThis:Bn||self,mt(Bn["@walletconnect/universal-provider"]={}))})(this,function(Bn){"use strict";var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Hn(n){var e=n.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var o=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:function(){return n[s]}})}),t}var Qt={exports:{}},li=typeof Reflect=="object"?Reflect:null,uf=li&&typeof li.apply=="function"?li.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)},Ms;li&&typeof li.ownKeys=="function"?Ms=li.ownKeys:Object.getOwnPropertySymbols?Ms=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ms=function(e){return Object.getOwnPropertyNames(e)};function Ag(n){console&&console.warn&&console.warn(n)}var cf=Number.isNaN||function(e){return e!==e};function st(){st.init.call(this)}Qt.exports=st,Qt.exports.once=Ng,st.EventEmitter=st,st.prototype._events=void 0,st.prototype._eventsCount=0,st.prototype._maxListeners=void 0;var ff=10;function qs(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(st,"defaultMaxListeners",{enumerable:!0,get:function(){return ff},set:function(n){if(typeof n!="number"||n<0||cf(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");ff=n}}),st.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},st.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||cf(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function hf(n){return n._maxListeners===void 0?st.defaultMaxListeners:n._maxListeners}st.prototype.getMaxListeners=function(){return hf(this)},st.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var o=e==="error",u=this._events;if(u!==void 0)o=o&&u.error===void 0;else if(!o)return!1;if(o){var c;if(t.length>0&&(c=t[0]),c instanceof Error)throw c;var l=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw l.context=c,l}var _=u[e];if(_===void 0)return!1;if(typeof _=="function")uf(_,this,t);else for(var p=_.length,m=_f(_,p),s=0;s<p;++s)uf(m[s],this,t);return!0};function lf(n,e,t,s){var o,u,c;if(qs(t),u=n._events,u===void 0?(u=n._events=Object.create(null),n._eventsCount=0):(u.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),u=n._events),c=u[e]),c===void 0)c=u[e]=t,++n._eventsCount;else if(typeof c=="function"?c=u[e]=s?[t,c]:[c,t]:s?c.unshift(t):c.push(t),o=hf(n),o>0&&c.length>o&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=n,l.type=e,l.count=c.length,Ag(l)}return n}st.prototype.addListener=function(e,t){return lf(this,e,t,!1)},st.prototype.on=st.prototype.addListener,st.prototype.prependListener=function(e,t){return lf(this,e,t,!0)};function Cg(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function df(n,e,t){var s={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},o=Cg.bind(s);return o.listener=t,s.wrapFn=o,o}st.prototype.once=function(e,t){return qs(t),this.on(e,df(this,e,t)),this},st.prototype.prependOnceListener=function(e,t){return qs(t),this.prependListener(e,df(this,e,t)),this},st.prototype.removeListener=function(e,t){var s,o,u,c,l;if(qs(t),o=this._events,o===void 0)return this;if(s=o[e],s===void 0)return this;if(s===t||s.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,s.listener||t));else if(typeof s!="function"){for(u=-1,c=s.length-1;c>=0;c--)if(s[c]===t||s[c].listener===t){l=s[c].listener,u=c;break}if(u<0)return this;u===0?s.shift():Tg(s,u),s.length===1&&(o[e]=s[0]),o.removeListener!==void 0&&this.emit("removeListener",e,l||t)}return this},st.prototype.off=st.prototype.removeListener,st.prototype.removeAllListeners=function(e){var t,s,o;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[e]),this;if(arguments.length===0){var u=Object.keys(s),c;for(o=0;o<u.length;++o)c=u[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=s[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this};function pf(n,e,t){var s=n._events;if(s===void 0)return[];var o=s[e];return o===void 0?[]:typeof o=="function"?t?[o.listener||o]:[o]:t?Rg(o):_f(o,o.length)}st.prototype.listeners=function(e){return pf(this,e,!0)},st.prototype.rawListeners=function(e){return pf(this,e,!1)},st.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):gf.call(n,e)},st.prototype.listenerCount=gf;function gf(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}st.prototype.eventNames=function(){return this._eventsCount>0?Ms(this._events):[]};function _f(n,e){for(var t=new Array(e),s=0;s<e;++s)t[s]=n[s];return t}function Tg(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function Rg(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function Ng(n,e){return new Promise(function(t,s){function o(c){n.removeListener(e,u),s(c)}function u(){typeof n.removeListener=="function"&&n.removeListener("error",o),t([].slice.call(arguments))}yf(n,e,u,{once:!0}),e!=="error"&&Lg(n,o,{once:!0})})}function Lg(n,e,t){typeof n.on=="function"&&yf(n,"error",e,t)}function yf(n,e,t,s){if(typeof n.on=="function")s.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function o(u){s.once&&n.removeEventListener(e,o),t(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var Bs={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var ya=function(n,e){return ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o])},ya(n,e)};function Fg(n,e){ya(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var va=function(){return va=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},va.apply(this,arguments)};function $g(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function Ug(n,e,t,s){var o=arguments.length,u=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,e,t,s);else for(var l=n.length-1;l>=0;l--)(c=n[l])&&(u=(o<3?c(u):o>3?c(e,t,u):c(e,t))||u);return o>3&&u&&Object.defineProperty(e,t,u),u}function Mg(n,e){return function(t,s){e(t,s,n)}}function qg(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Bg(n,e,t,s){function o(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function l(m){try{p(s.next(m))}catch(I){c(I)}}function _(m){try{p(s.throw(m))}catch(I){c(I)}}function p(m){m.done?u(m.value):o(m.value).then(l,_)}p((s=s.apply(n,e||[])).next())})}function Hg(n,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(m){return _([p,m])}}function _(p){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,o=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){t.label=p[1];break}if(p[0]===6&&t.label<u[1]){t.label=u[1],u=p;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(p);break}u[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(m){p=[6,m],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function jg(n,e,t,s){s===void 0&&(s=t),n[s]=e[t]}function zg(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function wa(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vf(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var s=t.call(n),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(l){c={error:l}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return u}function Kg(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(vf(arguments[e]));return n}function Gg(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var s=Array(n),o=0,e=0;e<t;e++)for(var u=arguments[e],c=0,l=u.length;c<l;c++,o++)s[o]=u[c];return s}function zi(n){return this instanceof zi?(this.v=n,this):new zi(n)}function Wg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(D){s[D]&&(o[D]=function(T){return new Promise(function(R,j){u.push([D,T,R,j])>1||l(D,T)})})}function l(D,T){try{_(s[D](T))}catch(R){I(u[0][3],R)}}function _(D){D.value instanceof zi?Promise.resolve(D.value.v).then(p,m):I(u[0][2],D)}function p(D){l("next",D)}function m(D){l("throw",D)}function I(D,T){D(T),u.shift(),u.length&&l(u[0][0],u[0][1])}}function Vg(n){var e,t;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,u){e[o]=n[o]?function(c){return(t=!t)?{value:zi(n[o](c)),done:o==="return"}:u?u(c):c}:u}}function kg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof wa=="function"?wa(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(u){t[u]=n[u]&&function(c){return new Promise(function(l,_){c=n[u](c),o(l,_,c.done,c.value)})}}function o(u,c,l,_){Promise.resolve(_).then(function(p){u({value:p,done:l})},c)}}function Yg(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Jg(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function Xg(n){return n&&n.__esModule?n:{default:n}}function Qg(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function Zg(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var e0=Object.freeze({__proto__:null,__extends:Fg,get __assign(){return va},__rest:$g,__decorate:Ug,__param:Mg,__metadata:qg,__awaiter:Bg,__generator:Hg,__createBinding:jg,__exportStar:zg,__values:wa,__read:vf,__spread:Kg,__spreadArrays:Gg,__await:zi,__asyncGenerator:Wg,__asyncDelegator:Vg,__asyncValues:kg,__makeTemplateObject:Yg,__importStar:Jg,__importDefault:Xg,__classPrivateFieldGet:Qg,__classPrivateFieldSet:Zg}),wf=Hn(e0),Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});function t0(n){if(typeof n!="string")throw new Error(`Cannot safe json parse value of type ${typeof n}`);try{return JSON.parse(n)}catch{return n}}Ki.safeJsonParse=t0;function r0(n){return typeof n=="string"?n:JSON.stringify(n,(e,t)=>typeof t>"u"?null:t)}Ki.safeJsonStringify=r0;var Gi={exports:{}},bf;function n0(){return bf||(bf=1,function(){let n;function e(){}n=e,n.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},n.prototype.setItem=function(t,s){this[t]=String(s)},n.prototype.removeItem=function(t){delete this[t]},n.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(s){t[s]=void 0,delete t[s]})},n.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},n.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof mt<"u"&&mt.localStorage?Gi.exports=mt.localStorage:typeof window<"u"&&window.localStorage?Gi.exports=window.localStorage:Gi.exports=new e}()),Gi.exports}var ba={},Wi={},mf;function i0(){if(mf)return Wi;mf=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.IKeyValueStorage=void 0;class n{}return Wi.IKeyValueStorage=n,Wi}var Vi={},Ef;function s0(){if(Ef)return Vi;Ef=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.parseEntry=void 0;const n=Ki;function e(t){var s;return[t[0],n.safeJsonParse((s=t[1])!==null&&s!==void 0?s:"")]}return Vi.parseEntry=e,Vi}var Sf;function o0(){return Sf||(Sf=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=wf;e.__exportStar(i0(),n),e.__exportStar(s0(),n)}(ba)),ba}Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.KeyValueStorage=void 0;const di=wf,Df=Ki,a0=di.__importDefault(n0()),u0=o0();class xf{constructor(){this.localStorage=a0.default}getKeys(){return di.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return di.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(u0.parseEntry)})}getItem(e){return di.__awaiter(this,void 0,void 0,function*(){const t=this.localStorage.getItem(e);if(t!==null)return Df.safeJsonParse(t)})}setItem(e,t){return di.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,Df.safeJsonStringify(t))})}removeItem(e){return di.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}Bs.KeyValueStorage=xf;var c0=Bs.default=xf,pi={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var ma=function(n,e){return ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o])},ma(n,e)};function f0(n,e){ma(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ea=function(){return Ea=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},Ea.apply(this,arguments)};function h0(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function l0(n,e,t,s){var o=arguments.length,u=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,e,t,s);else for(var l=n.length-1;l>=0;l--)(c=n[l])&&(u=(o<3?c(u):o>3?c(e,t,u):c(e,t))||u);return o>3&&u&&Object.defineProperty(e,t,u),u}function d0(n,e){return function(t,s){e(t,s,n)}}function p0(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function g0(n,e,t,s){function o(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function l(m){try{p(s.next(m))}catch(I){c(I)}}function _(m){try{p(s.throw(m))}catch(I){c(I)}}function p(m){m.done?u(m.value):o(m.value).then(l,_)}p((s=s.apply(n,e||[])).next())})}function _0(n,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(m){return _([p,m])}}function _(p){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,o=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){t.label=p[1];break}if(p[0]===6&&t.label<u[1]){t.label=u[1],u=p;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(p);break}u[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(m){p=[6,m],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function y0(n,e,t,s){s===void 0&&(s=t),n[s]=e[t]}function v0(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Sa(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Of(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var s=t.call(n),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(l){c={error:l}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return u}function w0(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Of(arguments[e]));return n}function b0(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var s=Array(n),o=0,e=0;e<t;e++)for(var u=arguments[e],c=0,l=u.length;c<l;c++,o++)s[o]=u[c];return s}function ki(n){return this instanceof ki?(this.v=n,this):new ki(n)}function m0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(D){s[D]&&(o[D]=function(T){return new Promise(function(R,j){u.push([D,T,R,j])>1||l(D,T)})})}function l(D,T){try{_(s[D](T))}catch(R){I(u[0][3],R)}}function _(D){D.value instanceof ki?Promise.resolve(D.value.v).then(p,m):I(u[0][2],D)}function p(D){l("next",D)}function m(D){l("throw",D)}function I(D,T){D(T),u.shift(),u.length&&l(u[0][0],u[0][1])}}function E0(n){var e,t;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,u){e[o]=n[o]?function(c){return(t=!t)?{value:ki(n[o](c)),done:o==="return"}:u?u(c):c}:u}}function S0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Sa=="function"?Sa(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(u){t[u]=n[u]&&function(c){return new Promise(function(l,_){c=n[u](c),o(l,_,c.done,c.value)})}}function o(u,c,l,_){Promise.resolve(_).then(function(p){u({value:p,done:l})},c)}}function D0(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function x0(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function O0(n){return n&&n.__esModule?n:{default:n}}function I0(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function P0(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var A0=Object.freeze({__proto__:null,__extends:f0,get __assign(){return Ea},__rest:h0,__decorate:l0,__param:d0,__metadata:p0,__awaiter:g0,__generator:_0,__createBinding:y0,__exportStar:v0,__values:Sa,__read:Of,__spread:w0,__spreadArrays:b0,__await:ki,__asyncGenerator:m0,__asyncDelegator:E0,__asyncValues:S0,__makeTemplateObject:D0,__importStar:x0,__importDefault:O0,__classPrivateFieldGet:I0,__classPrivateFieldSet:P0}),Hs=Hn(A0),Yi={},ye={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Da=function(n,e){return Da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o])},Da(n,e)};function C0(n,e){Da(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var xa=function(){return xa=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},xa.apply(this,arguments)};function T0(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function R0(n,e,t,s){var o=arguments.length,u=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,e,t,s);else for(var l=n.length-1;l>=0;l--)(c=n[l])&&(u=(o<3?c(u):o>3?c(e,t,u):c(e,t))||u);return o>3&&u&&Object.defineProperty(e,t,u),u}function N0(n,e){return function(t,s){e(t,s,n)}}function L0(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function F0(n,e,t,s){function o(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function l(m){try{p(s.next(m))}catch(I){c(I)}}function _(m){try{p(s.throw(m))}catch(I){c(I)}}function p(m){m.done?u(m.value):o(m.value).then(l,_)}p((s=s.apply(n,e||[])).next())})}function $0(n,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(m){return _([p,m])}}function _(p){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,o=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){t.label=p[1];break}if(p[0]===6&&t.label<u[1]){t.label=u[1],u=p;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(p);break}u[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(m){p=[6,m],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function U0(n,e,t,s){s===void 0&&(s=t),n[s]=e[t]}function M0(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Oa(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function If(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var s=t.call(n),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(l){c={error:l}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return u}function q0(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(If(arguments[e]));return n}function B0(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var s=Array(n),o=0,e=0;e<t;e++)for(var u=arguments[e],c=0,l=u.length;c<l;c++,o++)s[o]=u[c];return s}function Ji(n){return this instanceof Ji?(this.v=n,this):new Ji(n)}function H0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(D){s[D]&&(o[D]=function(T){return new Promise(function(R,j){u.push([D,T,R,j])>1||l(D,T)})})}function l(D,T){try{_(s[D](T))}catch(R){I(u[0][3],R)}}function _(D){D.value instanceof Ji?Promise.resolve(D.value.v).then(p,m):I(u[0][2],D)}function p(D){l("next",D)}function m(D){l("throw",D)}function I(D,T){D(T),u.shift(),u.length&&l(u[0][0],u[0][1])}}function j0(n){var e,t;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,u){e[o]=n[o]?function(c){return(t=!t)?{value:Ji(n[o](c)),done:o==="return"}:u?u(c):c}:u}}function z0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Oa=="function"?Oa(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(u){t[u]=n[u]&&function(c){return new Promise(function(l,_){c=n[u](c),o(l,_,c.done,c.value)})}}function o(u,c,l,_){Promise.resolve(_).then(function(p){u({value:p,done:l})},c)}}function K0(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function G0(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function W0(n){return n&&n.__esModule?n:{default:n}}function V0(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function k0(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var Y0=Object.freeze({__proto__:null,__extends:C0,get __assign(){return xa},__rest:T0,__decorate:R0,__param:N0,__metadata:L0,__awaiter:F0,__generator:$0,__createBinding:U0,__exportStar:M0,__values:Oa,__read:If,__spread:q0,__spreadArrays:B0,__await:Ji,__asyncGenerator:H0,__asyncDelegator:j0,__asyncValues:z0,__makeTemplateObject:K0,__importStar:G0,__importDefault:W0,__classPrivateFieldGet:V0,__classPrivateFieldSet:k0}),js=Hn(Y0),Ia={},Xi={},Pf;function J0(){if(Pf)return Xi;Pf=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.delay=void 0;function n(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return Xi.delay=n,Xi}var jn={},Pa={},zn={},Af;function X0(){return Af||(Af=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.ONE_THOUSAND=zn.ONE_HUNDRED=void 0,zn.ONE_HUNDRED=100,zn.ONE_THOUSAND=1e3),zn}var Aa={},Cf;function Q0(){return Cf||(Cf=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ONE_YEAR=n.FOUR_WEEKS=n.THREE_WEEKS=n.TWO_WEEKS=n.ONE_WEEK=n.THIRTY_DAYS=n.SEVEN_DAYS=n.FIVE_DAYS=n.THREE_DAYS=n.ONE_DAY=n.TWENTY_FOUR_HOURS=n.TWELVE_HOURS=n.SIX_HOURS=n.THREE_HOURS=n.ONE_HOUR=n.SIXTY_MINUTES=n.THIRTY_MINUTES=n.TEN_MINUTES=n.FIVE_MINUTES=n.ONE_MINUTE=n.SIXTY_SECONDS=n.THIRTY_SECONDS=n.TEN_SECONDS=n.FIVE_SECONDS=n.ONE_SECOND=void 0,n.ONE_SECOND=1,n.FIVE_SECONDS=5,n.TEN_SECONDS=10,n.THIRTY_SECONDS=30,n.SIXTY_SECONDS=60,n.ONE_MINUTE=n.SIXTY_SECONDS,n.FIVE_MINUTES=n.ONE_MINUTE*5,n.TEN_MINUTES=n.ONE_MINUTE*10,n.THIRTY_MINUTES=n.ONE_MINUTE*30,n.SIXTY_MINUTES=n.ONE_MINUTE*60,n.ONE_HOUR=n.SIXTY_MINUTES,n.THREE_HOURS=n.ONE_HOUR*3,n.SIX_HOURS=n.ONE_HOUR*6,n.TWELVE_HOURS=n.ONE_HOUR*12,n.TWENTY_FOUR_HOURS=n.ONE_HOUR*24,n.ONE_DAY=n.TWENTY_FOUR_HOURS,n.THREE_DAYS=n.ONE_DAY*3,n.FIVE_DAYS=n.ONE_DAY*5,n.SEVEN_DAYS=n.ONE_DAY*7,n.THIRTY_DAYS=n.ONE_DAY*30,n.ONE_WEEK=n.SEVEN_DAYS,n.TWO_WEEKS=n.ONE_WEEK*2,n.THREE_WEEKS=n.ONE_WEEK*3,n.FOUR_WEEKS=n.ONE_WEEK*4,n.ONE_YEAR=n.ONE_DAY*365}(Aa)),Aa}var Tf;function Rf(){return Tf||(Tf=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=js;e.__exportStar(X0(),n),e.__exportStar(Q0(),n)}(Pa)),Pa}var Nf;function Z0(){if(Nf)return jn;Nf=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.fromMiliseconds=jn.toMiliseconds=void 0;const n=Rf();function e(s){return s*n.ONE_THOUSAND}jn.toMiliseconds=e;function t(s){return Math.floor(s/n.ONE_THOUSAND)}return jn.fromMiliseconds=t,jn}var Lf;function e_(){return Lf||(Lf=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=js;e.__exportStar(J0(),n),e.__exportStar(Z0(),n)}(Ia)),Ia}var gi={},Ff;function t_(){if(Ff)return gi;Ff=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const s=this.get(t);if(typeof s.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const o=Date.now()-s.started;this.timestamps.set(t,{started:s.started,elapsed:o})}get(t){const s=this.timestamps.get(t);if(typeof s>"u")throw new Error(`No timestamp found for label: ${t}`);return s}elapsed(t){const s=this.get(t);return s.elapsed||Date.now()-s.started}}return gi.Watch=n,gi.default=n,gi}var Ca={},Qi={},$f;function r_(){if($f)return Qi;$f=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.IWatch=void 0;class n{}return Qi.IWatch=n,Qi}var Uf;function n_(){return Uf||(Uf=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),js.__exportStar(r_(),n)}(Ca)),Ca}(function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=js;e.__exportStar(e_(),n),e.__exportStar(t_(),n),e.__exportStar(n_(),n),e.__exportStar(Rf(),n)})(ye);var Ta={},Zi={};class Kn{}var i_=Object.freeze({__proto__:null,IEvents:Kn}),s_=Hn(i_),Mf;function o_(){if(Mf)return Zi;Mf=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.IHeartBeat=void 0;const n=s_;class e extends n.IEvents{constructor(s){super()}}return Zi.IHeartBeat=e,Zi}var qf;function Bf(){return qf||(qf=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Hs.__exportStar(o_(),n)}(Ta)),Ta}var Ra={},Gn={},Hf;function a_(){if(Hf)return Gn;Hf=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.HEARTBEAT_EVENTS=Gn.HEARTBEAT_INTERVAL=void 0;const n=ye;return Gn.HEARTBEAT_INTERVAL=n.FIVE_SECONDS,Gn.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Gn}var jf;function zf(){return jf||(jf=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Hs.__exportStar(a_(),n)}(Ra)),Ra}var Kf;function u_(){if(Kf)return Yi;Kf=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.HeartBeat=void 0;const n=Hs,e=Qt.exports,t=ye,s=Bf(),o=zf();class u extends s.IHeartBeat{constructor(l){super(l),this.events=new e.EventEmitter,this.interval=o.HEARTBEAT_INTERVAL,this.interval=l?.interval||o.HEARTBEAT_INTERVAL}static init(l){return n.__awaiter(this,void 0,void 0,function*(){const _=new u(l);return yield _.init(),_})}init(){return n.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(l,_){this.events.on(l,_)}once(l,_){this.events.once(l,_)}off(l,_){this.events.off(l,_)}removeListener(l,_){this.events.removeListener(l,_)}initialize(){return n.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),t.toMiliseconds(this.interval))})}pulse(){this.events.emit(o.HEARTBEAT_EVENTS.pulse)}}return Yi.HeartBeat=u,Yi}(function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Hs;e.__exportStar(u_(),n),e.__exportStar(Bf(),n),e.__exportStar(zf(),n)})(pi);var Je={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Na=function(n,e){return Na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o])},Na(n,e)};function c_(n,e){Na(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var La=function(){return La=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},La.apply(this,arguments)};function f_(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function h_(n,e,t,s){var o=arguments.length,u=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,e,t,s);else for(var l=n.length-1;l>=0;l--)(c=n[l])&&(u=(o<3?c(u):o>3?c(e,t,u):c(e,t))||u);return o>3&&u&&Object.defineProperty(e,t,u),u}function l_(n,e){return function(t,s){e(t,s,n)}}function d_(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function p_(n,e,t,s){function o(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function l(m){try{p(s.next(m))}catch(I){c(I)}}function _(m){try{p(s.throw(m))}catch(I){c(I)}}function p(m){m.done?u(m.value):o(m.value).then(l,_)}p((s=s.apply(n,e||[])).next())})}function g_(n,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(m){return _([p,m])}}function _(p){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,o=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){t.label=p[1];break}if(p[0]===6&&t.label<u[1]){t.label=u[1],u=p;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(p);break}u[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(m){p=[6,m],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function __(n,e,t,s){s===void 0&&(s=t),n[s]=e[t]}function y_(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Fa(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gf(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var s=t.call(n),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(l){c={error:l}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return u}function v_(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Gf(arguments[e]));return n}function w_(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var s=Array(n),o=0,e=0;e<t;e++)for(var u=arguments[e],c=0,l=u.length;c<l;c++,o++)s[o]=u[c];return s}function es(n){return this instanceof es?(this.v=n,this):new es(n)}function b_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(D){s[D]&&(o[D]=function(T){return new Promise(function(R,j){u.push([D,T,R,j])>1||l(D,T)})})}function l(D,T){try{_(s[D](T))}catch(R){I(u[0][3],R)}}function _(D){D.value instanceof es?Promise.resolve(D.value.v).then(p,m):I(u[0][2],D)}function p(D){l("next",D)}function m(D){l("throw",D)}function I(D,T){D(T),u.shift(),u.length&&l(u[0][0],u[0][1])}}function m_(n){var e,t;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,u){e[o]=n[o]?function(c){return(t=!t)?{value:es(n[o](c)),done:o==="return"}:u?u(c):c}:u}}function E_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Fa=="function"?Fa(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(u){t[u]=n[u]&&function(c){return new Promise(function(l,_){c=n[u](c),o(l,_,c.done,c.value)})}}function o(u,c,l,_){Promise.resolve(_).then(function(p){u({value:p,done:l})},c)}}function S_(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function D_(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function x_(n){return n&&n.__esModule?n:{default:n}}function O_(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function I_(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var P_=Object.freeze({__proto__:null,__extends:c_,get __assign(){return La},__rest:f_,__decorate:h_,__param:l_,__metadata:d_,__awaiter:p_,__generator:g_,__createBinding:__,__exportStar:y_,__values:Fa,__read:Gf,__spread:v_,__spreadArrays:w_,__await:es,__asyncGenerator:b_,__asyncDelegator:m_,__asyncValues:E_,__makeTemplateObject:S_,__importStar:D_,__importDefault:x_,__classPrivateFieldGet:O_,__classPrivateFieldSet:I_}),A_=Hn(P_),$a,Wf;function C_(){if(Wf)return $a;Wf=1;function n(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}$a=e;function e(t,s,o){var u=o&&o.stringify||n,c=1;if(typeof t=="object"&&t!==null){var l=s.length+c;if(l===1)return t;var _=new Array(l);_[0]=u(t);for(var p=1;p<l;p++)_[p]=u(s[p]);return _.join(" ")}if(typeof t!="string")return t;var m=s.length;if(m===0)return t;for(var I="",D=1-c,T=-1,R=t&&t.length||0,j=0;j<R;){if(t.charCodeAt(j)===37&&j+1<R){switch(T=T>-1?T:0,t.charCodeAt(j+1)){case 100:case 102:if(D>=m||s[D]==null)break;T<j&&(I+=t.slice(T,j)),I+=Number(s[D]),T=j+2,j++;break;case 105:if(D>=m||s[D]==null)break;T<j&&(I+=t.slice(T,j)),I+=Math.floor(Number(s[D])),T=j+2,j++;break;case 79:case 111:case 106:if(D>=m||s[D]===void 0)break;T<j&&(I+=t.slice(T,j));var K=typeof s[D];if(K==="string"){I+="'"+s[D]+"'",T=j+2,j++;break}if(K==="function"){I+=s[D].name||"<anonymous>",T=j+2,j++;break}I+=u(s[D]),T=j+2,j++;break;case 115:if(D>=m)break;T<j&&(I+=t.slice(T,j)),I+=String(s[D]),T=j+2,j++;break;case 37:T<j&&(I+=t.slice(T,j)),I+="%",T=j+2,j++,D--;break}++D}++j}return T===-1?t:(T<R&&(I+=t.slice(T)),I)}return $a}var Ua,Vf;function T_(){if(Vf)return Ua;Vf=1;const n=C_();Ua=o;const e=C().console||{},t={mapHttpRequest:R,mapHttpResponse:R,wrapRequestSerializer:j,wrapResponseSerializer:j,wrapErrorSerializer:j,req:R,res:R,err:D};function s(E,f){return Array.isArray(E)?E.filter(function(V){return V!=="!stdSerializers.err"}):E===!0?Object.keys(f):!1}function o(E){E=E||{},E.browser=E.browser||{};const f=E.browser.transmit;if(f&&typeof f.send!="function")throw Error("pino: transmit option must have a send function");const w=E.browser.write||e;E.browser.write&&(E.browser.asObject=!0);const V=E.serializers||{},Y=s(E.browser.serialize,V);let ie=E.browser.serialize;Array.isArray(E.browser.serialize)&&E.browser.serialize.indexOf("!stdSerializers.err")>-1&&(ie=!1);const ue=["error","fatal","warn","info","debug","trace"];typeof w=="function"&&(w.error=w.fatal=w.warn=w.info=w.debug=w.trace=w),E.enabled===!1&&(E.level="silent");const de=E.level||"info",b=Object.create(w);b.log||(b.log=K),Object.defineProperty(b,"levelVal",{get:ee}),Object.defineProperty(b,"level",{get:X,set:G});const P={transmit:f,serialize:Y,asObject:E.browser.asObject,levels:ue,timestamp:T(E)};b.levels=o.levels,b.level=de,b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=K,b.serializers=V,b._serialize=Y,b._stdErrSerialize=ie,b.child=W,f&&(b._logEvent=I());function ee(){return this.level==="silent"?1/0:this.levels.values[this.level]}function X(){return this._level}function G(J){if(J!=="silent"&&!this.levels.values[J])throw Error("unknown level "+J);this._level=J,u(P,b,"error","log"),u(P,b,"fatal","error"),u(P,b,"warn","error"),u(P,b,"info","log"),u(P,b,"debug","log"),u(P,b,"trace","log")}function W(J,re){if(!J)throw new Error("missing bindings for child Pino");re=re||{},Y&&J.serializers&&(re.serializers=J.serializers);const be=re.serializers;if(Y&&be){var oe=Object.assign({},V,be),me=E.browser.serialize===!0?Object.keys(oe):Y;delete J.serializers,_([J],me,oe,this._stdErrSerialize)}function he(ve){this._childLevel=(ve._childLevel|0)+1,this.error=p(ve,J,"error"),this.fatal=p(ve,J,"fatal"),this.warn=p(ve,J,"warn"),this.info=p(ve,J,"info"),this.debug=p(ve,J,"debug"),this.trace=p(ve,J,"trace"),oe&&(this.serializers=oe,this._serialize=me),f&&(this._logEvent=I([].concat(ve._logEvent.bindings,J)))}return he.prototype=this,new he(this)}return b}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=t,o.stdTimeFunctions=Object.assign({},{nullTime:se,epochTime:L,unixTime:M,isoTime:x});function u(E,f,w,V){const Y=Object.getPrototypeOf(f);f[w]=f.levelVal>f.levels.values[w]?K:Y[w]?Y[w]:e[w]||e[V]||K,c(E,f,w)}function c(E,f,w){!E.transmit&&f[w]===K||(f[w]=function(V){return function(){const ie=E.timestamp(),ue=new Array(arguments.length),de=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var b=0;b<ue.length;b++)ue[b]=arguments[b];if(E.serialize&&!E.asObject&&_(ue,this._serialize,this.serializers,this._stdErrSerialize),E.asObject?V.call(de,l(this,w,ue,ie)):V.apply(de,ue),E.transmit){const P=E.transmit.level||f.level,ee=o.levels.values[P],X=o.levels.values[w];if(X<ee)return;m(this,{ts:ie,methodLevel:w,methodValue:X,transmitLevel:P,transmitValue:o.levels.values[E.transmit.level||f.level],send:E.transmit.send,val:f.levelVal},ue)}}}(f[w]))}function l(E,f,w,V){E._serialize&&_(w,E._serialize,E.serializers,E._stdErrSerialize);const Y=w.slice();let ie=Y[0];const ue={};V&&(ue.time=V),ue.level=o.levels.values[f];let de=(E._childLevel|0)+1;if(de<1&&(de=1),ie!==null&&typeof ie=="object"){for(;de--&&typeof Y[0]=="object";)Object.assign(ue,Y.shift());ie=Y.length?n(Y.shift(),Y):void 0}else typeof ie=="string"&&(ie=n(Y.shift(),Y));return ie!==void 0&&(ue.msg=ie),ue}function _(E,f,w,V){for(const Y in E)if(V&&E[Y]instanceof Error)E[Y]=o.stdSerializers.err(E[Y]);else if(typeof E[Y]=="object"&&!Array.isArray(E[Y]))for(const ie in E[Y])f&&f.indexOf(ie)>-1&&ie in w&&(E[Y][ie]=w[ie](E[Y][ie]))}function p(E,f,w){return function(){const V=new Array(1+arguments.length);V[0]=f;for(var Y=1;Y<V.length;Y++)V[Y]=arguments[Y-1];return E[w].apply(this,V)}}function m(E,f,w){const V=f.send,Y=f.ts,ie=f.methodLevel,ue=f.methodValue,de=f.val,b=E._logEvent.bindings;_(w,E._serialize||Object.keys(E.serializers),E.serializers,E._stdErrSerialize===void 0?!0:E._stdErrSerialize),E._logEvent.ts=Y,E._logEvent.messages=w.filter(function(P){return b.indexOf(P)===-1}),E._logEvent.level.label=ie,E._logEvent.level.value=ue,V(ie,E._logEvent,de),E._logEvent=I(b)}function I(E){return{ts:0,messages:[],bindings:E||[],level:{label:"",value:0}}}function D(E){const f={type:E.constructor.name,msg:E.message,stack:E.stack};for(const w in E)f[w]===void 0&&(f[w]=E[w]);return f}function T(E){return typeof E.timestamp=="function"?E.timestamp:E.timestamp===!1?se:L}function R(){return{}}function j(E){return E}function K(){}function se(){return!1}function L(){return Date.now()}function M(){return Math.round(Date.now()/1e3)}function x(){return new Date(Date.now()).toISOString()}function C(){function E(f){return typeof f<"u"&&f}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return E(self)||E(window)||E(this)||{}}}return Ua}var Wn={},kf;function Yf(){return kf||(kf=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PINO_CUSTOM_CONTEXT_KEY=Wn.PINO_LOGGER_DEFAULTS=void 0,Wn.PINO_LOGGER_DEFAULTS={level:"info"},Wn.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Wn}var nr={},Jf;function R_(){if(Jf)return nr;Jf=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.generateChildLogger=nr.formatChildLoggerContext=nr.getLoggerContext=nr.setBrowserLoggerContext=nr.getBrowserLoggerContext=nr.getDefaultLoggerOptions=void 0;const n=Yf();function e(l){return Object.assign(Object.assign({},l),{level:l?.level||n.PINO_LOGGER_DEFAULTS.level})}nr.getDefaultLoggerOptions=e;function t(l,_=n.PINO_CUSTOM_CONTEXT_KEY){return l[_]||""}nr.getBrowserLoggerContext=t;function s(l,_,p=n.PINO_CUSTOM_CONTEXT_KEY){return l[p]=_,l}nr.setBrowserLoggerContext=s;function o(l,_=n.PINO_CUSTOM_CONTEXT_KEY){let p="";return typeof l.bindings>"u"?p=t(l,_):p=l.bindings().context||"",p}nr.getLoggerContext=o;function u(l,_,p=n.PINO_CUSTOM_CONTEXT_KEY){const m=o(l,p);return m.trim()?`${m}/${_}`:_}nr.formatChildLoggerContext=u;function c(l,_,p=n.PINO_CUSTOM_CONTEXT_KEY){const m=u(l,_,p),I=l.child({context:m});return s(I,m,p)}return nr.generateChildLogger=c,nr}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.pino=void 0;const e=A_,t=e.__importDefault(T_());Object.defineProperty(n,"pino",{enumerable:!0,get:function(){return t.default}}),e.__exportStar(Yf(),n),e.__exportStar(R_(),n)})(Je);class N_ extends Kn{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class L_ extends Kn{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class F_{constructor(e,t){this.logger=e,this.core=t}}class $_ extends Kn{constructor(e,t){super(),this.relayer=e,this.logger=t}}class U_ extends Kn{constructor(e){super()}}class M_{constructor(e,t,s,o){this.core=e,this.logger=t,this.name=s}}class q_ extends Kn{constructor(e,t){super(),this.relayer=e,this.logger=t}}class B_ extends Kn{constructor(e,t){super(),this.core=e,this.logger=t}}class H_{constructor(e,t){this.projectId=e,this.logger=t}}class j_{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class z_{constructor(e){this.client=e}}const K_=n=>JSON.stringify(n,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),G_=n=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=n.replace(e,'$1"$2n"$3');return JSON.parse(t,(s,o)=>typeof o=="string"&&o.match(/^\d+n$/)?BigInt(o.substring(0,o.length-1)):o)};function Ma(n){if(typeof n!="string")throw new Error(`Cannot safe json parse value of type ${typeof n}`);try{return G_(n)}catch{return n}}function ts(n){return typeof n=="string"?n:K_(n)||""}var qa={},_i={},zs={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.BrowserRandomSource=void 0;const Xf=65536;class W_{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let s=0;s<t.length;s+=Xf)this._crypto.getRandomValues(t.subarray(s,s+Math.min(t.length-s,Xf)));return t}}Ks.BrowserRandomSource=W_;function V_(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gs={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});function k_(n){for(var e=0;e<n.length;e++)n[e]=0;return n}Sr.wipe=k_;var Y_={},J_=Object.freeze({__proto__:null,default:Y_}),X_=Hn(J_);Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.NodeRandomSource=void 0;const Q_=Sr;class Z_{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof V_<"u"){const e=X_;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const s=new Uint8Array(e);for(let o=0;o<s.length;o++)s[o]=t[o];return(0,Q_.wipe)(t),s}}Gs.NodeRandomSource=Z_,Object.defineProperty(zs,"__esModule",{value:!0}),zs.SystemRandomSource=void 0;const ey=Ks,ty=Gs;class ry{constructor(){if(this.isAvailable=!1,this.name="",this._source=new ey.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new ty.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}zs.SystemRandomSource=ry;var Ne={},Qf={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,_){var p=l>>>16&65535,m=l&65535,I=_>>>16&65535,D=_&65535;return m*D+(p*D+m*I<<16>>>0)|0}n.mul=Math.imul||e;function t(l,_){return l+_|0}n.add=t;function s(l,_){return l-_|0}n.sub=s;function o(l,_){return l<<_|l>>>32-_}n.rotl=o;function u(l,_){return l<<32-_|l>>>_}n.rotr=u;function c(l){return typeof l=="number"&&isFinite(l)&&Math.floor(l)===l}n.isInteger=Number.isInteger||c,n.MAX_SAFE_INTEGER=9007199254740991,n.isSafeInteger=function(l){return n.isInteger(l)&&l>=-n.MAX_SAFE_INTEGER&&l<=n.MAX_SAFE_INTEGER}})(Qf),Object.defineProperty(Ne,"__esModule",{value:!0});var Zf=Qf;function ny(n,e){return e===void 0&&(e=0),(n[e+0]<<8|n[e+1])<<16>>16}Ne.readInt16BE=ny;function iy(n,e){return e===void 0&&(e=0),(n[e+0]<<8|n[e+1])>>>0}Ne.readUint16BE=iy;function sy(n,e){return e===void 0&&(e=0),(n[e+1]<<8|n[e])<<16>>16}Ne.readInt16LE=sy;function oy(n,e){return e===void 0&&(e=0),(n[e+1]<<8|n[e])>>>0}Ne.readUint16LE=oy;function eh(n,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=n>>>8,e[t+1]=n>>>0,e}Ne.writeUint16BE=eh,Ne.writeInt16BE=eh;function th(n,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=n>>>0,e[t+1]=n>>>8,e}Ne.writeUint16LE=th,Ne.writeInt16LE=th;function Ba(n,e){return e===void 0&&(e=0),n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]}Ne.readInt32BE=Ba;function Ha(n,e){return e===void 0&&(e=0),(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}Ne.readUint32BE=Ha;function ja(n,e){return e===void 0&&(e=0),n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]}Ne.readInt32LE=ja;function za(n,e){return e===void 0&&(e=0),(n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e])>>>0}Ne.readUint32LE=za;function Ws(n,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=n>>>24,e[t+1]=n>>>16,e[t+2]=n>>>8,e[t+3]=n>>>0,e}Ne.writeUint32BE=Ws,Ne.writeInt32BE=Ws;function Vs(n,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=n>>>0,e[t+1]=n>>>8,e[t+2]=n>>>16,e[t+3]=n>>>24,e}Ne.writeUint32LE=Vs,Ne.writeInt32LE=Vs;function ay(n,e){e===void 0&&(e=0);var t=Ba(n,e),s=Ba(n,e+4);return t*4294967296+s-(s>>31)*4294967296}Ne.readInt64BE=ay;function uy(n,e){e===void 0&&(e=0);var t=Ha(n,e),s=Ha(n,e+4);return t*4294967296+s}Ne.readUint64BE=uy;function cy(n,e){e===void 0&&(e=0);var t=ja(n,e),s=ja(n,e+4);return s*4294967296+t-(t>>31)*4294967296}Ne.readInt64LE=cy;function fy(n,e){e===void 0&&(e=0);var t=za(n,e),s=za(n,e+4);return s*4294967296+t}Ne.readUint64LE=fy;function rh(n,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Ws(n/4294967296>>>0,e,t),Ws(n>>>0,e,t+4),e}Ne.writeUint64BE=rh,Ne.writeInt64BE=rh;function nh(n,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Vs(n>>>0,e,t),Vs(n/4294967296>>>0,e,t+4),e}Ne.writeUint64LE=nh,Ne.writeInt64LE=nh;function hy(n,e,t){if(t===void 0&&(t=0),n%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(n/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var s=0,o=1,u=n/8+t-1;u>=t;u--)s+=e[u]*o,o*=256;return s}Ne.readUintBE=hy;function ly(n,e,t){if(t===void 0&&(t=0),n%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(n/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var s=0,o=1,u=t;u<t+n/8;u++)s+=e[u]*o,o*=256;return s}Ne.readUintLE=ly;function dy(n,e,t,s){if(t===void 0&&(t=new Uint8Array(n/8)),s===void 0&&(s=0),n%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Zf.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var o=1,u=n/8+s-1;u>=s;u--)t[u]=e/o&255,o*=256;return t}Ne.writeUintBE=dy;function py(n,e,t,s){if(t===void 0&&(t=new Uint8Array(n/8)),s===void 0&&(s=0),n%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Zf.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var o=1,u=s;u<s+n/8;u++)t[u]=e/o&255,o*=256;return t}Ne.writeUintLE=py;function gy(n,e){e===void 0&&(e=0);var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return t.getFloat32(e)}Ne.readFloat32BE=gy;function _y(n,e){e===void 0&&(e=0);var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return t.getFloat32(e,!0)}Ne.readFloat32LE=_y;function yy(n,e){e===void 0&&(e=0);var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return t.getFloat64(e)}Ne.readFloat64BE=yy;function vy(n,e){e===void 0&&(e=0);var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return t.getFloat64(e,!0)}Ne.readFloat64LE=vy;function wy(n,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var s=new DataView(e.buffer,e.byteOffset,e.byteLength);return s.setFloat32(t,n),e}Ne.writeFloat32BE=wy;function by(n,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var s=new DataView(e.buffer,e.byteOffset,e.byteLength);return s.setFloat32(t,n,!0),e}Ne.writeFloat32LE=by;function my(n,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var s=new DataView(e.buffer,e.byteOffset,e.byteLength);return s.setFloat64(t,n),e}Ne.writeFloat64BE=my;function Ey(n,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var s=new DataView(e.buffer,e.byteOffset,e.byteLength);return s.setFloat64(t,n,!0),e}Ne.writeFloat64LE=Ey,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.randomStringForEntropy=n.randomString=n.randomUint32=n.randomBytes=n.defaultRandomSource=void 0;const e=zs,t=Ne,s=Sr;n.defaultRandomSource=new e.SystemRandomSource;function o(p,m=n.defaultRandomSource){return m.randomBytes(p)}n.randomBytes=o;function u(p=n.defaultRandomSource){const m=o(4,p),I=(0,t.readUint32LE)(m);return(0,s.wipe)(m),I}n.randomUint32=u;const c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function l(p,m=c,I=n.defaultRandomSource){if(m.length<2)throw new Error("randomString charset is too short");if(m.length>256)throw new Error("randomString charset is too long");let D="";const T=m.length,R=256-256%T;for(;p>0;){const j=o(Math.ceil(p*256/R),I);for(let K=0;K<j.length&&p>0;K++){const se=j[K];se<R&&(D+=m.charAt(se%T),p--)}(0,s.wipe)(j)}return D}n.randomString=l;function _(p,m=c,I=n.defaultRandomSource){const D=Math.ceil(p/(Math.log(m.length)/Math.LN2));return l(D,m,I)}n.randomStringForEntropy=_}(_i);var ih={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Ne,t=Sr;n.DIGEST_LENGTH=64,n.BLOCK_SIZE=128;var s=function(){function l(){this.digestLength=n.DIGEST_LENGTH,this.blockSize=n.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return l.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},l.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},l.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._tempHi),t.wipe(this._tempLo),this.reset()},l.prototype.update=function(_,p){if(p===void 0&&(p=_.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var m=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<n.BLOCK_SIZE&&p>0;)this._buffer[this._bufferLength++]=_[m++],p--;this._bufferLength===this.blockSize&&(u(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(m=u(this._tempHi,this._tempLo,this._stateHi,this._stateLo,_,m,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=_[m++],p--;return this},l.prototype.finish=function(_){if(!this._finished){var p=this._bytesHashed,m=this._bufferLength,I=p/536870912|0,D=p<<3,T=p%128<112?128:256;this._buffer[m]=128;for(var R=m+1;R<T-8;R++)this._buffer[R]=0;e.writeUint32BE(I,this._buffer,T-8),e.writeUint32BE(D,this._buffer,T-4),u(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,T),this._finished=!0}for(var R=0;R<this.digestLength/8;R++)e.writeUint32BE(this._stateHi[R],_,R*8),e.writeUint32BE(this._stateLo[R],_,R*8+4);return this},l.prototype.digest=function(){var _=new Uint8Array(this.digestLength);return this.finish(_),_},l.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},l.prototype.restoreState=function(_){return this._stateHi.set(_.stateHi),this._stateLo.set(_.stateLo),this._bufferLength=_.bufferLength,_.buffer&&this._buffer.set(_.buffer),this._bytesHashed=_.bytesHashed,this._finished=!1,this},l.prototype.cleanSavedState=function(_){t.wipe(_.stateHi),t.wipe(_.stateLo),_.buffer&&t.wipe(_.buffer),_.bufferLength=0,_.bytesHashed=0},l}();n.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function u(l,_,p,m,I,D,T){for(var R=p[0],j=p[1],K=p[2],se=p[3],L=p[4],M=p[5],x=p[6],C=p[7],E=m[0],f=m[1],w=m[2],V=m[3],Y=m[4],ie=m[5],ue=m[6],de=m[7],b,P,ee,X,G,W,J,re;T>=128;){for(var be=0;be<16;be++){var oe=8*be+D;l[be]=e.readUint32BE(I,oe),_[be]=e.readUint32BE(I,oe+4)}for(var be=0;be<80;be++){var me=R,he=j,ve=K,H=se,B=L,F=M,d=x,A=C,ae=E,le=f,xe=w,je=V,Ge=Y,Ue=ie,_t=ue,yt=de;if(b=C,P=de,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=(L>>>14|Y<<32-14)^(L>>>18|Y<<32-18)^(Y>>>41-32|L<<32-(41-32)),P=(Y>>>14|L<<32-14)^(Y>>>18|L<<32-18)^(L>>>41-32|Y<<32-(41-32)),G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,b=L&M^~L&x,P=Y&ie^~Y&ue,G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,b=o[be*2],P=o[be*2+1],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,b=l[be%16],P=_[be%16],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,ee=J&65535|re<<16,X=G&65535|W<<16,b=ee,P=X,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=(R>>>28|E<<32-28)^(E>>>34-32|R<<32-(34-32))^(E>>>39-32|R<<32-(39-32)),P=(E>>>28|R<<32-28)^(R>>>34-32|E<<32-(34-32))^(R>>>39-32|E<<32-(39-32)),G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,b=R&j^R&K^j&K,P=E&f^E&w^f&w,G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,A=J&65535|re<<16,yt=G&65535|W<<16,b=H,P=je,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=ee,P=X,G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,H=J&65535|re<<16,je=G&65535|W<<16,j=me,K=he,se=ve,L=H,M=B,x=F,C=d,R=A,f=ae,w=le,V=xe,Y=je,ie=Ge,ue=Ue,de=_t,E=yt,be%16===15)for(var oe=0;oe<16;oe++)b=l[oe],P=_[oe],G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=l[(oe+9)%16],P=_[(oe+9)%16],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,ee=l[(oe+1)%16],X=_[(oe+1)%16],b=(ee>>>1|X<<32-1)^(ee>>>8|X<<32-8)^ee>>>7,P=(X>>>1|ee<<32-1)^(X>>>8|ee<<32-8)^(X>>>7|ee<<32-7),G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,ee=l[(oe+14)%16],X=_[(oe+14)%16],b=(ee>>>19|X<<32-19)^(X>>>61-32|ee<<32-(61-32))^ee>>>6,P=(X>>>19|ee<<32-19)^(ee>>>61-32|X<<32-(61-32))^(X>>>6|ee<<32-6),G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,l[oe]=J&65535|re<<16,_[oe]=G&65535|W<<16}b=R,P=E,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=p[0],P=m[0],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,p[0]=R=J&65535|re<<16,m[0]=E=G&65535|W<<16,b=j,P=f,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=p[1],P=m[1],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,p[1]=j=J&65535|re<<16,m[1]=f=G&65535|W<<16,b=K,P=w,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=p[2],P=m[2],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,p[2]=K=J&65535|re<<16,m[2]=w=G&65535|W<<16,b=se,P=V,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=p[3],P=m[3],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,p[3]=se=J&65535|re<<16,m[3]=V=G&65535|W<<16,b=L,P=Y,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=p[4],P=m[4],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,p[4]=L=J&65535|re<<16,m[4]=Y=G&65535|W<<16,b=M,P=ie,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=p[5],P=m[5],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,p[5]=M=J&65535|re<<16,m[5]=ie=G&65535|W<<16,b=x,P=ue,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=p[6],P=m[6],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,p[6]=x=J&65535|re<<16,m[6]=ue=G&65535|W<<16,b=C,P=de,G=P&65535,W=P>>>16,J=b&65535,re=b>>>16,b=p[7],P=m[7],G+=P&65535,W+=P>>>16,J+=b&65535,re+=b>>>16,W+=G>>>16,J+=W>>>16,re+=J>>>16,p[7]=C=J&65535|re<<16,m[7]=de=G&65535|W<<16,D+=128,T-=128}return D}function c(l){var _=new s;_.update(l);var p=_.digest();return _.clean(),p}n.hash=c})(ih),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.convertSecretKeyToX25519=n.convertPublicKeyToX25519=n.verify=n.sign=n.extractPublicKeyFromSecretKey=n.generateKeyPair=n.generateKeyPairFromSeed=n.SEED_LENGTH=n.SECRET_KEY_LENGTH=n.PUBLIC_KEY_LENGTH=n.SIGNATURE_LENGTH=void 0;const e=_i,t=ih,s=Sr;n.SIGNATURE_LENGTH=64,n.PUBLIC_KEY_LENGTH=32,n.SECRET_KEY_LENGTH=64,n.SEED_LENGTH=32;function o(H){const B=new Float64Array(16);if(H)for(let F=0;F<H.length;F++)B[F]=H[F];return B}const u=new Uint8Array(32);u[0]=9;const c=o(),l=o([1]),_=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),I=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),D=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(H,B){for(let F=0;F<16;F++)H[F]=B[F]|0}function R(H){let B=1;for(let F=0;F<16;F++){let d=H[F]+B+65535;B=Math.floor(d/65536),H[F]=d-B*65536}H[0]+=B-1+37*(B-1)}function j(H,B,F){const d=~(F-1);for(let A=0;A<16;A++){const ae=d&(H[A]^B[A]);H[A]^=ae,B[A]^=ae}}function K(H,B){const F=o(),d=o();for(let A=0;A<16;A++)d[A]=B[A];R(d),R(d),R(d);for(let A=0;A<2;A++){F[0]=d[0]-65517;for(let le=1;le<15;le++)F[le]=d[le]-65535-(F[le-1]>>16&1),F[le-1]&=65535;F[15]=d[15]-32767-(F[14]>>16&1);const ae=F[15]>>16&1;F[14]&=65535,j(d,F,1-ae)}for(let A=0;A<16;A++)H[2*A]=d[A]&255,H[2*A+1]=d[A]>>8}function se(H,B){let F=0;for(let d=0;d<32;d++)F|=H[d]^B[d];return(1&F-1>>>8)-1}function L(H,B){const F=new Uint8Array(32),d=new Uint8Array(32);return K(F,H),K(d,B),se(F,d)}function M(H){const B=new Uint8Array(32);return K(B,H),B[0]&1}function x(H,B){for(let F=0;F<16;F++)H[F]=B[2*F]+(B[2*F+1]<<8);H[15]&=32767}function C(H,B,F){for(let d=0;d<16;d++)H[d]=B[d]+F[d]}function E(H,B,F){for(let d=0;d<16;d++)H[d]=B[d]-F[d]}function f(H,B,F){let d,A,ae=0,le=0,xe=0,je=0,Ge=0,Ue=0,_t=0,yt=0,qe=0,Oe=0,Le=0,Fe=0,Be=0,Pe=0,$e=0,De=0,Ae=0,ze=0,Ie=0,We=0,ke=0,et=0,tt=0,Xe=0,ur=0,yr=0,Qr=0,cr=0,ln=0,An=0,Qn=0,Dt=F[0],vt=F[1],xt=F[2],Ot=F[3],Et=F[4],wt=F[5],Ut=F[6],Mt=F[7],It=F[8],qt=F[9],Pt=F[10],Tt=F[11],At=F[12],lt=F[13],Bt=F[14],Ht=F[15];d=B[0],ae+=d*Dt,le+=d*vt,xe+=d*xt,je+=d*Ot,Ge+=d*Et,Ue+=d*wt,_t+=d*Ut,yt+=d*Mt,qe+=d*It,Oe+=d*qt,Le+=d*Pt,Fe+=d*Tt,Be+=d*At,Pe+=d*lt,$e+=d*Bt,De+=d*Ht,d=B[1],le+=d*Dt,xe+=d*vt,je+=d*xt,Ge+=d*Ot,Ue+=d*Et,_t+=d*wt,yt+=d*Ut,qe+=d*Mt,Oe+=d*It,Le+=d*qt,Fe+=d*Pt,Be+=d*Tt,Pe+=d*At,$e+=d*lt,De+=d*Bt,Ae+=d*Ht,d=B[2],xe+=d*Dt,je+=d*vt,Ge+=d*xt,Ue+=d*Ot,_t+=d*Et,yt+=d*wt,qe+=d*Ut,Oe+=d*Mt,Le+=d*It,Fe+=d*qt,Be+=d*Pt,Pe+=d*Tt,$e+=d*At,De+=d*lt,Ae+=d*Bt,ze+=d*Ht,d=B[3],je+=d*Dt,Ge+=d*vt,Ue+=d*xt,_t+=d*Ot,yt+=d*Et,qe+=d*wt,Oe+=d*Ut,Le+=d*Mt,Fe+=d*It,Be+=d*qt,Pe+=d*Pt,$e+=d*Tt,De+=d*At,Ae+=d*lt,ze+=d*Bt,Ie+=d*Ht,d=B[4],Ge+=d*Dt,Ue+=d*vt,_t+=d*xt,yt+=d*Ot,qe+=d*Et,Oe+=d*wt,Le+=d*Ut,Fe+=d*Mt,Be+=d*It,Pe+=d*qt,$e+=d*Pt,De+=d*Tt,Ae+=d*At,ze+=d*lt,Ie+=d*Bt,We+=d*Ht,d=B[5],Ue+=d*Dt,_t+=d*vt,yt+=d*xt,qe+=d*Ot,Oe+=d*Et,Le+=d*wt,Fe+=d*Ut,Be+=d*Mt,Pe+=d*It,$e+=d*qt,De+=d*Pt,Ae+=d*Tt,ze+=d*At,Ie+=d*lt,We+=d*Bt,ke+=d*Ht,d=B[6],_t+=d*Dt,yt+=d*vt,qe+=d*xt,Oe+=d*Ot,Le+=d*Et,Fe+=d*wt,Be+=d*Ut,Pe+=d*Mt,$e+=d*It,De+=d*qt,Ae+=d*Pt,ze+=d*Tt,Ie+=d*At,We+=d*lt,ke+=d*Bt,et+=d*Ht,d=B[7],yt+=d*Dt,qe+=d*vt,Oe+=d*xt,Le+=d*Ot,Fe+=d*Et,Be+=d*wt,Pe+=d*Ut,$e+=d*Mt,De+=d*It,Ae+=d*qt,ze+=d*Pt,Ie+=d*Tt,We+=d*At,ke+=d*lt,et+=d*Bt,tt+=d*Ht,d=B[8],qe+=d*Dt,Oe+=d*vt,Le+=d*xt,Fe+=d*Ot,Be+=d*Et,Pe+=d*wt,$e+=d*Ut,De+=d*Mt,Ae+=d*It,ze+=d*qt,Ie+=d*Pt,We+=d*Tt,ke+=d*At,et+=d*lt,tt+=d*Bt,Xe+=d*Ht,d=B[9],Oe+=d*Dt,Le+=d*vt,Fe+=d*xt,Be+=d*Ot,Pe+=d*Et,$e+=d*wt,De+=d*Ut,Ae+=d*Mt,ze+=d*It,Ie+=d*qt,We+=d*Pt,ke+=d*Tt,et+=d*At,tt+=d*lt,Xe+=d*Bt,ur+=d*Ht,d=B[10],Le+=d*Dt,Fe+=d*vt,Be+=d*xt,Pe+=d*Ot,$e+=d*Et,De+=d*wt,Ae+=d*Ut,ze+=d*Mt,Ie+=d*It,We+=d*qt,ke+=d*Pt,et+=d*Tt,tt+=d*At,Xe+=d*lt,ur+=d*Bt,yr+=d*Ht,d=B[11],Fe+=d*Dt,Be+=d*vt,Pe+=d*xt,$e+=d*Ot,De+=d*Et,Ae+=d*wt,ze+=d*Ut,Ie+=d*Mt,We+=d*It,ke+=d*qt,et+=d*Pt,tt+=d*Tt,Xe+=d*At,ur+=d*lt,yr+=d*Bt,Qr+=d*Ht,d=B[12],Be+=d*Dt,Pe+=d*vt,$e+=d*xt,De+=d*Ot,Ae+=d*Et,ze+=d*wt,Ie+=d*Ut,We+=d*Mt,ke+=d*It,et+=d*qt,tt+=d*Pt,Xe+=d*Tt,ur+=d*At,yr+=d*lt,Qr+=d*Bt,cr+=d*Ht,d=B[13],Pe+=d*Dt,$e+=d*vt,De+=d*xt,Ae+=d*Ot,ze+=d*Et,Ie+=d*wt,We+=d*Ut,ke+=d*Mt,et+=d*It,tt+=d*qt,Xe+=d*Pt,ur+=d*Tt,yr+=d*At,Qr+=d*lt,cr+=d*Bt,ln+=d*Ht,d=B[14],$e+=d*Dt,De+=d*vt,Ae+=d*xt,ze+=d*Ot,Ie+=d*Et,We+=d*wt,ke+=d*Ut,et+=d*Mt,tt+=d*It,Xe+=d*qt,ur+=d*Pt,yr+=d*Tt,Qr+=d*At,cr+=d*lt,ln+=d*Bt,An+=d*Ht,d=B[15],De+=d*Dt,Ae+=d*vt,ze+=d*xt,Ie+=d*Ot,We+=d*Et,ke+=d*wt,et+=d*Ut,tt+=d*Mt,Xe+=d*It,ur+=d*qt,yr+=d*Pt,Qr+=d*Tt,cr+=d*At,ln+=d*lt,An+=d*Bt,Qn+=d*Ht,ae+=38*Ae,le+=38*ze,xe+=38*Ie,je+=38*We,Ge+=38*ke,Ue+=38*et,_t+=38*tt,yt+=38*Xe,qe+=38*ur,Oe+=38*yr,Le+=38*Qr,Fe+=38*cr,Be+=38*ln,Pe+=38*An,$e+=38*Qn,A=1,d=ae+A+65535,A=Math.floor(d/65536),ae=d-A*65536,d=le+A+65535,A=Math.floor(d/65536),le=d-A*65536,d=xe+A+65535,A=Math.floor(d/65536),xe=d-A*65536,d=je+A+65535,A=Math.floor(d/65536),je=d-A*65536,d=Ge+A+65535,A=Math.floor(d/65536),Ge=d-A*65536,d=Ue+A+65535,A=Math.floor(d/65536),Ue=d-A*65536,d=_t+A+65535,A=Math.floor(d/65536),_t=d-A*65536,d=yt+A+65535,A=Math.floor(d/65536),yt=d-A*65536,d=qe+A+65535,A=Math.floor(d/65536),qe=d-A*65536,d=Oe+A+65535,A=Math.floor(d/65536),Oe=d-A*65536,d=Le+A+65535,A=Math.floor(d/65536),Le=d-A*65536,d=Fe+A+65535,A=Math.floor(d/65536),Fe=d-A*65536,d=Be+A+65535,A=Math.floor(d/65536),Be=d-A*65536,d=Pe+A+65535,A=Math.floor(d/65536),Pe=d-A*65536,d=$e+A+65535,A=Math.floor(d/65536),$e=d-A*65536,d=De+A+65535,A=Math.floor(d/65536),De=d-A*65536,ae+=A-1+37*(A-1),A=1,d=ae+A+65535,A=Math.floor(d/65536),ae=d-A*65536,d=le+A+65535,A=Math.floor(d/65536),le=d-A*65536,d=xe+A+65535,A=Math.floor(d/65536),xe=d-A*65536,d=je+A+65535,A=Math.floor(d/65536),je=d-A*65536,d=Ge+A+65535,A=Math.floor(d/65536),Ge=d-A*65536,d=Ue+A+65535,A=Math.floor(d/65536),Ue=d-A*65536,d=_t+A+65535,A=Math.floor(d/65536),_t=d-A*65536,d=yt+A+65535,A=Math.floor(d/65536),yt=d-A*65536,d=qe+A+65535,A=Math.floor(d/65536),qe=d-A*65536,d=Oe+A+65535,A=Math.floor(d/65536),Oe=d-A*65536,d=Le+A+65535,A=Math.floor(d/65536),Le=d-A*65536,d=Fe+A+65535,A=Math.floor(d/65536),Fe=d-A*65536,d=Be+A+65535,A=Math.floor(d/65536),Be=d-A*65536,d=Pe+A+65535,A=Math.floor(d/65536),Pe=d-A*65536,d=$e+A+65535,A=Math.floor(d/65536),$e=d-A*65536,d=De+A+65535,A=Math.floor(d/65536),De=d-A*65536,ae+=A-1+37*(A-1),H[0]=ae,H[1]=le,H[2]=xe,H[3]=je,H[4]=Ge,H[5]=Ue,H[6]=_t,H[7]=yt,H[8]=qe,H[9]=Oe,H[10]=Le,H[11]=Fe,H[12]=Be,H[13]=Pe,H[14]=$e,H[15]=De}function w(H,B){f(H,B,B)}function V(H,B){const F=o();let d;for(d=0;d<16;d++)F[d]=B[d];for(d=253;d>=0;d--)w(F,F),d!==2&&d!==4&&f(F,F,B);for(d=0;d<16;d++)H[d]=F[d]}function Y(H,B){const F=o();let d;for(d=0;d<16;d++)F[d]=B[d];for(d=250;d>=0;d--)w(F,F),d!==1&&f(F,F,B);for(d=0;d<16;d++)H[d]=F[d]}function ie(H,B){const F=o(),d=o(),A=o(),ae=o(),le=o(),xe=o(),je=o(),Ge=o(),Ue=o();E(F,H[1],H[0]),E(Ue,B[1],B[0]),f(F,F,Ue),C(d,H[0],H[1]),C(Ue,B[0],B[1]),f(d,d,Ue),f(A,H[3],B[3]),f(A,A,p),f(ae,H[2],B[2]),C(ae,ae,ae),E(le,d,F),E(xe,ae,A),C(je,ae,A),C(Ge,d,F),f(H[0],le,xe),f(H[1],Ge,je),f(H[2],je,xe),f(H[3],le,Ge)}function ue(H,B,F){for(let d=0;d<4;d++)j(H[d],B[d],F)}function de(H,B){const F=o(),d=o(),A=o();V(A,B[2]),f(F,B[0],A),f(d,B[1],A),K(H,d),H[31]^=M(F)<<7}function b(H,B,F){T(H[0],c),T(H[1],l),T(H[2],l),T(H[3],c);for(let d=255;d>=0;--d){const A=F[d/8|0]>>(d&7)&1;ue(H,B,A),ie(B,H),ie(H,H),ue(H,B,A)}}function P(H,B){const F=[o(),o(),o(),o()];T(F[0],m),T(F[1],I),T(F[2],l),f(F[3],m,I),b(H,F,B)}function ee(H){if(H.length!==n.SEED_LENGTH)throw new Error(`ed25519: seed must be ${n.SEED_LENGTH} bytes`);const B=(0,t.hash)(H);B[0]&=248,B[31]&=127,B[31]|=64;const F=new Uint8Array(32),d=[o(),o(),o(),o()];P(d,B),de(F,d);const A=new Uint8Array(64);return A.set(H),A.set(F,32),{publicKey:F,secretKey:A}}n.generateKeyPairFromSeed=ee;function X(H){const B=(0,e.randomBytes)(32,H),F=ee(B);return(0,s.wipe)(B),F}n.generateKeyPair=X;function G(H){if(H.length!==n.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${n.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(H.subarray(32))}n.extractPublicKeyFromSecretKey=G;const W=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function J(H,B){let F,d,A,ae;for(d=63;d>=32;--d){for(F=0,A=d-32,ae=d-12;A<ae;++A)B[A]+=F-16*B[d]*W[A-(d-32)],F=Math.floor((B[A]+128)/256),B[A]-=F*256;B[A]+=F,B[d]=0}for(F=0,A=0;A<32;A++)B[A]+=F-(B[31]>>4)*W[A],F=B[A]>>8,B[A]&=255;for(A=0;A<32;A++)B[A]-=F*W[A];for(d=0;d<32;d++)B[d+1]+=B[d]>>8,H[d]=B[d]&255}function re(H){const B=new Float64Array(64);for(let F=0;F<64;F++)B[F]=H[F];for(let F=0;F<64;F++)H[F]=0;J(H,B)}function be(H,B){const F=new Float64Array(64),d=[o(),o(),o(),o()],A=(0,t.hash)(H.subarray(0,32));A[0]&=248,A[31]&=127,A[31]|=64;const ae=new Uint8Array(64);ae.set(A.subarray(32),32);const le=new t.SHA512;le.update(ae.subarray(32)),le.update(B);const xe=le.digest();le.clean(),re(xe),P(d,xe),de(ae,d),le.reset(),le.update(ae.subarray(0,32)),le.update(H.subarray(32)),le.update(B);const je=le.digest();re(je);for(let Ge=0;Ge<32;Ge++)F[Ge]=xe[Ge];for(let Ge=0;Ge<32;Ge++)for(let Ue=0;Ue<32;Ue++)F[Ge+Ue]+=je[Ge]*A[Ue];return J(ae.subarray(32),F),ae}n.sign=be;function oe(H,B){const F=o(),d=o(),A=o(),ae=o(),le=o(),xe=o(),je=o();return T(H[2],l),x(H[1],B),w(A,H[1]),f(ae,A,_),E(A,A,H[2]),C(ae,H[2],ae),w(le,ae),w(xe,le),f(je,xe,le),f(F,je,A),f(F,F,ae),Y(F,F),f(F,F,A),f(F,F,ae),f(F,F,ae),f(H[0],F,ae),w(d,H[0]),f(d,d,ae),L(d,A)&&f(H[0],H[0],D),w(d,H[0]),f(d,d,ae),L(d,A)?-1:(M(H[0])===B[31]>>7&&E(H[0],c,H[0]),f(H[3],H[0],H[1]),0)}function me(H,B,F){const d=new Uint8Array(32),A=[o(),o(),o(),o()],ae=[o(),o(),o(),o()];if(F.length!==n.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${n.SIGNATURE_LENGTH} bytes`);if(oe(ae,H))return!1;const le=new t.SHA512;le.update(F.subarray(0,32)),le.update(H),le.update(B);const xe=le.digest();return re(xe),b(A,ae,xe),P(ae,F.subarray(32)),ie(A,ae),de(d,A),!se(F,d)}n.verify=me;function he(H){let B=[o(),o(),o(),o()];if(oe(B,H))throw new Error("Ed25519: invalid public key");let F=o(),d=o(),A=B[1];C(F,l,A),E(d,l,A),V(d,d),f(F,F,d);let ae=new Uint8Array(32);return K(ae,F),ae}n.convertPublicKeyToX25519=he;function ve(H){const B=(0,t.hash)(H.subarray(0,32));B[0]&=248,B[31]&=127,B[31]|=64;const F=new Uint8Array(B.subarray(0,32));return(0,s.wipe)(B),F}n.convertSecretKeyToX25519=ve}(qa);const Sy="EdDSA",Dy="JWT",sh=".",oh="base64url",xy="utf8",Oy="utf8",Iy=":",Py="did",Ay="key",ah="base58btc",Cy="z",Ty="K36",Ry=32;function Ka(n){return globalThis.Buffer!=null?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}function uh(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ka(globalThis.Buffer.allocUnsafe(n)):new Uint8Array(n)}function Ga(n,e){e||(e=n.reduce((o,u)=>o+u.length,0));const t=uh(e);let s=0;for(const o of n)t.set(o,s),s+=o.length;return Ka(t)}function Ny(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var o=0;o<n.length;o++){var u=n.charAt(o),c=u.charCodeAt(0);if(t[c]!==255)throw new TypeError(u+" is ambiguous");t[c]=o}var l=n.length,_=n.charAt(0),p=Math.log(l)/Math.log(256),m=Math.log(256)/Math.log(l);function I(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var j=0,K=0,se=0,L=R.length;se!==L&&R[se]===0;)se++,j++;for(var M=(L-se)*m+1>>>0,x=new Uint8Array(M);se!==L;){for(var C=R[se],E=0,f=M-1;(C!==0||E<K)&&f!==-1;f--,E++)C+=256*x[f]>>>0,x[f]=C%l>>>0,C=C/l>>>0;if(C!==0)throw new Error("Non-zero carry");K=E,se++}for(var w=M-K;w!==M&&x[w]===0;)w++;for(var V=_.repeat(j);w<M;++w)V+=n.charAt(x[w]);return V}function D(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;var j=0;if(R[j]!==" "){for(var K=0,se=0;R[j]===_;)K++,j++;for(var L=(R.length-j)*p+1>>>0,M=new Uint8Array(L);R[j];){var x=t[R.charCodeAt(j)];if(x===255)return;for(var C=0,E=L-1;(x!==0||C<se)&&E!==-1;E--,C++)x+=l*M[E]>>>0,M[E]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");se=C,j++}if(R[j]!==" "){for(var f=L-se;f!==L&&M[f]===0;)f++;for(var w=new Uint8Array(K+(L-f)),V=K;f!==L;)w[V++]=M[f++];return w}}}function T(R){var j=D(R);if(j)return j;throw new Error(`Non-${e} character`)}return{encode:I,decodeUnsafe:D,decode:T}}var Ly=Ny,Fy=Ly;const ch=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},$y=n=>new TextEncoder().encode(n),Uy=n=>new TextDecoder().decode(n);class My{constructor(e,t,s){this.name=e,this.prefix=t,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class qy{constructor(e,t,s){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return fh(this,e)}}class By{constructor(e){this.decoders=e}or(e){return fh(this,e)}decode(e){const t=e[0],s=this.decoders[t];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const fh=(n,e)=>new By({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});class Hy{constructor(e,t,s,o){this.name=e,this.prefix=t,this.baseEncode=s,this.baseDecode=o,this.encoder=new My(e,t,s),this.decoder=new qy(e,t,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ks=({name:n,prefix:e,encode:t,decode:s})=>new Hy(n,e,t,s),rs=({prefix:n,name:e,alphabet:t})=>{const{encode:s,decode:o}=Fy(t,e);return ks({prefix:n,name:e,encode:s,decode:u=>ch(o(u))})},jy=(n,e,t,s)=>{const o={};for(let m=0;m<e.length;++m)o[e[m]]=m;let u=n.length;for(;n[u-1]==="=";)--u;const c=new Uint8Array(u*t/8|0);let l=0,_=0,p=0;for(let m=0;m<u;++m){const I=o[n[m]];if(I===void 0)throw new SyntaxError(`Non-${s} character`);_=_<<t|I,l+=t,l>=8&&(l-=8,c[p++]=255&_>>l)}if(l>=t||255&_<<8-l)throw new SyntaxError("Unexpected end of data");return c},zy=(n,e,t)=>{const s=e[e.length-1]==="=",o=(1<<t)-1;let u="",c=0,l=0;for(let _=0;_<n.length;++_)for(l=l<<8|n[_],c+=8;c>t;)c-=t,u+=e[o&l>>c];if(c&&(u+=e[o&l<<t-c]),s)for(;u.length*t&7;)u+="=";return u},Yt=({name:n,prefix:e,bitsPerChar:t,alphabet:s})=>ks({prefix:e,name:n,encode(o){return zy(o,s,t)},decode(o){return jy(o,s,t,n)}}),Ky=ks({prefix:"\0",name:"identity",encode:n=>Uy(n),decode:n=>$y(n)});var Gy=Object.freeze({__proto__:null,identity:Ky});const Wy=Yt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Vy=Object.freeze({__proto__:null,base2:Wy});const ky=Yt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Yy=Object.freeze({__proto__:null,base8:ky});const Jy=rs({prefix:"9",name:"base10",alphabet:"0123456789"});var Xy=Object.freeze({__proto__:null,base10:Jy});const Qy=Yt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Zy=Yt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ev=Object.freeze({__proto__:null,base16:Qy,base16upper:Zy});const tv=Yt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rv=Yt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nv=Yt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iv=Yt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),sv=Yt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ov=Yt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),av=Yt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uv=Yt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cv=Yt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var fv=Object.freeze({__proto__:null,base32:tv,base32upper:rv,base32pad:nv,base32padupper:iv,base32hex:sv,base32hexupper:ov,base32hexpad:av,base32hexpadupper:uv,base32z:cv});const hv=rs({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lv=rs({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var dv=Object.freeze({__proto__:null,base36:hv,base36upper:lv});const pv=rs({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gv=rs({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _v=Object.freeze({__proto__:null,base58btc:pv,base58flickr:gv});const yv=Yt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vv=Yt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wv=Yt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bv=Yt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mv=Object.freeze({__proto__:null,base64:yv,base64pad:vv,base64url:wv,base64urlpad:bv});const hh=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Ev=hh.reduce((n,e,t)=>(n[t]=e,n),[]),Sv=hh.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function Dv(n){return n.reduce((e,t)=>(e+=Ev[t],e),"")}function xv(n){const e=[];for(const t of n){const s=Sv[t.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(s)}return new Uint8Array(e)}const Ov=ks({prefix:"\u{1F680}",name:"base256emoji",encode:Dv,decode:xv});var Iv=Object.freeze({__proto__:null,base256emoji:Ov}),Pv=dh,lh=128,Av=127,Cv=~Av,Tv=Math.pow(2,31);function dh(n,e,t){e=e||[],t=t||0;for(var s=t;n>=Tv;)e[t++]=n&255|lh,n/=128;for(;n&Cv;)e[t++]=n&255|lh,n>>>=7;return e[t]=n|0,dh.bytes=t-s+1,e}var Rv=Wa,Nv=128,ph=127;function Wa(n,s){var t=0,s=s||0,o=0,u=s,c,l=n.length;do{if(u>=l)throw Wa.bytes=0,new RangeError("Could not decode varint");c=n[u++],t+=o<28?(c&ph)<<o:(c&ph)*Math.pow(2,o),o+=7}while(c>=Nv);return Wa.bytes=u-s,t}var Lv=Math.pow(2,7),Fv=Math.pow(2,14),$v=Math.pow(2,21),Uv=Math.pow(2,28),Mv=Math.pow(2,35),qv=Math.pow(2,42),Bv=Math.pow(2,49),Hv=Math.pow(2,56),jv=Math.pow(2,63),zv=function(n){return n<Lv?1:n<Fv?2:n<$v?3:n<Uv?4:n<Mv?5:n<qv?6:n<Bv?7:n<Hv?8:n<jv?9:10},Kv={encode:Pv,decode:Rv,encodingLength:zv},gh=Kv;const _h=(n,e,t=0)=>(gh.encode(n,e,t),e),yh=n=>gh.encodingLength(n),Va=(n,e)=>{const t=e.byteLength,s=yh(n),o=s+yh(t),u=new Uint8Array(o+t);return _h(n,u,0),_h(t,u,s),u.set(e,o),new Gv(n,t,e,u)};class Gv{constructor(e,t,s,o){this.code=e,this.size=t,this.digest=s,this.bytes=o}}const vh=({name:n,code:e,encode:t})=>new Wv(n,e,t);class Wv{constructor(e,t,s){this.name=e,this.code=t,this.encode=s}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Va(this.code,t):t.then(s=>Va(this.code,s))}else throw Error("Unknown type, must be binary type")}}const wh=n=>async e=>new Uint8Array(await crypto.subtle.digest(n,e)),Vv=vh({name:"sha2-256",code:18,encode:wh("SHA-256")}),kv=vh({name:"sha2-512",code:19,encode:wh("SHA-512")});var Yv=Object.freeze({__proto__:null,sha256:Vv,sha512:kv});const bh=0,Jv="identity",mh=ch;var Xv=Object.freeze({__proto__:null,identity:{code:bh,name:Jv,encode:mh,digest:n=>Va(bh,mh(n))}});new TextEncoder,new TextDecoder;const Eh={...Gy,...Vy,...Yy,...Xy,...ev,...fv,...dv,..._v,...mv,...Iv};({...Yv,...Xv});function Sh(n,e,t,s){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:s}}}const Dh=Sh("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),ka=Sh("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=uh(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),xh={utf8:Dh,"utf-8":Dh,hex:Eh.base16,latin1:ka,ascii:ka,binary:ka,...Eh};function ir(n,e="utf8"){const t=xh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("utf8"):t.encoder.encode(n).substring(1)}function pr(n,e="utf8"){const t=xh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ka(globalThis.Buffer.from(n,"utf-8")):t.decoder.decode(`${t.prefix}${n}`)}function Ys(n){return ir(pr(ts(n),xy),oh)}function Oh(n){const e=pr(Ty,ah),t=Cy+ir(Ga([e,n]),ah);return[Py,Ay,t].join(Iy)}function Qv(n){return ir(n,oh)}function Zv(n){return pr([Ys(n.header),Ys(n.payload)].join(sh),Oy)}function e1(n){return[Ys(n.header),Ys(n.payload),Qv(n.signature)].join(sh)}function Ih(n=_i.randomBytes(Ry)){return qa.generateKeyPairFromSeed(n)}async function t1(n,e,t,s,o=ye.fromMiliseconds(Date.now())){const u={alg:Sy,typ:Dy},c=Oh(s.publicKey),l=o+t,_={iss:c,sub:n,aud:e,iat:o,exp:l},p=Zv({header:u,payload:_}),m=qa.sign(s.secretKey,p);return e1({header:u,payload:_,signature:m})}var Ya={},Js={};Object.defineProperty(Js,"__esModule",{value:!0});var Zt=Ne,Ja=Sr,r1=20;function n1(n,e,t){for(var s=1634760805,o=857760878,u=2036477234,c=1797285236,l=t[3]<<24|t[2]<<16|t[1]<<8|t[0],_=t[7]<<24|t[6]<<16|t[5]<<8|t[4],p=t[11]<<24|t[10]<<16|t[9]<<8|t[8],m=t[15]<<24|t[14]<<16|t[13]<<8|t[12],I=t[19]<<24|t[18]<<16|t[17]<<8|t[16],D=t[23]<<24|t[22]<<16|t[21]<<8|t[20],T=t[27]<<24|t[26]<<16|t[25]<<8|t[24],R=t[31]<<24|t[30]<<16|t[29]<<8|t[28],j=e[3]<<24|e[2]<<16|e[1]<<8|e[0],K=e[7]<<24|e[6]<<16|e[5]<<8|e[4],se=e[11]<<24|e[10]<<16|e[9]<<8|e[8],L=e[15]<<24|e[14]<<16|e[13]<<8|e[12],M=s,x=o,C=u,E=c,f=l,w=_,V=p,Y=m,ie=I,ue=D,de=T,b=R,P=j,ee=K,X=se,G=L,W=0;W<r1;W+=2)M=M+f|0,P^=M,P=P>>>32-16|P<<16,ie=ie+P|0,f^=ie,f=f>>>32-12|f<<12,x=x+w|0,ee^=x,ee=ee>>>32-16|ee<<16,ue=ue+ee|0,w^=ue,w=w>>>32-12|w<<12,C=C+V|0,X^=C,X=X>>>32-16|X<<16,de=de+X|0,V^=de,V=V>>>32-12|V<<12,E=E+Y|0,G^=E,G=G>>>32-16|G<<16,b=b+G|0,Y^=b,Y=Y>>>32-12|Y<<12,C=C+V|0,X^=C,X=X>>>32-8|X<<8,de=de+X|0,V^=de,V=V>>>32-7|V<<7,E=E+Y|0,G^=E,G=G>>>32-8|G<<8,b=b+G|0,Y^=b,Y=Y>>>32-7|Y<<7,x=x+w|0,ee^=x,ee=ee>>>32-8|ee<<8,ue=ue+ee|0,w^=ue,w=w>>>32-7|w<<7,M=M+f|0,P^=M,P=P>>>32-8|P<<8,ie=ie+P|0,f^=ie,f=f>>>32-7|f<<7,M=M+w|0,G^=M,G=G>>>32-16|G<<16,de=de+G|0,w^=de,w=w>>>32-12|w<<12,x=x+V|0,P^=x,P=P>>>32-16|P<<16,b=b+P|0,V^=b,V=V>>>32-12|V<<12,C=C+Y|0,ee^=C,ee=ee>>>32-16|ee<<16,ie=ie+ee|0,Y^=ie,Y=Y>>>32-12|Y<<12,E=E+f|0,X^=E,X=X>>>32-16|X<<16,ue=ue+X|0,f^=ue,f=f>>>32-12|f<<12,C=C+Y|0,ee^=C,ee=ee>>>32-8|ee<<8,ie=ie+ee|0,Y^=ie,Y=Y>>>32-7|Y<<7,E=E+f|0,X^=E,X=X>>>32-8|X<<8,ue=ue+X|0,f^=ue,f=f>>>32-7|f<<7,x=x+V|0,P^=x,P=P>>>32-8|P<<8,b=b+P|0,V^=b,V=V>>>32-7|V<<7,M=M+w|0,G^=M,G=G>>>32-8|G<<8,de=de+G|0,w^=de,w=w>>>32-7|w<<7;Zt.writeUint32LE(M+s|0,n,0),Zt.writeUint32LE(x+o|0,n,4),Zt.writeUint32LE(C+u|0,n,8),Zt.writeUint32LE(E+c|0,n,12),Zt.writeUint32LE(f+l|0,n,16),Zt.writeUint32LE(w+_|0,n,20),Zt.writeUint32LE(V+p|0,n,24),Zt.writeUint32LE(Y+m|0,n,28),Zt.writeUint32LE(ie+I|0,n,32),Zt.writeUint32LE(ue+D|0,n,36),Zt.writeUint32LE(de+T|0,n,40),Zt.writeUint32LE(b+R|0,n,44),Zt.writeUint32LE(P+j|0,n,48),Zt.writeUint32LE(ee+K|0,n,52),Zt.writeUint32LE(X+se|0,n,56),Zt.writeUint32LE(G+L|0,n,60)}function Ph(n,e,t,s,o){if(o===void 0&&(o=0),n.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(s.length<t.length)throw new Error("ChaCha: destination is shorter than source");var u,c;if(o===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=new Uint8Array(16),c=u.length-e.length,u.set(e,c)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");u=e,c=o}for(var l=new Uint8Array(64),_=0;_<t.length;_+=64){n1(l,u,n);for(var p=_;p<_+64&&p<t.length;p++)s[p]=t[p]^l[p-_];s1(u,0,c)}return Ja.wipe(l),o===0&&Ja.wipe(u),s}Js.streamXOR=Ph;function i1(n,e,t,s){return s===void 0&&(s=0),Ja.wipe(t),Ph(n,e,t,t,s)}Js.stream=i1;function s1(n,e,t){for(var s=1;t--;)s=s+(n[e]&255)|0,n[e]=s&255,s>>>=8,e++;if(s>0)throw new Error("ChaCha: counter overflow")}var Ah={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});function o1(n,e,t){return~(n-1)&e|n-1&t}Dn.select=o1;function a1(n,e){return(n|0)-(e|0)-1>>>31&1}Dn.lessOrEqual=a1;function Ch(n,e){if(n.length!==e.length)return 0;for(var t=0,s=0;s<n.length;s++)t|=n[s]^e[s];return 1&t-1>>>8}Dn.compare=Ch;function u1(n,e){return n.length===0||e.length===0?!1:Ch(n,e)!==0}Dn.equal=u1,function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Dn,t=Sr;n.DIGEST_LENGTH=16;var s=function(){function c(l){this.digestLength=n.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var _=l[0]|l[1]<<8;this._r[0]=_&8191;var p=l[2]|l[3]<<8;this._r[1]=(_>>>13|p<<3)&8191;var m=l[4]|l[5]<<8;this._r[2]=(p>>>10|m<<6)&7939;var I=l[6]|l[7]<<8;this._r[3]=(m>>>7|I<<9)&8191;var D=l[8]|l[9]<<8;this._r[4]=(I>>>4|D<<12)&255,this._r[5]=D>>>1&8190;var T=l[10]|l[11]<<8;this._r[6]=(D>>>14|T<<2)&8191;var R=l[12]|l[13]<<8;this._r[7]=(T>>>11|R<<5)&8065;var j=l[14]|l[15]<<8;this._r[8]=(R>>>8|j<<8)&8191,this._r[9]=j>>>5&127,this._pad[0]=l[16]|l[17]<<8,this._pad[1]=l[18]|l[19]<<8,this._pad[2]=l[20]|l[21]<<8,this._pad[3]=l[22]|l[23]<<8,this._pad[4]=l[24]|l[25]<<8,this._pad[5]=l[26]|l[27]<<8,this._pad[6]=l[28]|l[29]<<8,this._pad[7]=l[30]|l[31]<<8}return c.prototype._blocks=function(l,_,p){for(var m=this._fin?0:2048,I=this._h[0],D=this._h[1],T=this._h[2],R=this._h[3],j=this._h[4],K=this._h[5],se=this._h[6],L=this._h[7],M=this._h[8],x=this._h[9],C=this._r[0],E=this._r[1],f=this._r[2],w=this._r[3],V=this._r[4],Y=this._r[5],ie=this._r[6],ue=this._r[7],de=this._r[8],b=this._r[9];p>=16;){var P=l[_+0]|l[_+1]<<8;I+=P&8191;var ee=l[_+2]|l[_+3]<<8;D+=(P>>>13|ee<<3)&8191;var X=l[_+4]|l[_+5]<<8;T+=(ee>>>10|X<<6)&8191;var G=l[_+6]|l[_+7]<<8;R+=(X>>>7|G<<9)&8191;var W=l[_+8]|l[_+9]<<8;j+=(G>>>4|W<<12)&8191,K+=W>>>1&8191;var J=l[_+10]|l[_+11]<<8;se+=(W>>>14|J<<2)&8191;var re=l[_+12]|l[_+13]<<8;L+=(J>>>11|re<<5)&8191;var be=l[_+14]|l[_+15]<<8;M+=(re>>>8|be<<8)&8191,x+=be>>>5|m;var oe=0,me=oe;me+=I*C,me+=D*(5*b),me+=T*(5*de),me+=R*(5*ue),me+=j*(5*ie),oe=me>>>13,me&=8191,me+=K*(5*Y),me+=se*(5*V),me+=L*(5*w),me+=M*(5*f),me+=x*(5*E),oe+=me>>>13,me&=8191;var he=oe;he+=I*E,he+=D*C,he+=T*(5*b),he+=R*(5*de),he+=j*(5*ue),oe=he>>>13,he&=8191,he+=K*(5*ie),he+=se*(5*Y),he+=L*(5*V),he+=M*(5*w),he+=x*(5*f),oe+=he>>>13,he&=8191;var ve=oe;ve+=I*f,ve+=D*E,ve+=T*C,ve+=R*(5*b),ve+=j*(5*de),oe=ve>>>13,ve&=8191,ve+=K*(5*ue),ve+=se*(5*ie),ve+=L*(5*Y),ve+=M*(5*V),ve+=x*(5*w),oe+=ve>>>13,ve&=8191;var H=oe;H+=I*w,H+=D*f,H+=T*E,H+=R*C,H+=j*(5*b),oe=H>>>13,H&=8191,H+=K*(5*de),H+=se*(5*ue),H+=L*(5*ie),H+=M*(5*Y),H+=x*(5*V),oe+=H>>>13,H&=8191;var B=oe;B+=I*V,B+=D*w,B+=T*f,B+=R*E,B+=j*C,oe=B>>>13,B&=8191,B+=K*(5*b),B+=se*(5*de),B+=L*(5*ue),B+=M*(5*ie),B+=x*(5*Y),oe+=B>>>13,B&=8191;var F=oe;F+=I*Y,F+=D*V,F+=T*w,F+=R*f,F+=j*E,oe=F>>>13,F&=8191,F+=K*C,F+=se*(5*b),F+=L*(5*de),F+=M*(5*ue),F+=x*(5*ie),oe+=F>>>13,F&=8191;var d=oe;d+=I*ie,d+=D*Y,d+=T*V,d+=R*w,d+=j*f,oe=d>>>13,d&=8191,d+=K*E,d+=se*C,d+=L*(5*b),d+=M*(5*de),d+=x*(5*ue),oe+=d>>>13,d&=8191;var A=oe;A+=I*ue,A+=D*ie,A+=T*Y,A+=R*V,A+=j*w,oe=A>>>13,A&=8191,A+=K*f,A+=se*E,A+=L*C,A+=M*(5*b),A+=x*(5*de),oe+=A>>>13,A&=8191;var ae=oe;ae+=I*de,ae+=D*ue,ae+=T*ie,ae+=R*Y,ae+=j*V,oe=ae>>>13,ae&=8191,ae+=K*w,ae+=se*f,ae+=L*E,ae+=M*C,ae+=x*(5*b),oe+=ae>>>13,ae&=8191;var le=oe;le+=I*b,le+=D*de,le+=T*ue,le+=R*ie,le+=j*Y,oe=le>>>13,le&=8191,le+=K*V,le+=se*w,le+=L*f,le+=M*E,le+=x*C,oe+=le>>>13,le&=8191,oe=(oe<<2)+oe|0,oe=oe+me|0,me=oe&8191,oe=oe>>>13,he+=oe,I=me,D=he,T=ve,R=H,j=B,K=F,se=d,L=A,M=ae,x=le,_+=16,p-=16}this._h[0]=I,this._h[1]=D,this._h[2]=T,this._h[3]=R,this._h[4]=j,this._h[5]=K,this._h[6]=se,this._h[7]=L,this._h[8]=M,this._h[9]=x},c.prototype.finish=function(l,_){_===void 0&&(_=0);var p=new Uint16Array(10),m,I,D,T;if(this._leftover){for(T=this._leftover,this._buffer[T++]=1;T<16;T++)this._buffer[T]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(m=this._h[1]>>>13,this._h[1]&=8191,T=2;T<10;T++)this._h[T]+=m,m=this._h[T]>>>13,this._h[T]&=8191;for(this._h[0]+=m*5,m=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=m,m=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=m,p[0]=this._h[0]+5,m=p[0]>>>13,p[0]&=8191,T=1;T<10;T++)p[T]=this._h[T]+m,m=p[T]>>>13,p[T]&=8191;for(p[9]-=8192,I=(m^1)-1,T=0;T<10;T++)p[T]&=I;for(I=~I,T=0;T<10;T++)this._h[T]=this._h[T]&I|p[T];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,D=this._h[0]+this._pad[0],this._h[0]=D&65535,T=1;T<8;T++)D=(this._h[T]+this._pad[T]|0)+(D>>>16)|0,this._h[T]=D&65535;return l[_+0]=this._h[0]>>>0,l[_+1]=this._h[0]>>>8,l[_+2]=this._h[1]>>>0,l[_+3]=this._h[1]>>>8,l[_+4]=this._h[2]>>>0,l[_+5]=this._h[2]>>>8,l[_+6]=this._h[3]>>>0,l[_+7]=this._h[3]>>>8,l[_+8]=this._h[4]>>>0,l[_+9]=this._h[4]>>>8,l[_+10]=this._h[5]>>>0,l[_+11]=this._h[5]>>>8,l[_+12]=this._h[6]>>>0,l[_+13]=this._h[6]>>>8,l[_+14]=this._h[7]>>>0,l[_+15]=this._h[7]>>>8,this._finished=!0,this},c.prototype.update=function(l){var _=0,p=l.length,m;if(this._leftover){m=16-this._leftover,m>p&&(m=p);for(var I=0;I<m;I++)this._buffer[this._leftover+I]=l[_+I];if(p-=m,_+=m,this._leftover+=m,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(p>=16&&(m=p-p%16,this._blocks(l,_,m),_+=m,p-=m),p){for(var I=0;I<p;I++)this._buffer[this._leftover+I]=l[_+I];this._leftover+=p}return this},c.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var l=new Uint8Array(16);return this.finish(l),l},c.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},c}();n.Poly1305=s;function o(c,l){var _=new s(c);_.update(l);var p=_.digest();return _.clean(),p}n.oneTimeAuth=o;function u(c,l){return c.length!==n.DIGEST_LENGTH||l.length!==n.DIGEST_LENGTH?!1:e.equal(c,l)}n.equal=u}(Ah),function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Js,t=Ah,s=Sr,o=Ne,u=Dn;n.KEY_LENGTH=32,n.NONCE_LENGTH=12,n.TAG_LENGTH=16;var c=new Uint8Array(16),l=function(){function _(p){if(this.nonceLength=n.NONCE_LENGTH,this.tagLength=n.TAG_LENGTH,p.length!==n.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(p)}return _.prototype.seal=function(p,m,I,D){if(p.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var T=new Uint8Array(16);T.set(p,T.length-p.length);var R=new Uint8Array(32);e.stream(this._key,T,R,4);var j=m.length+this.tagLength,K;if(D){if(D.length!==j)throw new Error("ChaCha20Poly1305: incorrect destination length");K=D}else K=new Uint8Array(j);return e.streamXOR(this._key,T,m,K,4),this._authenticate(K.subarray(K.length-this.tagLength,K.length),R,K.subarray(0,K.length-this.tagLength),I),s.wipe(T),K},_.prototype.open=function(p,m,I,D){if(p.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(m.length<this.tagLength)return null;var T=new Uint8Array(16);T.set(p,T.length-p.length);var R=new Uint8Array(32);e.stream(this._key,T,R,4);var j=new Uint8Array(this.tagLength);if(this._authenticate(j,R,m.subarray(0,m.length-this.tagLength),I),!u.equal(j,m.subarray(m.length-this.tagLength,m.length)))return null;var K=m.length-this.tagLength,se;if(D){if(D.length!==K)throw new Error("ChaCha20Poly1305: incorrect destination length");se=D}else se=new Uint8Array(K);return e.streamXOR(this._key,T,m.subarray(0,m.length-this.tagLength),se,4),s.wipe(T),se},_.prototype.clean=function(){return s.wipe(this._key),this},_.prototype._authenticate=function(p,m,I,D){var T=new t.Poly1305(m);D&&(T.update(D),D.length%16>0&&T.update(c.subarray(D.length%16))),T.update(I),I.length%16>0&&T.update(c.subarray(I.length%16));var R=new Uint8Array(8);D&&o.writeUint64LE(D.length,R),T.update(R),o.writeUint64LE(I.length,R),T.update(R);for(var j=T.digest(),K=0;K<j.length;K++)p[K]=j[K];T.clean(),s.wipe(j),s.wipe(R)},_}();n.ChaCha20Poly1305=l}(Ya);var Th={},ns={},Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});function c1(n){return typeof n.saveState<"u"&&typeof n.restoreState<"u"&&typeof n.cleanSavedState<"u"}Xa.isSerializableHash=c1,Object.defineProperty(ns,"__esModule",{value:!0});var Jr=Xa,f1=Dn,h1=Sr,Rh=function(){function n(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var s=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(s).clean():s.set(t);for(var o=0;o<s.length;o++)s[o]^=54;this._inner.update(s);for(var o=0;o<s.length;o++)s[o]^=106;this._outer.update(s),Jr.isSerializableHash(this._inner)&&Jr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),h1.wipe(s)}return n.prototype.reset=function(){if(!Jr.isSerializableHash(this._inner)||!Jr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},n.prototype.clean=function(){Jr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Jr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},n.prototype.update=function(e){return this._inner.update(e),this},n.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},n.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},n.prototype.saveState=function(){if(!Jr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},n.prototype.restoreState=function(e){if(!Jr.isSerializableHash(this._inner)||!Jr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},n.prototype.cleanSavedState=function(e){if(!Jr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},n}();ns.HMAC=Rh;function l1(n,e,t){var s=new Rh(n,e);s.update(t);var o=s.digest();return s.clean(),o}ns.hmac=l1,ns.equal=f1.equal,Object.defineProperty(Th,"__esModule",{value:!0});var Nh=ns,Lh=Sr,d1=function(){function n(e,t,s,o){s===void 0&&(s=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=o;var u=Nh.hmac(this._hash,s,t);this._hmac=new Nh.HMAC(e,u),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return n.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},n.prototype.expand=function(e){for(var t=new Uint8Array(e),s=0;s<t.length;s++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[s]=this._buffer[this._bufpos++];return t},n.prototype.clean=function(){this._hmac.clean(),Lh.wipe(this._buffer),Lh.wipe(this._counter),this._bufpos=0},n}(),p1=Th.HKDF=d1,Xs={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Ne,t=Sr;n.DIGEST_LENGTH=32,n.BLOCK_SIZE=64;var s=function(){function l(){this.digestLength=n.DIGEST_LENGTH,this.blockSize=n.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return l.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},l.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},l.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},l.prototype.update=function(_,p){if(p===void 0&&(p=_.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var m=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&p>0;)this._buffer[this._bufferLength++]=_[m++],p--;this._bufferLength===this.blockSize&&(u(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(m=u(this._temp,this._state,_,m,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=_[m++],p--;return this},l.prototype.finish=function(_){if(!this._finished){var p=this._bytesHashed,m=this._bufferLength,I=p/536870912|0,D=p<<3,T=p%64<56?64:128;this._buffer[m]=128;for(var R=m+1;R<T-8;R++)this._buffer[R]=0;e.writeUint32BE(I,this._buffer,T-8),e.writeUint32BE(D,this._buffer,T-4),u(this._temp,this._state,this._buffer,0,T),this._finished=!0}for(var R=0;R<this.digestLength/4;R++)e.writeUint32BE(this._state[R],_,R*4);return this},l.prototype.digest=function(){var _=new Uint8Array(this.digestLength);return this.finish(_),_},l.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},l.prototype.restoreState=function(_){return this._state.set(_.state),this._bufferLength=_.bufferLength,_.buffer&&this._buffer.set(_.buffer),this._bytesHashed=_.bytesHashed,this._finished=!1,this},l.prototype.cleanSavedState=function(_){t.wipe(_.state),_.buffer&&t.wipe(_.buffer),_.bufferLength=0,_.bytesHashed=0},l}();n.SHA256=s;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function u(l,_,p,m,I){for(;I>=64;){for(var D=_[0],T=_[1],R=_[2],j=_[3],K=_[4],se=_[5],L=_[6],M=_[7],x=0;x<16;x++){var C=m+x*4;l[x]=e.readUint32BE(p,C)}for(var x=16;x<64;x++){var E=l[x-2],f=(E>>>17|E<<32-17)^(E>>>19|E<<32-19)^E>>>10;E=l[x-15];var w=(E>>>7|E<<32-7)^(E>>>18|E<<32-18)^E>>>3;l[x]=(f+l[x-7]|0)+(w+l[x-16]|0)}for(var x=0;x<64;x++){var f=(((K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))+(K&se^~K&L)|0)+(M+(o[x]+l[x]|0)|0)|0,w=((D>>>2|D<<32-2)^(D>>>13|D<<32-13)^(D>>>22|D<<32-22))+(D&T^D&R^T&R)|0;M=L,L=se,se=K,K=j+f|0,j=R,R=T,T=D,D=f+w|0}_[0]+=D,_[1]+=T,_[2]+=R,_[3]+=j,_[4]+=K,_[5]+=se,_[6]+=L,_[7]+=M,m+=64,I-=64}return m}function c(l){var _=new s;_.update(l);var p=_.digest();return _.clean(),p}n.hash=c})(Xs);var Qa={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.sharedKey=n.generateKeyPair=n.generateKeyPairFromSeed=n.scalarMultBase=n.scalarMult=n.SHARED_KEY_LENGTH=n.SECRET_KEY_LENGTH=n.PUBLIC_KEY_LENGTH=void 0;const e=_i,t=Sr;n.PUBLIC_KEY_LENGTH=32,n.SECRET_KEY_LENGTH=32,n.SHARED_KEY_LENGTH=32;function s(x){const C=new Float64Array(16);if(x)for(let E=0;E<x.length;E++)C[E]=x[E];return C}const o=new Uint8Array(32);o[0]=9;const u=s([56129,1]);function c(x){let C=1;for(let E=0;E<16;E++){let f=x[E]+C+65535;C=Math.floor(f/65536),x[E]=f-C*65536}x[0]+=C-1+37*(C-1)}function l(x,C,E){const f=~(E-1);for(let w=0;w<16;w++){const V=f&(x[w]^C[w]);x[w]^=V,C[w]^=V}}function _(x,C){const E=s(),f=s();for(let w=0;w<16;w++)f[w]=C[w];c(f),c(f),c(f);for(let w=0;w<2;w++){E[0]=f[0]-65517;for(let Y=1;Y<15;Y++)E[Y]=f[Y]-65535-(E[Y-1]>>16&1),E[Y-1]&=65535;E[15]=f[15]-32767-(E[14]>>16&1);const V=E[15]>>16&1;E[14]&=65535,l(f,E,1-V)}for(let w=0;w<16;w++)x[2*w]=f[w]&255,x[2*w+1]=f[w]>>8}function p(x,C){for(let E=0;E<16;E++)x[E]=C[2*E]+(C[2*E+1]<<8);x[15]&=32767}function m(x,C,E){for(let f=0;f<16;f++)x[f]=C[f]+E[f]}function I(x,C,E){for(let f=0;f<16;f++)x[f]=C[f]-E[f]}function D(x,C,E){let f,w,V=0,Y=0,ie=0,ue=0,de=0,b=0,P=0,ee=0,X=0,G=0,W=0,J=0,re=0,be=0,oe=0,me=0,he=0,ve=0,H=0,B=0,F=0,d=0,A=0,ae=0,le=0,xe=0,je=0,Ge=0,Ue=0,_t=0,yt=0,qe=E[0],Oe=E[1],Le=E[2],Fe=E[3],Be=E[4],Pe=E[5],$e=E[6],De=E[7],Ae=E[8],ze=E[9],Ie=E[10],We=E[11],ke=E[12],et=E[13],tt=E[14],Xe=E[15];f=C[0],V+=f*qe,Y+=f*Oe,ie+=f*Le,ue+=f*Fe,de+=f*Be,b+=f*Pe,P+=f*$e,ee+=f*De,X+=f*Ae,G+=f*ze,W+=f*Ie,J+=f*We,re+=f*ke,be+=f*et,oe+=f*tt,me+=f*Xe,f=C[1],Y+=f*qe,ie+=f*Oe,ue+=f*Le,de+=f*Fe,b+=f*Be,P+=f*Pe,ee+=f*$e,X+=f*De,G+=f*Ae,W+=f*ze,J+=f*Ie,re+=f*We,be+=f*ke,oe+=f*et,me+=f*tt,he+=f*Xe,f=C[2],ie+=f*qe,ue+=f*Oe,de+=f*Le,b+=f*Fe,P+=f*Be,ee+=f*Pe,X+=f*$e,G+=f*De,W+=f*Ae,J+=f*ze,re+=f*Ie,be+=f*We,oe+=f*ke,me+=f*et,he+=f*tt,ve+=f*Xe,f=C[3],ue+=f*qe,de+=f*Oe,b+=f*Le,P+=f*Fe,ee+=f*Be,X+=f*Pe,G+=f*$e,W+=f*De,J+=f*Ae,re+=f*ze,be+=f*Ie,oe+=f*We,me+=f*ke,he+=f*et,ve+=f*tt,H+=f*Xe,f=C[4],de+=f*qe,b+=f*Oe,P+=f*Le,ee+=f*Fe,X+=f*Be,G+=f*Pe,W+=f*$e,J+=f*De,re+=f*Ae,be+=f*ze,oe+=f*Ie,me+=f*We,he+=f*ke,ve+=f*et,H+=f*tt,B+=f*Xe,f=C[5],b+=f*qe,P+=f*Oe,ee+=f*Le,X+=f*Fe,G+=f*Be,W+=f*Pe,J+=f*$e,re+=f*De,be+=f*Ae,oe+=f*ze,me+=f*Ie,he+=f*We,ve+=f*ke,H+=f*et,B+=f*tt,F+=f*Xe,f=C[6],P+=f*qe,ee+=f*Oe,X+=f*Le,G+=f*Fe,W+=f*Be,J+=f*Pe,re+=f*$e,be+=f*De,oe+=f*Ae,me+=f*ze,he+=f*Ie,ve+=f*We,H+=f*ke,B+=f*et,F+=f*tt,d+=f*Xe,f=C[7],ee+=f*qe,X+=f*Oe,G+=f*Le,W+=f*Fe,J+=f*Be,re+=f*Pe,be+=f*$e,oe+=f*De,me+=f*Ae,he+=f*ze,ve+=f*Ie,H+=f*We,B+=f*ke,F+=f*et,d+=f*tt,A+=f*Xe,f=C[8],X+=f*qe,G+=f*Oe,W+=f*Le,J+=f*Fe,re+=f*Be,be+=f*Pe,oe+=f*$e,me+=f*De,he+=f*Ae,ve+=f*ze,H+=f*Ie,B+=f*We,F+=f*ke,d+=f*et,A+=f*tt,ae+=f*Xe,f=C[9],G+=f*qe,W+=f*Oe,J+=f*Le,re+=f*Fe,be+=f*Be,oe+=f*Pe,me+=f*$e,he+=f*De,ve+=f*Ae,H+=f*ze,B+=f*Ie,F+=f*We,d+=f*ke,A+=f*et,ae+=f*tt,le+=f*Xe,f=C[10],W+=f*qe,J+=f*Oe,re+=f*Le,be+=f*Fe,oe+=f*Be,me+=f*Pe,he+=f*$e,ve+=f*De,H+=f*Ae,B+=f*ze,F+=f*Ie,d+=f*We,A+=f*ke,ae+=f*et,le+=f*tt,xe+=f*Xe,f=C[11],J+=f*qe,re+=f*Oe,be+=f*Le,oe+=f*Fe,me+=f*Be,he+=f*Pe,ve+=f*$e,H+=f*De,B+=f*Ae,F+=f*ze,d+=f*Ie,A+=f*We,ae+=f*ke,le+=f*et,xe+=f*tt,je+=f*Xe,f=C[12],re+=f*qe,be+=f*Oe,oe+=f*Le,me+=f*Fe,he+=f*Be,ve+=f*Pe,H+=f*$e,B+=f*De,F+=f*Ae,d+=f*ze,A+=f*Ie,ae+=f*We,le+=f*ke,xe+=f*et,je+=f*tt,Ge+=f*Xe,f=C[13],be+=f*qe,oe+=f*Oe,me+=f*Le,he+=f*Fe,ve+=f*Be,H+=f*Pe,B+=f*$e,F+=f*De,d+=f*Ae,A+=f*ze,ae+=f*Ie,le+=f*We,xe+=f*ke,je+=f*et,Ge+=f*tt,Ue+=f*Xe,f=C[14],oe+=f*qe,me+=f*Oe,he+=f*Le,ve+=f*Fe,H+=f*Be,B+=f*Pe,F+=f*$e,d+=f*De,A+=f*Ae,ae+=f*ze,le+=f*Ie,xe+=f*We,je+=f*ke,Ge+=f*et,Ue+=f*tt,_t+=f*Xe,f=C[15],me+=f*qe,he+=f*Oe,ve+=f*Le,H+=f*Fe,B+=f*Be,F+=f*Pe,d+=f*$e,A+=f*De,ae+=f*Ae,le+=f*ze,xe+=f*Ie,je+=f*We,Ge+=f*ke,Ue+=f*et,_t+=f*tt,yt+=f*Xe,V+=38*he,Y+=38*ve,ie+=38*H,ue+=38*B,de+=38*F,b+=38*d,P+=38*A,ee+=38*ae,X+=38*le,G+=38*xe,W+=38*je,J+=38*Ge,re+=38*Ue,be+=38*_t,oe+=38*yt,w=1,f=V+w+65535,w=Math.floor(f/65536),V=f-w*65536,f=Y+w+65535,w=Math.floor(f/65536),Y=f-w*65536,f=ie+w+65535,w=Math.floor(f/65536),ie=f-w*65536,f=ue+w+65535,w=Math.floor(f/65536),ue=f-w*65536,f=de+w+65535,w=Math.floor(f/65536),de=f-w*65536,f=b+w+65535,w=Math.floor(f/65536),b=f-w*65536,f=P+w+65535,w=Math.floor(f/65536),P=f-w*65536,f=ee+w+65535,w=Math.floor(f/65536),ee=f-w*65536,f=X+w+65535,w=Math.floor(f/65536),X=f-w*65536,f=G+w+65535,w=Math.floor(f/65536),G=f-w*65536,f=W+w+65535,w=Math.floor(f/65536),W=f-w*65536,f=J+w+65535,w=Math.floor(f/65536),J=f-w*65536,f=re+w+65535,w=Math.floor(f/65536),re=f-w*65536,f=be+w+65535,w=Math.floor(f/65536),be=f-w*65536,f=oe+w+65535,w=Math.floor(f/65536),oe=f-w*65536,f=me+w+65535,w=Math.floor(f/65536),me=f-w*65536,V+=w-1+37*(w-1),w=1,f=V+w+65535,w=Math.floor(f/65536),V=f-w*65536,f=Y+w+65535,w=Math.floor(f/65536),Y=f-w*65536,f=ie+w+65535,w=Math.floor(f/65536),ie=f-w*65536,f=ue+w+65535,w=Math.floor(f/65536),ue=f-w*65536,f=de+w+65535,w=Math.floor(f/65536),de=f-w*65536,f=b+w+65535,w=Math.floor(f/65536),b=f-w*65536,f=P+w+65535,w=Math.floor(f/65536),P=f-w*65536,f=ee+w+65535,w=Math.floor(f/65536),ee=f-w*65536,f=X+w+65535,w=Math.floor(f/65536),X=f-w*65536,f=G+w+65535,w=Math.floor(f/65536),G=f-w*65536,f=W+w+65535,w=Math.floor(f/65536),W=f-w*65536,f=J+w+65535,w=Math.floor(f/65536),J=f-w*65536,f=re+w+65535,w=Math.floor(f/65536),re=f-w*65536,f=be+w+65535,w=Math.floor(f/65536),be=f-w*65536,f=oe+w+65535,w=Math.floor(f/65536),oe=f-w*65536,f=me+w+65535,w=Math.floor(f/65536),me=f-w*65536,V+=w-1+37*(w-1),x[0]=V,x[1]=Y,x[2]=ie,x[3]=ue,x[4]=de,x[5]=b,x[6]=P,x[7]=ee,x[8]=X,x[9]=G,x[10]=W,x[11]=J,x[12]=re,x[13]=be,x[14]=oe,x[15]=me}function T(x,C){D(x,C,C)}function R(x,C){const E=s();for(let f=0;f<16;f++)E[f]=C[f];for(let f=253;f>=0;f--)T(E,E),f!==2&&f!==4&&D(E,E,C);for(let f=0;f<16;f++)x[f]=E[f]}function j(x,C){const E=new Uint8Array(32),f=new Float64Array(80),w=s(),V=s(),Y=s(),ie=s(),ue=s(),de=s();for(let X=0;X<31;X++)E[X]=x[X];E[31]=x[31]&127|64,E[0]&=248,p(f,C);for(let X=0;X<16;X++)V[X]=f[X];w[0]=ie[0]=1;for(let X=254;X>=0;--X){const G=E[X>>>3]>>>(X&7)&1;l(w,V,G),l(Y,ie,G),m(ue,w,Y),I(w,w,Y),m(Y,V,ie),I(V,V,ie),T(ie,ue),T(de,w),D(w,Y,w),D(Y,V,ue),m(ue,w,Y),I(w,w,Y),T(V,w),I(Y,ie,de),D(w,Y,u),m(w,w,ie),D(Y,Y,w),D(w,ie,de),D(ie,V,f),T(V,ue),l(w,V,G),l(Y,ie,G)}for(let X=0;X<16;X++)f[X+16]=w[X],f[X+32]=Y[X],f[X+48]=V[X],f[X+64]=ie[X];const b=f.subarray(32),P=f.subarray(16);R(b,b),D(P,P,b);const ee=new Uint8Array(32);return _(ee,P),ee}n.scalarMult=j;function K(x){return j(x,o)}n.scalarMultBase=K;function se(x){if(x.length!==n.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${n.SECRET_KEY_LENGTH} bytes`);const C=new Uint8Array(x);return{publicKey:K(C),secretKey:C}}n.generateKeyPairFromSeed=se;function L(x){const C=(0,e.randomBytes)(32,x),E=se(C);return(0,t.wipe)(C),E}n.generateKeyPair=L;function M(x,C,E=!1){if(x.length!==n.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(C.length!==n.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const f=j(x,C);if(E){let w=0;for(let V=0;V<f.length;V++)w|=f[V];if(w===0)throw new Error("X25519: invalid shared key")}return f}n.sharedKey=M})(Qa);var Fh=function(n,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return n.concat(u||Array.prototype.slice.call(e))},g1=function(){function n(e,t,s){this.name=e,this.version=t,this.os=s,this.type="browser"}return n}(),_1=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),y1=function(){function n(e,t,s,o){this.name=e,this.version=t,this.os=s,this.bot=o,this.type="bot-device"}return n}(),v1=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),w1=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),b1=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,m1=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,$h=3,E1=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",b1]],Uh=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function S1(n){return n?Mh(n):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new w1:typeof navigator<"u"?Mh(navigator.userAgent):O1()}function D1(n){return n!==""&&E1.reduce(function(e,t){var s=t[0],o=t[1];if(e)return e;var u=o.exec(n);return!!u&&[s,u]},!1)}function Mh(n){var e=D1(n);if(!e)return null;var t=e[0],s=e[1];if(t==="searchbot")return new v1;var o=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);o?o.length<$h&&(o=Fh(Fh([],o,!0),I1($h-o.length),!0)):o=[];var u=o.join("."),c=x1(n),l=m1.exec(n);return l&&l[1]?new y1(t,u,c,l[1]):new g1(t,u,c)}function x1(n){for(var e=0,t=Uh.length;e<t;e++){var s=Uh[e],o=s[0],u=s[1],c=u.exec(n);if(c)return o}return null}function O1(){var n=typeof process<"u"&&process.version;return n?new _1(process.version.slice(1)):null}function I1(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.getLocalStorage=ht.getLocalStorageOrThrow=ht.getCrypto=ht.getCryptoOrThrow=Bh=ht.getLocation=ht.getLocationOrThrow=Za=ht.getNavigator=ht.getNavigatorOrThrow=qh=ht.getDocument=ht.getDocumentOrThrow=ht.getFromWindowOrThrow=ht.getFromWindow=void 0;function Vn(n){let e;return typeof window<"u"&&typeof window[n]<"u"&&(e=window[n]),e}ht.getFromWindow=Vn;function yi(n){const e=Vn(n);if(!e)throw new Error(`${n} is not defined in Window`);return e}ht.getFromWindowOrThrow=yi;function P1(){return yi("document")}ht.getDocumentOrThrow=P1;function A1(){return Vn("document")}var qh=ht.getDocument=A1;function C1(){return yi("navigator")}ht.getNavigatorOrThrow=C1;function T1(){return Vn("navigator")}var Za=ht.getNavigator=T1;function R1(){return yi("location")}ht.getLocationOrThrow=R1;function N1(){return Vn("location")}var Bh=ht.getLocation=N1;function L1(){return yi("crypto")}ht.getCryptoOrThrow=L1;function F1(){return Vn("crypto")}ht.getCrypto=F1;function $1(){return yi("localStorage")}ht.getLocalStorageOrThrow=$1;function U1(){return Vn("localStorage")}ht.getLocalStorage=U1;var eu={};Object.defineProperty(eu,"__esModule",{value:!0});var Hh=eu.getWindowMetadata=void 0;const jh=ht;function M1(){let n,e;try{n=jh.getDocumentOrThrow(),e=jh.getLocationOrThrow()}catch{return null}function t(){const I=n.getElementsByTagName("link"),D=[];for(let T=0;T<I.length;T++){const R=I[T],j=R.getAttribute("rel");if(j&&j.toLowerCase().indexOf("icon")>-1){const K=R.getAttribute("href");if(K)if(K.toLowerCase().indexOf("https:")===-1&&K.toLowerCase().indexOf("http:")===-1&&K.indexOf("//")!==0){let se=e.protocol+"//"+e.host;if(K.indexOf("/")===0)se+=K;else{const L=e.pathname.split("/");L.pop();const M=L.join("/");se+=M+"/"+K}D.push(se)}else if(K.indexOf("//")===0){const se=e.protocol+K;D.push(se)}else D.push(K)}}return D}function s(...I){const D=n.getElementsByTagName("meta");for(let T=0;T<D.length;T++){const R=D[T],j=["itemprop","property","name"].map(K=>R.getAttribute(K)).filter(K=>K?I.includes(K):!1);if(j.length&&j){const K=R.getAttribute("content");if(K)return K}}return""}function o(){let I=s("name","og:site_name","og:title","twitter:title");return I||(I=n.title),I}function u(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=u(),_=e.origin,p=t();return{description:l,url:_,icons:p,name:c}}Hh=eu.getWindowMetadata=M1;var is={},q1=n=>encodeURIComponent(n).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),zh="%[a-f0-9]{2}",Kh=new RegExp("("+zh+")|([^%]+?)","gi"),Gh=new RegExp("("+zh+")+","gi");function tu(n,e){try{return[decodeURIComponent(n.join(""))]}catch{}if(n.length===1)return n;e=e||1;var t=n.slice(0,e),s=n.slice(e);return Array.prototype.concat.call([],tu(t),tu(s))}function B1(n){try{return decodeURIComponent(n)}catch{for(var e=n.match(Kh)||[],t=1;t<e.length;t++)n=tu(e,t).join(""),e=n.match(Kh)||[];return n}}function H1(n){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=Gh.exec(n);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var s=B1(t[0]);s!==t[0]&&(e[t[0]]=s)}t=Gh.exec(n)}e["%C2"]="\uFFFD";for(var o=Object.keys(e),u=0;u<o.length;u++){var c=o[u];n=n.replace(new RegExp(c,"g"),e[c])}return n}var j1=function(n){if(typeof n!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof n+"`");try{return n=n.replace(/\+/g," "),decodeURIComponent(n)}catch{return H1(n)}},z1=(n,e)=>{if(!(typeof n=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[n];const t=n.indexOf(e);return t===-1?[n]:[n.slice(0,t),n.slice(t+e.length)]},K1=function(n,e){for(var t={},s=Object.keys(n),o=Array.isArray(e),u=0;u<s.length;u++){var c=s[u],l=n[c];(o?e.indexOf(c)!==-1:e(c,l,n))&&(t[c]=l)}return t};(function(n){const e=q1,t=j1,s=z1,o=K1,u=L=>L==null,c=Symbol("encodeFragmentIdentifier");function l(L){switch(L.arrayFormat){case"index":return M=>(x,C)=>{const E=x.length;return C===void 0||L.skipNull&&C===null||L.skipEmptyString&&C===""?x:C===null?[...x,[m(M,L),"[",E,"]"].join("")]:[...x,[m(M,L),"[",m(E,L),"]=",m(C,L)].join("")]};case"bracket":return M=>(x,C)=>C===void 0||L.skipNull&&C===null||L.skipEmptyString&&C===""?x:C===null?[...x,[m(M,L),"[]"].join("")]:[...x,[m(M,L),"[]=",m(C,L)].join("")];case"colon-list-separator":return M=>(x,C)=>C===void 0||L.skipNull&&C===null||L.skipEmptyString&&C===""?x:C===null?[...x,[m(M,L),":list="].join("")]:[...x,[m(M,L),":list=",m(C,L)].join("")];case"comma":case"separator":case"bracket-separator":{const M=L.arrayFormat==="bracket-separator"?"[]=":"=";return x=>(C,E)=>E===void 0||L.skipNull&&E===null||L.skipEmptyString&&E===""?C:(E=E===null?"":E,C.length===0?[[m(x,L),M,m(E,L)].join("")]:[[C,m(E,L)].join(L.arrayFormatSeparator)])}default:return M=>(x,C)=>C===void 0||L.skipNull&&C===null||L.skipEmptyString&&C===""?x:C===null?[...x,m(M,L)]:[...x,[m(M,L),"=",m(C,L)].join("")]}}function _(L){let M;switch(L.arrayFormat){case"index":return(x,C,E)=>{if(M=/\[(\d*)\]$/.exec(x),x=x.replace(/\[\d*\]$/,""),!M){E[x]=C;return}E[x]===void 0&&(E[x]={}),E[x][M[1]]=C};case"bracket":return(x,C,E)=>{if(M=/(\[\])$/.exec(x),x=x.replace(/\[\]$/,""),!M){E[x]=C;return}if(E[x]===void 0){E[x]=[C];return}E[x]=[].concat(E[x],C)};case"colon-list-separator":return(x,C,E)=>{if(M=/(:list)$/.exec(x),x=x.replace(/:list$/,""),!M){E[x]=C;return}if(E[x]===void 0){E[x]=[C];return}E[x]=[].concat(E[x],C)};case"comma":case"separator":return(x,C,E)=>{const f=typeof C=="string"&&C.includes(L.arrayFormatSeparator),w=typeof C=="string"&&!f&&I(C,L).includes(L.arrayFormatSeparator);C=w?I(C,L):C;const V=f||w?C.split(L.arrayFormatSeparator).map(Y=>I(Y,L)):C===null?C:I(C,L);E[x]=V};case"bracket-separator":return(x,C,E)=>{const f=/(\[\])$/.test(x);if(x=x.replace(/\[\]$/,""),!f){E[x]=C&&I(C,L);return}const w=C===null?[]:C.split(L.arrayFormatSeparator).map(V=>I(V,L));if(E[x]===void 0){E[x]=w;return}E[x]=[].concat(E[x],w)};default:return(x,C,E)=>{if(E[x]===void 0){E[x]=C;return}E[x]=[].concat(E[x],C)}}}function p(L){if(typeof L!="string"||L.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function m(L,M){return M.encode?M.strict?e(L):encodeURIComponent(L):L}function I(L,M){return M.decode?t(L):L}function D(L){return Array.isArray(L)?L.sort():typeof L=="object"?D(Object.keys(L)).sort((M,x)=>Number(M)-Number(x)).map(M=>L[M]):L}function T(L){const M=L.indexOf("#");return M!==-1&&(L=L.slice(0,M)),L}function R(L){let M="";const x=L.indexOf("#");return x!==-1&&(M=L.slice(x)),M}function j(L){L=T(L);const M=L.indexOf("?");return M===-1?"":L.slice(M+1)}function K(L,M){return M.parseNumbers&&!Number.isNaN(Number(L))&&typeof L=="string"&&L.trim()!==""?L=Number(L):M.parseBooleans&&L!==null&&(L.toLowerCase()==="true"||L.toLowerCase()==="false")&&(L=L.toLowerCase()==="true"),L}function se(L,M){M=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},M),p(M.arrayFormatSeparator);const x=_(M),C=Object.create(null);if(typeof L!="string"||(L=L.trim().replace(/^[?#&]/,""),!L))return C;for(const E of L.split("&")){if(E==="")continue;let[f,w]=s(M.decode?E.replace(/\+/g," "):E,"=");w=w===void 0?null:["comma","separator","bracket-separator"].includes(M.arrayFormat)?w:I(w,M),x(I(f,M),w,C)}for(const E of Object.keys(C)){const f=C[E];if(typeof f=="object"&&f!==null)for(const w of Object.keys(f))f[w]=K(f[w],M);else C[E]=K(f,M)}return M.sort===!1?C:(M.sort===!0?Object.keys(C).sort():Object.keys(C).sort(M.sort)).reduce((E,f)=>{const w=C[f];return w&&typeof w=="object"&&!Array.isArray(w)?E[f]=D(w):E[f]=w,E},Object.create(null))}n.extract=j,n.parse=se,n.stringify=(L,M)=>{if(!L)return"";M=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},M),p(M.arrayFormatSeparator);const x=w=>M.skipNull&&u(L[w])||M.skipEmptyString&&L[w]==="",C=l(M),E={};for(const w of Object.keys(L))x(w)||(E[w]=L[w]);const f=Object.keys(E);return M.sort!==!1&&f.sort(M.sort),f.map(w=>{const V=L[w];return V===void 0?"":V===null?m(w,M):Array.isArray(V)?V.length===0&&M.arrayFormat==="bracket-separator"?m(w,M)+"[]":V.reduce(C(w),[]).join("&"):m(w,M)+"="+m(V,M)}).filter(w=>w.length>0).join("&")},n.parseUrl=(L,M)=>{M=Object.assign({decode:!0},M);const[x,C]=s(L,"#");return Object.assign({url:x.split("?")[0]||"",query:se(j(L),M)},M&&M.parseFragmentIdentifier&&C?{fragmentIdentifier:I(C,M)}:{})},n.stringifyUrl=(L,M)=>{M=Object.assign({encode:!0,strict:!0,[c]:!0},M);const x=T(L.url).split("?")[0]||"",C=n.extract(L.url),E=n.parse(C,{sort:!1}),f=Object.assign(E,L.query);let w=n.stringify(f,M);w&&(w=`?${w}`);let V=R(L.url);return L.fragmentIdentifier&&(V=`#${M[c]?m(L.fragmentIdentifier,M):L.fragmentIdentifier}`),`${x}${w}${V}`},n.pick=(L,M,x)=>{x=Object.assign({parseFragmentIdentifier:!0,[c]:!1},x);const{url:C,query:E,fragmentIdentifier:f}=n.parseUrl(L,x);return n.stringifyUrl({url:C,query:o(E,M),fragmentIdentifier:f},x)},n.exclude=(L,M,x)=>{const C=Array.isArray(M)?E=>!M.includes(E):(E,f)=>!M(E,f);return n.pick(L,C,x)}})(is);const G1={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},W1=":";function V1(n){const[e,t]=n.split(W1);return{namespace:e,reference:t}}function Wh(n,e){return n.includes(":")?[n]:e.chains||[]}const Vh="base10",sr="base16",ru="base64pad",nu="utf8",kh=0,kn=1,k1=0,Yh=1,iu=12,su=32;function Y1(){const n=Qa.generateKeyPair();return{privateKey:ir(n.secretKey,sr),publicKey:ir(n.publicKey,sr)}}function ou(){const n=_i.randomBytes(su);return ir(n,sr)}function J1(n,e){const t=Qa.sharedKey(pr(n,sr),pr(e,sr),!0),s=new p1(Xs.SHA256,t).expand(su);return ir(s,sr)}function X1(n){const e=Xs.hash(pr(n,sr));return ir(e,sr)}function vi(n){const e=Xs.hash(pr(n,nu));return ir(e,sr)}function Q1(n){return pr(`${n}`,Vh)}function ss(n){return Number(ir(n,Vh))}function Z1(n){const e=Q1(typeof n.type<"u"?n.type:kh);if(ss(e)===kn&&typeof n.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof n.senderPublicKey<"u"?pr(n.senderPublicKey,sr):void 0,s=typeof n.iv<"u"?pr(n.iv,sr):_i.randomBytes(iu),o=new Ya.ChaCha20Poly1305(pr(n.symKey,sr)).seal(s,pr(n.message,nu));return tw({type:e,sealed:o,iv:s,senderPublicKey:t})}function ew(n){const e=new Ya.ChaCha20Poly1305(pr(n.symKey,sr)),{sealed:t,iv:s}=Qs(n.encoded),o=e.open(s,t);if(o===null)throw new Error("Failed to decrypt");return ir(o,nu)}function tw(n){if(ss(n.type)===kn){if(typeof n.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ir(Ga([n.type,n.senderPublicKey,n.iv,n.sealed]),ru)}return ir(Ga([n.type,n.iv,n.sealed]),ru)}function Qs(n){const e=pr(n,ru),t=e.slice(k1,Yh),s=Yh;if(ss(t)===kn){const l=s+su,_=l+iu,p=e.slice(s,l),m=e.slice(l,_),I=e.slice(_);return{type:t,sealed:I,iv:m,senderPublicKey:p}}const o=s+iu,u=e.slice(s,o),c=e.slice(o);return{type:t,sealed:c,iv:u}}function rw(n,e){const t=Qs(n);return Jh({type:ss(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?ir(t.senderPublicKey,sr):void 0,receiverPublicKey:e?.receiverPublicKey})}function Jh(n){const e=n?.type||kh;if(e===kn){if(typeof n?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof n?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:n?.senderPublicKey,receiverPublicKey:n?.receiverPublicKey}}function Xh(n){return n.type===kn&&typeof n.senderPublicKey=="string"&&typeof n.receiverPublicKey=="string"}var nw=Object.defineProperty,Qh=Object.getOwnPropertySymbols,iw=Object.prototype.hasOwnProperty,sw=Object.prototype.propertyIsEnumerable,Zh=(n,e,t)=>e in n?nw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,el=(n,e)=>{for(var t in e||(e={}))iw.call(e,t)&&Zh(n,t,e[t]);if(Qh)for(var t of Qh(e))sw.call(e,t)&&Zh(n,t,e[t]);return n};const ow="ReactNative",Dr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},aw="js";function au(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function os(){return!qh()&&!!Za()&&navigator.product===ow}function as(){return!au()&&!!Za()}function us(){return os()?Dr.reactNative:au()?Dr.node:as()?Dr.browser:Dr.unknown}function uw(n,e){let t=is.parse(n);return t=el(el({},t),e),n=is.stringify(t),n}function cw(){return Hh()||{name:"",description:"",url:"",icons:[""]}}function fw(){if(us()===Dr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:s}=global.Platform;return[t,s].join("-")}const n=S1();if(n===null)return"unknown";const e=n.os?n.os.replace(" ","").toLowerCase():"unknown";return n.type==="browser"?[e,n.name,n.version].join("-"):[e,n.version].join("-")}function hw(){var n;const e=us();return e===Dr.browser?[e,((n=Bh())==null?void 0:n.host)||"unknown"].join(":"):e}function lw(n,e,t){const s=fw(),o=hw();return[[n,e].join("-"),[aw,t].join("-"),s,o].join("/")}function dw({protocol:n,version:e,relayUrl:t,sdkVersion:s,auth:o,projectId:u,useOnCloseEvent:c}){const l=t.split("?"),_=lw(n,e,s),p={auth:o,ua:_,projectId:u,useOnCloseEvent:c||void 0},m=uw(l[1]||"",p);return l[0]+"?"+m}function Yn(n,e){return n.filter(t=>e.includes(t)).length===n.length}function tl(n){return Object.fromEntries(n.entries())}function rl(n){return new Map(Object.entries(n))}function wi(n=ye.FIVE_MINUTES,e){const t=ye.toMiliseconds(n||ye.FIVE_MINUTES);let s,o,u;return{resolve:c=>{u&&s&&(clearTimeout(u),s(c))},reject:c=>{u&&o&&(clearTimeout(u),o(c))},done:()=>new Promise((c,l)=>{u=setTimeout(()=>{l(new Error(e))},t),s=c,o=l})}}function cs(n,e,t){return new Promise(async(s,o)=>{const u=setTimeout(()=>o(new Error(t)),e);try{const c=await n;s(c)}catch(c){o(c)}clearTimeout(u)})}function nl(n,e){if(typeof e=="string"&&e.startsWith(`${n}:`))return e;if(n.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(n.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${n}`)}function pw(n){return nl("topic",n)}function gw(n){return nl("id",n)}function il(n){const[e,t]=n.split(":"),s={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")s.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))s.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return s}function Hr(n,e){return ye.fromMiliseconds((e||Date.now())+ye.toMiliseconds(n))}function xn(n){return Date.now()>=ye.toMiliseconds(n)}function Ft(n,e){return`${n}${e?`:${e}`:""}`}function uu(n=[],e=[]){return[...new Set([...n,...e])]}async function _w({id:n,topic:e,wcDeepLink:t}){try{if(!t)return;const s=typeof t=="string"?JSON.parse(t):t;let o=s?.href;if(typeof o!="string")return;o.endsWith("/")&&(o=o.slice(0,-1));const u=`${o}/wc?requestId=${n}&sessionTopic=${e}`,c=us();c===Dr.browser?u.startsWith("https://")?window.open(u,"_blank","noreferrer noopener"):window.open(u,"_self","noreferrer noopener"):c===Dr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(u)}catch(s){console.error(s)}}const yw="irn";function cu(n){return n?.relay||{protocol:yw}}function Zs(n){const e=G1[n];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${n}`);return e}var vw=Object.defineProperty,sl=Object.getOwnPropertySymbols,ww=Object.prototype.hasOwnProperty,bw=Object.prototype.propertyIsEnumerable,ol=(n,e,t)=>e in n?vw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mw=(n,e)=>{for(var t in e||(e={}))ww.call(e,t)&&ol(n,t,e[t]);if(sl)for(var t of sl(e))bw.call(e,t)&&ol(n,t,e[t]);return n};function Ew(n,e="-"){const t={},s="relay"+e;return Object.keys(n).forEach(o=>{if(o.startsWith(s)){const u=o.replace(s,""),c=n[o];t[u]=c}}),t}function Sw(n){const e=n.indexOf(":"),t=n.indexOf("?")!==-1?n.indexOf("?"):void 0,s=n.substring(0,e),o=n.substring(e+1,t).split("@"),u=typeof t<"u"?n.substring(t):"",c=is.parse(u);return{protocol:s,topic:Dw(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:Ew(c)}}function Dw(n){return n.startsWith("//")?n.substring(2):n}function xw(n,e="-"){const t="relay",s={};return Object.keys(n).forEach(o=>{const u=t+e+o;n[o]&&(s[u]=n[o])}),s}function Ow(n){return`${n.protocol}:${n.topic}@${n.version}?`+is.stringify(mw({symKey:n.symKey},xw(n.relay)))}function bi(n){const e=[];return n.forEach(t=>{const[s,o]=t.split(":");e.push(`${s}:${o}`)}),e}function Iw(n){const e=[];return Object.values(n).forEach(t=>{e.push(...bi(t.accounts))}),e}function Pw(n,e){const t=[];return Object.values(n).forEach(s=>{bi(s.accounts).includes(e)&&t.push(...s.methods)}),t}function Aw(n,e){const t=[];return Object.values(n).forEach(s=>{bi(s.accounts).includes(e)&&t.push(...s.events)}),t}function Cw(n,e){const t=to(n,e);if(t)throw new Error(t.message);const s={};for(const[o,u]of Object.entries(n))s[o]={methods:u.methods,events:u.events,chains:u.accounts.map(c=>`${c.split(":")[0]}:${c.split(":")[1]}`)};return s}function fu(n){return n.includes(":")}function fs(n){return fu(n)?n.split(":")[0]:n}const Tw={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Rw={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function fe(n,e){const{message:t,code:s}=Rw[n];return{message:e?`${t} ${e}`:t,code:s}}function $t(n,e){const{message:t,code:s}=Tw[n];return{message:e?`${t} ${e}`:t,code:s}}function Jn(n,e){return Array.isArray(n)?typeof e<"u"&&n.length?n.every(e):!0:!1}function mi(n){return Object.getPrototypeOf(n)===Object.prototype&&Object.keys(n).length}function or(n){return typeof n>"u"}function Wt(n,e){return e&&or(n)?!0:typeof n=="string"&&!!n.trim().length}function hu(n,e){return e&&or(n)?!0:typeof n=="number"&&!isNaN(n)}function Nw(n,e){const{requiredNamespaces:t}=e,s=Object.keys(n.namespaces),o=Object.keys(t);let u=!0;return Yn(o,s)?(s.forEach(c=>{const{accounts:l,methods:_,events:p}=n.namespaces[c],m=bi(l),I=t[c];(!Yn(Wh(c,I),m)||!Yn(I.methods,_)||!Yn(I.events,p))&&(u=!1)}),u):!1}function eo(n){return Wt(n,!1)&&n.includes(":")?n.split(":").length===2:!1}function Lw(n){if(Wt(n,!1)&&n.includes(":")){const e=n.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&eo(t)}}return!1}function Fw(n){if(Wt(n,!1))try{return typeof new URL(n)<"u"}catch{return!1}return!1}function $w(n){var e;return(e=n?.proposer)==null?void 0:e.publicKey}function Uw(n){return n?.topic}function Mw(n,e){let t=null;return Wt(n?.publicKey,!1)||(t=fe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function al(n){let e=!0;return Jn(n)?n.length&&(e=n.every(t=>Wt(t,!1))):e=!1,e}function qw(n,e,t){let s=null;return Jn(e)&&e.length?e.forEach(o=>{s||eo(o)||(s=$t("UNSUPPORTED_CHAINS",`${t}, chain ${o} should be a string and conform to "namespace:chainId" format`))}):eo(n)||(s=$t("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s}function Bw(n,e,t){let s=null;return Object.entries(n).forEach(([o,u])=>{if(s)return;const c=qw(o,Wh(o,u),`${e} ${t}`);c&&(s=c)}),s}function Hw(n,e){let t=null;return Jn(n)?n.forEach(s=>{t||Lw(s)||(t=$t("UNSUPPORTED_ACCOUNTS",`${e}, account ${s} should be a string and conform to "namespace:chainId:address" format`))}):t=$t("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function jw(n,e){let t=null;return Object.values(n).forEach(s=>{if(t)return;const o=Hw(s?.accounts,`${e} namespace`);o&&(t=o)}),t}function zw(n,e){let t=null;return al(n?.methods)?al(n?.events)||(t=$t("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=$t("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function ul(n,e){let t=null;return Object.values(n).forEach(s=>{if(t)return;const o=zw(s,`${e}, namespace`);o&&(t=o)}),t}function Kw(n,e,t){let s=null;if(n&&mi(n)){const o=ul(n,e);o&&(s=o);const u=Bw(n,e,t);u&&(s=u)}else s=fe("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return s}function to(n,e){let t=null;if(n&&mi(n)){const s=ul(n,e);s&&(t=s);const o=jw(n,e);o&&(t=o)}else t=fe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function cl(n){return Wt(n.protocol,!0)}function Gw(n,e){let t=!1;return e&&!n?t=!0:n&&Jn(n)&&n.length&&n.forEach(s=>{t=cl(s)}),t}function Ww(n){return typeof n=="number"}function gr(n){return typeof n<"u"&&typeof n!==null}function Vw(n){return!(!n||typeof n!="object"||!n.code||!hu(n.code,!1)||!n.message||!Wt(n.message,!1))}function kw(n){return!(or(n)||!Wt(n.method,!1))}function Yw(n){return!(or(n)||or(n.result)&&or(n.error)||!hu(n.id,!1)||!Wt(n.jsonrpc,!1))}function Jw(n){return!(or(n)||!Wt(n.name,!1))}function fl(n,e){return!(!eo(e)||!Iw(n).includes(e))}function Xw(n,e,t){return Wt(t,!1)?Pw(n,e).includes(t):!1}function Qw(n,e,t){return Wt(t,!1)?Aw(n,e).includes(t):!1}function hl(n,e,t){let s=null;const o=Zw(n),u=eb(e),c=Object.keys(o),l=Object.keys(u),_=ll(Object.keys(n)),p=ll(Object.keys(e)),m=_.filter(I=>!p.includes(I));return m.length&&(s=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${m.toString()}
      Received: ${Object.keys(e).toString()}`)),Yn(c,l)||(s=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${l.toString()}`)),Object.keys(e).forEach(I=>{if(!I.includes(":")||s)return;const D=bi(e[I].accounts);D.includes(I)||(s=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${I}
        Required: ${I}
        Approved: ${D.toString()}`))}),c.forEach(I=>{s||(Yn(o[I].methods,u[I].methods)?Yn(o[I].events,u[I].events)||(s=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${I}`)):s=fe("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${I}`))}),s}function Zw(n){const e={};return Object.keys(n).forEach(t=>{var s;t.includes(":")?e[t]=n[t]:(s=n[t].chains)==null||s.forEach(o=>{e[o]={methods:n[t].methods,events:n[t].events}})}),e}function ll(n){return[...new Set(n.map(e=>e.includes(":")?e.split(":")[0]:e))]}function eb(n){const e={};return Object.keys(n).forEach(t=>{if(t.includes(":"))e[t]=n[t];else{const s=bi(n[t].accounts);s?.forEach(o=>{e[o]={accounts:n[t].accounts.filter(u=>u.includes(`${o}:`)),methods:n[t].methods,events:n[t].events}})}}),e}function tb(n,e){return hu(n,!1)&&n<=e.max&&n>=e.min}function dl(){const n=us();return new Promise(e=>{switch(n){case Dr.browser:e(rb());break;case Dr.reactNative:e(nb());break;case Dr.node:e(ib());break;default:e(!0)}})}function rb(){return as()&&navigator?.onLine}async function nb(){if(os()&&typeof global<"u"&&global!=null&&global.NetInfo){const n=await(global==null?void 0:global.NetInfo.fetch());return n?.isConnected}return!0}function ib(){return!0}function sb(n){switch(us()){case Dr.browser:ob(n);break;case Dr.reactNative:ab(n);break}}function ob(n){!os()&&as()&&(window.addEventListener("online",()=>n(!0)),window.addEventListener("offline",()=>n(!1)))}function ab(n){os()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>n(e?.isConnected))}const lu={};class ro{static get(e){return lu[e]}static set(e,t){lu[e]=t}static delete(e){delete lu[e]}}const ub="PARSE_ERROR",cb="INVALID_REQUEST",fb="METHOD_NOT_FOUND",hb="INVALID_PARAMS",pl="INTERNAL_ERROR",du="SERVER_ERROR",lb=[-32700,-32600,-32601,-32602,-32603],hs={[ub]:{code:-32700,message:"Parse error"},[cb]:{code:-32600,message:"Invalid Request"},[fb]:{code:-32601,message:"Method not found"},[hb]:{code:-32602,message:"Invalid params"},[pl]:{code:-32603,message:"Internal error"},[du]:{code:-32e3,message:"Server error"}},gl=du;function db(n){return lb.includes(n)}function _l(n){return Object.keys(hs).includes(n)?hs[n]:hs[gl]}function pb(n){const e=Object.values(hs).find(t=>t.code===n);return e||hs[gl]}function yl(n,e,t){return n.message.includes("getaddrinfo ENOTFOUND")||n.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):n}var vl={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var pu=function(n,e){return pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o])},pu(n,e)};function gb(n,e){pu(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gu=function(){return gu=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},gu.apply(this,arguments)};function _b(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function yb(n,e,t,s){var o=arguments.length,u=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,e,t,s);else for(var l=n.length-1;l>=0;l--)(c=n[l])&&(u=(o<3?c(u):o>3?c(e,t,u):c(e,t))||u);return o>3&&u&&Object.defineProperty(e,t,u),u}function vb(n,e){return function(t,s){e(t,s,n)}}function wb(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function bb(n,e,t,s){function o(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function l(m){try{p(s.next(m))}catch(I){c(I)}}function _(m){try{p(s.throw(m))}catch(I){c(I)}}function p(m){m.done?u(m.value):o(m.value).then(l,_)}p((s=s.apply(n,e||[])).next())})}function mb(n,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(m){return _([p,m])}}function _(p){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,o=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){t.label=p[1];break}if(p[0]===6&&t.label<u[1]){t.label=u[1],u=p;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(p);break}u[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(m){p=[6,m],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Eb(n,e,t,s){s===void 0&&(s=t),n[s]=e[t]}function Sb(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function _u(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wl(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var s=t.call(n),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(l){c={error:l}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return u}function Db(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(wl(arguments[e]));return n}function xb(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var s=Array(n),o=0,e=0;e<t;e++)for(var u=arguments[e],c=0,l=u.length;c<l;c++,o++)s[o]=u[c];return s}function ls(n){return this instanceof ls?(this.v=n,this):new ls(n)}function Ob(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(D){s[D]&&(o[D]=function(T){return new Promise(function(R,j){u.push([D,T,R,j])>1||l(D,T)})})}function l(D,T){try{_(s[D](T))}catch(R){I(u[0][3],R)}}function _(D){D.value instanceof ls?Promise.resolve(D.value.v).then(p,m):I(u[0][2],D)}function p(D){l("next",D)}function m(D){l("throw",D)}function I(D,T){D(T),u.shift(),u.length&&l(u[0][0],u[0][1])}}function Ib(n){var e,t;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,u){e[o]=n[o]?function(c){return(t=!t)?{value:ls(n[o](c)),done:o==="return"}:u?u(c):c}:u}}function Pb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof _u=="function"?_u(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(u){t[u]=n[u]&&function(c){return new Promise(function(l,_){c=n[u](c),o(l,_,c.done,c.value)})}}function o(u,c,l,_){Promise.resolve(_).then(function(p){u({value:p,done:l})},c)}}function Ab(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Cb(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function Tb(n){return n&&n.__esModule?n:{default:n}}function Rb(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function Nb(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var Lb=Object.freeze({__proto__:null,__extends:gb,get __assign(){return gu},__rest:_b,__decorate:yb,__param:vb,__metadata:wb,__awaiter:bb,__generator:mb,__createBinding:Eb,__exportStar:Sb,__values:_u,__read:wl,__spread:Db,__spreadArrays:xb,__await:ls,__asyncGenerator:Ob,__asyncDelegator:Ib,__asyncValues:Pb,__makeTemplateObject:Ab,__importStar:Cb,__importDefault:Tb,__classPrivateFieldGet:Rb,__classPrivateFieldSet:Nb}),Fb=Hn(Lb),sn={},bl;function $b(){if(bl)return sn;bl=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.isBrowserCryptoAvailable=sn.getSubtleCrypto=sn.getBrowerCrypto=void 0;function n(){return mt?.crypto||mt?.msCrypto||{}}sn.getBrowerCrypto=n;function e(){const s=n();return s.subtle||s.webkitSubtle}sn.getSubtleCrypto=e;function t(){return!!n()&&!!e()}return sn.isBrowserCryptoAvailable=t,sn}var on={},ml;function Ub(){if(ml)return on;ml=1,Object.defineProperty(on,"__esModule",{value:!0}),on.isBrowser=on.isNode=on.isReactNative=void 0;function n(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}on.isReactNative=n;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}on.isNode=e;function t(){return!n()&&!e()}return on.isBrowser=t,on}(function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Fb;e.__exportStar($b(),n),e.__exportStar(Ub(),n)})(vl);function yu(n=3){const e=Date.now()*Math.pow(10,n),t=Math.floor(Math.random()*Math.pow(10,n));return e+t}function El(n=6){return BigInt(yu(n))}function Ei(n,e,t){return{id:t||yu(),jsonrpc:"2.0",method:n,params:e}}function vu(n,e){return{id:n,jsonrpc:"2.0",result:e}}function no(n,e,t){return{id:n,jsonrpc:"2.0",error:Mb(e,t)}}function Mb(n,e){return typeof n>"u"?_l(pl):(typeof n=="string"&&(n=Object.assign(Object.assign({},_l(du)),{message:n})),typeof e<"u"&&(n.data=e),db(n.code)&&(n=pb(n.code)),n)}class qb{}class Bb extends qb{constructor(){super()}}class Hb extends Bb{constructor(e){super()}}const jb="^https?:",zb="^wss?:";function Kb(n){const e=n.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Sl(n,e){const t=Kb(n);return typeof t>"u"?!1:new RegExp(e).test(t)}function Dl(n){return Sl(n,jb)}function xl(n){return Sl(n,zb)}function Gb(n){return new RegExp("wss?://localhost(:d{2,5})?").test(n)}function Ol(n){return typeof n=="object"&&"id"in n&&"jsonrpc"in n&&n.jsonrpc==="2.0"}function wu(n){return Ol(n)&&"method"in n}function io(n){return Ol(n)&&(an(n)||jr(n))}function an(n){return"result"in n}function jr(n){return"error"in n}class un extends Hb{constructor(e){super(e),this.events=new Qt.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Ei(e.method,e.params||[],e.id||El().toString()),t)}async requestStrict(e,t){return new Promise(async(s,o)=>{if(!this.connection.connected)try{await this.open()}catch(u){o(u)}this.events.on(`${e.id}`,u=>{jr(u)?o(u.error):s(u.result)});try{await this.connection.send(e,t)}catch(u){o(u)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),io(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Wb=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Vb=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Il=n=>n.split("?")[0],Pl=10,kb=Wb();class Yb{constructor(e){if(this.url=e,this.events=new Qt.exports.EventEmitter,this.registering=!1,!xl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=s=>{this.onClose(s),e()},this.socket.close()})}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ts(e))}catch(s){this.onError(e.id,s)}}register(e=this.url){if(!xl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((s,o)=>{this.events.once("register_error",u=>{this.resetMaxListeners(),o(u)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return o(new Error("WebSocket connection is missing or invalid"));s(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,s)=>{const o=vl.isReactNative()?void 0:{rejectUnauthorized:!Gb(e)},u=new kb(e,[],o);Vb()?u.onerror=c=>{const l=c;s(this.emitError(l.error))}:u.on("error",c=>{s(this.emitError(c))}),u.onopen=()=>{this.onOpen(u),t(u)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Ma(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const s=this.parseError(t),o=s.message||s.toString(),u=no(e,o);this.events.emit("payload",u)}parseError(e,t=this.url){return yl(e,Il(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Pl&&this.events.setMaxListeners(Pl)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${Il(this.url)}`));return this.events.emit("register_error",t),t}}var bu={exports:{}};(function(n,e){var t=200,s="__lodash_hash_undefined__",o=1,u=2,c=9007199254740991,l="[object Arguments]",_="[object Array]",p="[object AsyncFunction]",m="[object Boolean]",I="[object Date]",D="[object Error]",T="[object Function]",R="[object GeneratorFunction]",j="[object Map]",K="[object Number]",se="[object Null]",L="[object Object]",M="[object Promise]",x="[object Proxy]",C="[object RegExp]",E="[object Set]",f="[object String]",w="[object Symbol]",V="[object Undefined]",Y="[object WeakMap]",ie="[object ArrayBuffer]",ue="[object DataView]",de="[object Float32Array]",b="[object Float64Array]",P="[object Int8Array]",ee="[object Int16Array]",X="[object Int32Array]",G="[object Uint8Array]",W="[object Uint8ClampedArray]",J="[object Uint16Array]",re="[object Uint32Array]",be=/[\\^$.*+?()[\]{}|]/g,oe=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,he={};he[de]=he[b]=he[P]=he[ee]=he[X]=he[G]=he[W]=he[J]=he[re]=!0,he[l]=he[_]=he[ie]=he[m]=he[ue]=he[I]=he[D]=he[T]=he[j]=he[K]=he[L]=he[C]=he[E]=he[f]=he[Y]=!1;var ve=typeof mt=="object"&&mt&&mt.Object===Object&&mt,H=typeof self=="object"&&self&&self.Object===Object&&self,B=ve||H||Function("return this")(),F=e&&!e.nodeType&&e,d=F&&!0&&n&&!n.nodeType&&n,A=d&&d.exports===F,ae=A&&ve.process,le=function(){try{return ae&&ae.binding&&ae.binding("util")}catch{}}(),xe=le&&le.isTypedArray;function je(S,U){for(var te=-1,pe=S==null?0:S.length,ut=0,Te=[];++te<pe;){var dt=S[te];U(dt,te,S)&&(Te[ut++]=dt)}return Te}function Ge(S,U){for(var te=-1,pe=U.length,ut=S.length;++te<pe;)S[ut+te]=U[te];return S}function Ue(S,U){for(var te=-1,pe=S==null?0:S.length;++te<pe;)if(U(S[te],te,S))return!0;return!1}function _t(S,U){for(var te=-1,pe=Array(S);++te<S;)pe[te]=U(te);return pe}function yt(S){return function(U){return S(U)}}function qe(S,U){return S.has(U)}function Oe(S,U){return S?.[U]}function Le(S){var U=-1,te=Array(S.size);return S.forEach(function(pe,ut){te[++U]=[ut,pe]}),te}function Fe(S,U){return function(te){return S(U(te))}}function Be(S){var U=-1,te=Array(S.size);return S.forEach(function(pe){te[++U]=pe}),te}var Pe=Array.prototype,$e=Function.prototype,De=Object.prototype,Ae=B["__core-js_shared__"],ze=$e.toString,Ie=De.hasOwnProperty,We=function(){var S=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),ke=De.toString,et=RegExp("^"+ze.call(Ie).replace(be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=A?B.Buffer:void 0,Xe=B.Symbol,ur=B.Uint8Array,yr=De.propertyIsEnumerable,Qr=Pe.splice,cr=Xe?Xe.toStringTag:void 0,ln=Object.getOwnPropertySymbols,An=tt?tt.isBuffer:void 0,Qn=Fe(Object.keys,Object),Dt=xr(B,"DataView"),vt=xr(B,"Map"),xt=xr(B,"Promise"),Ot=xr(B,"Set"),Et=xr(B,"WeakMap"),wt=xr(Object,"create"),Ut=pn(Dt),Mt=pn(vt),It=pn(xt),qt=pn(Ot),Pt=pn(Et),Tt=Xe?Xe.prototype:void 0,At=Tt?Tt.valueOf:void 0;function lt(S){var U=-1,te=S==null?0:S.length;for(this.clear();++U<te;){var pe=S[U];this.set(pe[0],pe[1])}}function Bt(){this.__data__=wt?wt(null):{},this.size=0}function Ht(S){var U=this.has(S)&&delete this.__data__[S];return this.size-=U?1:0,U}function Uu(S){var U=this.__data__;if(wt){var te=U[S];return te===s?void 0:te}return Ie.call(U,S)?U[S]:void 0}function Mu(S){var U=this.__data__;return wt?U[S]!==void 0:Ie.call(U,S)}function qu(S,U){var te=this.__data__;return this.size+=this.has(S)?0:1,te[S]=wt&&U===void 0?s:U,this}lt.prototype.clear=Bt,lt.prototype.delete=Ht,lt.prototype.get=Uu,lt.prototype.has=Mu,lt.prototype.set=qu;function Rr(S){var U=-1,te=S==null?0:S.length;for(this.clear();++U<te;){var pe=S[U];this.set(pe[0],pe[1])}}function Bu(){this.__data__=[],this.size=0}function Hu(S){var U=this.__data__,te=Zn(U,S);if(te<0)return!1;var pe=U.length-1;return te==pe?U.pop():Qr.call(U,te,1),--this.size,!0}function ju(S){var U=this.__data__,te=Zn(U,S);return te<0?void 0:U[te][1]}function zu(S){return Zn(this.__data__,S)>-1}function Ku(S,U){var te=this.__data__,pe=Zn(te,S);return pe<0?(++this.size,te.push([S,U])):te[pe][1]=U,this}Rr.prototype.clear=Bu,Rr.prototype.delete=Hu,Rr.prototype.get=ju,Rr.prototype.has=zu,Rr.prototype.set=Ku;function dn(S){var U=-1,te=S==null?0:S.length;for(this.clear();++U<te;){var pe=S[U];this.set(pe[0],pe[1])}}function Si(){this.size=0,this.__data__={hash:new lt,map:new(vt||Rr),string:new lt}}function Gu(S){var U=Cn(this,S).delete(S);return this.size-=U?1:0,U}function Di(S){return Cn(this,S).get(S)}function Wu(S){return Cn(this,S).has(S)}function Vu(S,U){var te=Cn(this,S),pe=te.size;return te.set(S,U),this.size+=te.size==pe?0:1,this}dn.prototype.clear=Si,dn.prototype.delete=Gu,dn.prototype.get=Di,dn.prototype.has=Wu,dn.prototype.set=Vu;function xi(S){var U=-1,te=S==null?0:S.length;for(this.__data__=new dn;++U<te;)this.add(S[U])}function lo(S){return this.__data__.set(S,s),this}function po(S){return this.__data__.has(S)}xi.prototype.add=xi.prototype.push=lo,xi.prototype.has=po;function Kr(S){var U=this.__data__=new Rr(S);this.size=U.size}function ku(){this.__data__=new Rr,this.size=0}function Yu(S){var U=this.__data__,te=U.delete(S);return this.size=U.size,te}function Ju(S){return this.__data__.get(S)}function Xu(S){return this.__data__.has(S)}function go(S,U){var te=this.__data__;if(te instanceof Rr){var pe=te.__data__;if(!vt||pe.length<t-1)return pe.push([S,U]),this.size=++te.size,this;te=this.__data__=new dn(pe)}return te.set(S,U),this.size=te.size,this}Kr.prototype.clear=ku,Kr.prototype.delete=Yu,Kr.prototype.get=Ju,Kr.prototype.has=Xu,Kr.prototype.set=go;function _o(S,U){var te=Pi(S),pe=!te&&Po(S),ut=!te&&!pe&&ms(S),Te=!te&&!pe&&!ut&&To(S),dt=te||pe||ut||Te,jt=dt?_t(S.length,String):[],Qe=jt.length;for(var ct in S)(U||Ie.call(S,ct))&&!(dt&&(ct=="length"||ut&&(ct=="offset"||ct=="parent")||Te&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||So(ct,Qe)))&&jt.push(ct);return jt}function Zn(S,U){for(var te=S.length;te--;)if(Io(S[te][0],U))return te;return-1}function ws(S,U,te){var pe=U(S);return Pi(S)?pe:Ge(pe,te(S))}function ei(S){return S==null?S===void 0?V:se:cr&&cr in Object(S)?mo(S):ec(S)}function bs(S){return ri(S)&&ei(S)==l}function ti(S,U,te,pe,ut){return S===U?!0:S==null||U==null||!ri(S)&&!ri(U)?S!==S&&U!==U:yo(S,U,te,pe,ti,ut)}function yo(S,U,te,pe,ut,Te){var dt=Pi(S),jt=Pi(U),Qe=dt?_:Zr(S),ct=jt?_:Zr(U);Qe=Qe==l?L:Qe,ct=ct==l?L:ct;var Rt=Qe==L,vr=ct==L,zt=Qe==ct;if(zt&&ms(S)){if(!ms(U))return!1;dt=!0,Rt=!1}if(zt&&!Rt)return Te||(Te=new Kr),dt||To(S)?Oi(S,U,te,pe,ut,Te):Zu(S,U,Qe,te,pe,ut,Te);if(!(te&o)){var pt=Rt&&Ie.call(S,"__wrapped__"),fr=vr&&Ie.call(U,"__wrapped__");if(pt||fr){var Gr=pt?S.value():S,Nr=fr?U.value():U;return Te||(Te=new Kr),ut(Gr,Nr,te,pe,Te)}}return zt?(Te||(Te=new Kr),bo(S,U,te,pe,ut,Te)):!1}function Qu(S){if(!Co(S)||xo(S))return!1;var U=Ai(S)?et:oe;return U.test(pn(S))}function vo(S){return ri(S)&&Ao(S.length)&&!!he[ei(S)]}function wo(S){if(!Oo(S))return Qn(S);var U=[];for(var te in Object(S))Ie.call(S,te)&&te!="constructor"&&U.push(te);return U}function Oi(S,U,te,pe,ut,Te){var dt=te&o,jt=S.length,Qe=U.length;if(jt!=Qe&&!(dt&&Qe>jt))return!1;var ct=Te.get(S);if(ct&&Te.get(U))return ct==U;var Rt=-1,vr=!0,zt=te&u?new xi:void 0;for(Te.set(S,U),Te.set(U,S);++Rt<jt;){var pt=S[Rt],fr=U[Rt];if(pe)var Gr=dt?pe(fr,pt,Rt,U,S,Te):pe(pt,fr,Rt,S,U,Te);if(Gr!==void 0){if(Gr)continue;vr=!1;break}if(zt){if(!Ue(U,function(Nr,en){if(!qe(zt,en)&&(pt===Nr||ut(pt,Nr,te,pe,Te)))return zt.push(en)})){vr=!1;break}}else if(!(pt===fr||ut(pt,fr,te,pe,Te))){vr=!1;break}}return Te.delete(S),Te.delete(U),vr}function Zu(S,U,te,pe,ut,Te,dt){switch(te){case ue:if(S.byteLength!=U.byteLength||S.byteOffset!=U.byteOffset)return!1;S=S.buffer,U=U.buffer;case ie:return!(S.byteLength!=U.byteLength||!Te(new ur(S),new ur(U)));case m:case I:case K:return Io(+S,+U);case D:return S.name==U.name&&S.message==U.message;case C:case f:return S==U+"";case j:var jt=Le;case E:var Qe=pe&o;if(jt||(jt=Be),S.size!=U.size&&!Qe)return!1;var ct=dt.get(S);if(ct)return ct==U;pe|=u,dt.set(S,U);var Rt=Oi(jt(S),jt(U),pe,ut,Te,dt);return dt.delete(S),Rt;case w:if(At)return At.call(S)==At.call(U)}return!1}function bo(S,U,te,pe,ut,Te){var dt=te&o,jt=Ii(S),Qe=jt.length,ct=Ii(U),Rt=ct.length;if(Qe!=Rt&&!dt)return!1;for(var vr=Qe;vr--;){var zt=jt[vr];if(!(dt?zt in U:Ie.call(U,zt)))return!1}var pt=Te.get(S);if(pt&&Te.get(U))return pt==U;var fr=!0;Te.set(S,U),Te.set(U,S);for(var Gr=dt;++vr<Qe;){zt=jt[vr];var Nr=S[zt],en=U[zt];if(pe)var Es=dt?pe(en,Nr,zt,U,S,Te):pe(Nr,en,zt,S,U,Te);if(!(Es===void 0?Nr===en||ut(Nr,en,te,pe,Te):Es)){fr=!1;break}Gr||(Gr=zt=="constructor")}if(fr&&!Gr){var ni=S.constructor,Vt=U.constructor;ni!=Vt&&"constructor"in S&&"constructor"in U&&!(typeof ni=="function"&&ni instanceof ni&&typeof Vt=="function"&&Vt instanceof Vt)&&(fr=!1)}return Te.delete(S),Te.delete(U),fr}function Ii(S){return ws(S,nc,Eo)}function Cn(S,U){var te=S.__data__;return Do(U)?te[typeof U=="string"?"string":"hash"]:te.map}function xr(S,U){var te=Oe(S,U);return Qu(te)?te:void 0}function mo(S){var U=Ie.call(S,cr),te=S[cr];try{S[cr]=void 0;var pe=!0}catch{}var ut=ke.call(S);return pe&&(U?S[cr]=te:delete S[cr]),ut}var Eo=ln?function(S){return S==null?[]:(S=Object(S),je(ln(S),function(U){return yr.call(S,U)}))}:at,Zr=ei;(Dt&&Zr(new Dt(new ArrayBuffer(1)))!=ue||vt&&Zr(new vt)!=j||xt&&Zr(xt.resolve())!=M||Ot&&Zr(new Ot)!=E||Et&&Zr(new Et)!=Y)&&(Zr=function(S){var U=ei(S),te=U==L?S.constructor:void 0,pe=te?pn(te):"";if(pe)switch(pe){case Ut:return ue;case Mt:return j;case It:return M;case qt:return E;case Pt:return Y}return U});function So(S,U){return U=U??c,!!U&&(typeof S=="number"||me.test(S))&&S>-1&&S%1==0&&S<U}function Do(S){var U=typeof S;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?S!=="__proto__":S===null}function xo(S){return!!We&&We in S}function Oo(S){var U=S&&S.constructor,te=typeof U=="function"&&U.prototype||De;return S===te}function ec(S){return ke.call(S)}function pn(S){if(S!=null){try{return ze.call(S)}catch{}try{return S+""}catch{}}return""}function Io(S,U){return S===U||S!==S&&U!==U}var Po=bs(function(){return arguments}())?bs:function(S){return ri(S)&&Ie.call(S,"callee")&&!yr.call(S,"callee")},Pi=Array.isArray;function tc(S){return S!=null&&Ao(S.length)&&!Ai(S)}var ms=An||ot;function rc(S,U){return ti(S,U)}function Ai(S){if(!Co(S))return!1;var U=ei(S);return U==T||U==R||U==p||U==x}function Ao(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=c}function Co(S){var U=typeof S;return S!=null&&(U=="object"||U=="function")}function ri(S){return S!=null&&typeof S=="object"}var To=xe?yt(xe):vo;function nc(S){return tc(S)?_o(S):wo(S)}function at(){return[]}function ot(){return!1}n.exports=rc})(bu,bu.exports);var Jb=bu.exports,Xb=Object.defineProperty,Al=Object.getOwnPropertySymbols,Qb=Object.prototype.hasOwnProperty,Zb=Object.prototype.propertyIsEnumerable,Cl=(n,e,t)=>e in n?Xb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ar=(n,e)=>{for(var t in e||(e={}))Qb.call(e,t)&&Cl(n,t,e[t]);if(Al)for(var t of Al(e))Zb.call(e,t)&&Cl(n,t,e[t]);return n};function em(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var o=0;o<n.length;o++){var u=n.charAt(o),c=u.charCodeAt(0);if(t[c]!==255)throw new TypeError(u+" is ambiguous");t[c]=o}var l=n.length,_=n.charAt(0),p=Math.log(l)/Math.log(256),m=Math.log(256)/Math.log(l);function I(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var j=0,K=0,se=0,L=R.length;se!==L&&R[se]===0;)se++,j++;for(var M=(L-se)*m+1>>>0,x=new Uint8Array(M);se!==L;){for(var C=R[se],E=0,f=M-1;(C!==0||E<K)&&f!==-1;f--,E++)C+=256*x[f]>>>0,x[f]=C%l>>>0,C=C/l>>>0;if(C!==0)throw new Error("Non-zero carry");K=E,se++}for(var w=M-K;w!==M&&x[w]===0;)w++;for(var V=_.repeat(j);w<M;++w)V+=n.charAt(x[w]);return V}function D(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;var j=0;if(R[j]!==" "){for(var K=0,se=0;R[j]===_;)K++,j++;for(var L=(R.length-j)*p+1>>>0,M=new Uint8Array(L);R[j];){var x=t[R.charCodeAt(j)];if(x===255)return;for(var C=0,E=L-1;(x!==0||C<se)&&E!==-1;E--,C++)x+=l*M[E]>>>0,M[E]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");se=C,j++}if(R[j]!==" "){for(var f=L-se;f!==L&&M[f]===0;)f++;for(var w=new Uint8Array(K+(L-f)),V=K;f!==L;)w[V++]=M[f++];return w}}}function T(R){var j=D(R);if(j)return j;throw new Error(`Non-${e} character`)}return{encode:I,decodeUnsafe:D,decode:T}}var tm=em,rm=tm;const Tl=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},nm=n=>new TextEncoder().encode(n),im=n=>new TextDecoder().decode(n);class sm{constructor(e,t,s){this.name=e,this.prefix=t,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class om{constructor(e,t,s){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Rl(this,e)}}class am{constructor(e){this.decoders=e}or(e){return Rl(this,e)}decode(e){const t=e[0],s=this.decoders[t];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Rl=(n,e)=>new am(ar(ar({},n.decoders||{[n.prefix]:n}),e.decoders||{[e.prefix]:e}));class um{constructor(e,t,s,o){this.name=e,this.prefix=t,this.baseEncode=s,this.baseDecode=o,this.encoder=new sm(e,t,s),this.decoder=new om(e,t,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const so=({name:n,prefix:e,encode:t,decode:s})=>new um(n,e,t,s),ds=({prefix:n,name:e,alphabet:t})=>{const{encode:s,decode:o}=rm(t,e);return so({prefix:n,name:e,encode:s,decode:u=>Tl(o(u))})},cm=(n,e,t,s)=>{const o={};for(let m=0;m<e.length;++m)o[e[m]]=m;let u=n.length;for(;n[u-1]==="=";)--u;const c=new Uint8Array(u*t/8|0);let l=0,_=0,p=0;for(let m=0;m<u;++m){const I=o[n[m]];if(I===void 0)throw new SyntaxError(`Non-${s} character`);_=_<<t|I,l+=t,l>=8&&(l-=8,c[p++]=255&_>>l)}if(l>=t||255&_<<8-l)throw new SyntaxError("Unexpected end of data");return c},fm=(n,e,t)=>{const s=e[e.length-1]==="=",o=(1<<t)-1;let u="",c=0,l=0;for(let _=0;_<n.length;++_)for(l=l<<8|n[_],c+=8;c>t;)c-=t,u+=e[o&l>>c];if(c&&(u+=e[o&l<<t-c]),s)for(;u.length*t&7;)u+="=";return u},Jt=({name:n,prefix:e,bitsPerChar:t,alphabet:s})=>so({prefix:e,name:n,encode(o){return fm(o,s,t)},decode(o){return cm(o,s,t,n)}}),hm=so({prefix:"\0",name:"identity",encode:n=>im(n),decode:n=>nm(n)});var lm=Object.freeze({__proto__:null,identity:hm});const dm=Jt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pm=Object.freeze({__proto__:null,base2:dm});const gm=Jt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var _m=Object.freeze({__proto__:null,base8:gm});const ym=ds({prefix:"9",name:"base10",alphabet:"0123456789"});var vm=Object.freeze({__proto__:null,base10:ym});const wm=Jt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bm=Jt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var mm=Object.freeze({__proto__:null,base16:wm,base16upper:bm});const Em=Jt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Sm=Jt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Dm=Jt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xm=Jt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Om=Jt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Im=Jt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Pm=Jt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Am=Jt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cm=Jt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Tm=Object.freeze({__proto__:null,base32:Em,base32upper:Sm,base32pad:Dm,base32padupper:xm,base32hex:Om,base32hexupper:Im,base32hexpad:Pm,base32hexpadupper:Am,base32z:Cm});const Rm=ds({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Nm=ds({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Lm=Object.freeze({__proto__:null,base36:Rm,base36upper:Nm});const Fm=ds({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$m=ds({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Um=Object.freeze({__proto__:null,base58btc:Fm,base58flickr:$m});const Mm=Jt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),qm=Jt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Bm=Jt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Hm=Jt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var jm=Object.freeze({__proto__:null,base64:Mm,base64pad:qm,base64url:Bm,base64urlpad:Hm});const Nl=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),zm=Nl.reduce((n,e,t)=>(n[t]=e,n),[]),Km=Nl.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function Gm(n){return n.reduce((e,t)=>(e+=zm[t],e),"")}function Wm(n){const e=[];for(const t of n){const s=Km[t.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(s)}return new Uint8Array(e)}const Vm=so({prefix:"\u{1F680}",name:"base256emoji",encode:Gm,decode:Wm});var km=Object.freeze({__proto__:null,base256emoji:Vm}),Ym=Fl,Ll=128,Jm=127,Xm=~Jm,Qm=Math.pow(2,31);function Fl(n,e,t){e=e||[],t=t||0;for(var s=t;n>=Qm;)e[t++]=n&255|Ll,n/=128;for(;n&Xm;)e[t++]=n&255|Ll,n>>>=7;return e[t]=n|0,Fl.bytes=t-s+1,e}var Zm=mu,eE=128,$l=127;function mu(n,s){var t=0,s=s||0,o=0,u=s,c,l=n.length;do{if(u>=l)throw mu.bytes=0,new RangeError("Could not decode varint");c=n[u++],t+=o<28?(c&$l)<<o:(c&$l)*Math.pow(2,o),o+=7}while(c>=eE);return mu.bytes=u-s,t}var tE=Math.pow(2,7),rE=Math.pow(2,14),nE=Math.pow(2,21),iE=Math.pow(2,28),sE=Math.pow(2,35),oE=Math.pow(2,42),aE=Math.pow(2,49),uE=Math.pow(2,56),cE=Math.pow(2,63),fE=function(n){return n<tE?1:n<rE?2:n<nE?3:n<iE?4:n<sE?5:n<oE?6:n<aE?7:n<uE?8:n<cE?9:10},hE={encode:Ym,decode:Zm,encodingLength:fE},Ul=hE;const Ml=(n,e,t=0)=>(Ul.encode(n,e,t),e),ql=n=>Ul.encodingLength(n),Eu=(n,e)=>{const t=e.byteLength,s=ql(n),o=s+ql(t),u=new Uint8Array(o+t);return Ml(n,u,0),Ml(t,u,s),u.set(e,o),new lE(n,t,e,u)};class lE{constructor(e,t,s,o){this.code=e,this.size=t,this.digest=s,this.bytes=o}}const Bl=({name:n,code:e,encode:t})=>new dE(n,e,t);class dE{constructor(e,t,s){this.name=e,this.code=t,this.encode=s}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Eu(this.code,t):t.then(s=>Eu(this.code,s))}else throw Error("Unknown type, must be binary type")}}const Hl=n=>async e=>new Uint8Array(await crypto.subtle.digest(n,e)),pE=Bl({name:"sha2-256",code:18,encode:Hl("SHA-256")}),gE=Bl({name:"sha2-512",code:19,encode:Hl("SHA-512")});var _E=Object.freeze({__proto__:null,sha256:pE,sha512:gE});const jl=0,yE="identity",zl=Tl;var vE=Object.freeze({__proto__:null,identity:{code:jl,name:yE,encode:zl,digest:n=>Eu(jl,zl(n))}});new TextEncoder,new TextDecoder;const Kl=ar(ar(ar(ar(ar(ar(ar(ar(ar(ar({},lm),pm),_m),vm),mm),Tm),Lm),Um),jm),km);ar(ar({},_E),vE);function Gl(n){return globalThis.Buffer!=null?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}function wE(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Gl(globalThis.Buffer.allocUnsafe(n)):new Uint8Array(n)}function Wl(n,e,t,s){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:s}}}const Vl=Wl("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),Su=Wl("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=wE(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),bE=ar({utf8:Vl,"utf-8":Vl,hex:Kl.base16,latin1:Su,ascii:Su,binary:Su},Kl);function mE(n,e="utf8"){const t=bE[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Gl(globalThis.Buffer.from(n,"utf-8")):t.decoder.decode(`${t.prefix}${n}`)}const kl="wc",EE=2,Du="core",On=`${kl}@2:${Du}:`,SE={name:Du,logger:"error"},DE={database:":memory:"},xE="crypto",Yl="client_ed25519_seed",OE=ye.ONE_DAY,IE="keychain",PE="0.3",AE="messages",CE="0.3",TE=ye.SIX_HOURS,RE="publisher",Jl="irn",NE="error",Xl="wss://relay.walletconnect.com",Ql="wss://relay.walletconnect.org",LE="relayer",er={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},FE="_subscription",cn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},$E=ye.ONE_SECOND,UE="2.10.2",ME=1e4,qE="0.3",BE="WALLETCONNECT_CLIENT_ID",zr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},HE="subscription",jE="0.3",zE=ye.FIVE_SECONDS*1e3,KE="pairing",GE="0.3",ps={wc_pairingDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:ye.ONE_DAY,prompt:!1,tag:0}}},gs={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Xr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},WE="history",VE="0.3",kE="expirer",Tr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},YE="0.3",xu="verify-api",oo="https://verify.walletconnect.com",Zl="https://verify.walletconnect.org";class JE{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=IE,this.version=PE,this.initialized=!1,this.storagePrefix=On,this.init=async()=>{if(!this.initialized){const s=await this.getKeyChain();typeof s<"u"&&(this.keychain=s),this.initialized=!0}},this.has=s=>(this.isInitialized(),this.keychain.has(s)),this.set=async(s,o)=>{this.isInitialized(),this.keychain.set(s,o),await this.persist()},this.get=s=>{this.isInitialized();const o=this.keychain.get(s);if(typeof o>"u"){const{message:u}=fe("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(u)}return o},this.del=async s=>{this.isInitialized(),this.keychain.delete(s),await this.persist()},this.core=e,this.logger=Je.generateChildLogger(t,this.name)}get context(){return Je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tl(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?rl(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class XE{constructor(e,t,s){this.core=e,this.logger=t,this.name=xE,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=o=>(this.isInitialized(),this.keychain.has(o)),this.getClientId=async()=>{this.isInitialized();const o=await this.getClientSeed(),u=Ih(o);return Oh(u.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const o=Y1();return this.setPrivateKey(o.publicKey,o.privateKey)},this.signJWT=async o=>{this.isInitialized();const u=await this.getClientSeed(),c=Ih(u),l=ou();return await t1(l,o,OE,c)},this.generateSharedKey=(o,u,c)=>{this.isInitialized();const l=this.getPrivateKey(o),_=J1(l,u);return this.setSymKey(_,c)},this.setSymKey=async(o,u)=>{this.isInitialized();const c=u||X1(o);return await this.keychain.set(c,o),c},this.deleteKeyPair=async o=>{this.isInitialized(),await this.keychain.del(o)},this.deleteSymKey=async o=>{this.isInitialized(),await this.keychain.del(o)},this.encode=async(o,u,c)=>{this.isInitialized();const l=Jh(c),_=ts(u);if(Xh(l)){const D=l.senderPublicKey,T=l.receiverPublicKey;o=await this.generateSharedKey(D,T)}const p=this.getSymKey(o),{type:m,senderPublicKey:I}=l;return Z1({type:m,symKey:p,message:_,senderPublicKey:I})},this.decode=async(o,u,c)=>{this.isInitialized();const l=rw(u,c);if(Xh(l)){const _=l.receiverPublicKey,p=l.senderPublicKey;o=await this.generateSharedKey(_,p)}try{const _=this.getSymKey(o),p=ew({symKey:_,encoded:u});return Ma(p)}catch(_){this.logger.error(`Failed to decode message from topic: '${o}', clientId: '${await this.getClientId()}'`),this.logger.error(_)}},this.getPayloadType=o=>{const u=Qs(o);return ss(u.type)},this.getPayloadSenderPublicKey=o=>{const u=Qs(o);return u.senderPublicKey?ir(u.senderPublicKey,sr):void 0},this.core=e,this.logger=Je.generateChildLogger(t,this.name),this.keychain=s||new JE(this.core,this.logger)}get context(){return Je.getLoggerContext(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Yl)}catch{e=ou(),await this.keychain.set(Yl,e)}return mE(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class QE extends F_{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=AE,this.version=CE,this.initialized=!1,this.storagePrefix=On,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const s=await this.getRelayerMessages();typeof s<"u"&&(this.messages=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(s){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(s)}finally{this.initialized=!0}}},this.set=async(s,o)=>{this.isInitialized();const u=vi(o);let c=this.messages.get(s);return typeof c>"u"&&(c={}),typeof c[u]<"u"||(c[u]=o,this.messages.set(s,c),await this.persist()),u},this.get=s=>{this.isInitialized();let o=this.messages.get(s);return typeof o>"u"&&(o={}),o},this.has=(s,o)=>{this.isInitialized();const u=this.get(s),c=vi(o);return typeof u[c]<"u"},this.del=async s=>{this.isInitialized(),this.messages.delete(s),await this.persist()},this.logger=Je.generateChildLogger(e,this.name),this.core=t}get context(){return Je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tl(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?rl(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class ZE extends $_{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new Qt.exports.EventEmitter,this.name=RE,this.queue=new Map,this.publishTimeout=ye.toMiliseconds(ye.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(s,o,u)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:s,message:o,opts:u}});try{const l=u?.ttl||TE,_=cu(u),p=u?.prompt||!1,m=u?.tag||0,I=u?.id||El().toString(),D={topic:s,message:o,opts:{ttl:l,relay:_,prompt:p,tag:m,id:I}},T=setTimeout(()=>this.queue.set(I,D),this.publishTimeout);try{await await cs(this.rpcPublish(s,o,l,_,p,m,I),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(I),this.relayer.events.emit(er.publish,D)}catch(R){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(c=u?.internal)!=null&&c.throwOnFailedPublish)throw this.removeRequestFromQueue(I),R;return}finally{clearTimeout(T)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:s,message:o,opts:u}})}catch(l){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(l),l}},this.on=(s,o)=>{this.events.on(s,o)},this.once=(s,o)=>{this.events.once(s,o)},this.off=(s,o)=>{this.events.off(s,o)},this.removeListener=(s,o)=>{this.events.removeListener(s,o)},this.relayer=e,this.logger=Je.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return Je.getLoggerContext(this.logger)}rpcPublish(e,t,s,o,u,c,l){var _,p,m,I;const D={method:Zs(o.protocol).publish,params:{topic:e,message:t,ttl:s,prompt:u,tag:c},id:l};return or((_=D.params)==null?void 0:_.prompt)&&((p=D.params)==null||delete p.prompt),or((m=D.params)==null?void 0:m.tag)&&((I=D.params)==null||delete I.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:D}),this.relayer.request(D)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:s,opts:o}=e;await this.publish(t,s,o)})}registerEventListeners(){this.relayer.core.heartbeat.on(pi.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(er.connection_stalled);return}this.checkQueue()}),this.relayer.on(er.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class e3{constructor(){this.map=new Map,this.set=(e,t)=>{const s=this.get(e);this.exists(e,t)||this.map.set(e,[...s,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const s=this.get(e);if(!this.exists(e,t))return;const o=s.filter(u=>u!==t);if(!o.length){this.map.delete(e);return}this.map.set(e,o)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var t3=Object.defineProperty,r3=Object.defineProperties,n3=Object.getOwnPropertyDescriptors,ed=Object.getOwnPropertySymbols,i3=Object.prototype.hasOwnProperty,s3=Object.prototype.propertyIsEnumerable,td=(n,e,t)=>e in n?t3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_s=(n,e)=>{for(var t in e||(e={}))i3.call(e,t)&&td(n,t,e[t]);if(ed)for(var t of ed(e))s3.call(e,t)&&td(n,t,e[t]);return n},Ou=(n,e)=>r3(n,n3(e));class o3 extends q_{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new e3,this.events=new Qt.exports.EventEmitter,this.name=HE,this.version=jE,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=On,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(s,o)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:o}});try{const u=cu(o),c={topic:s,relay:u};this.pending.set(s,c);const l=await this.rpcSubscribe(s,u);return this.onSubscribe(l,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:o}}),l}catch(u){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(u),u}},this.unsubscribe=async(s,o)=>{await this.restartToComplete(),this.isInitialized(),typeof o?.id<"u"?await this.unsubscribeById(s,o.id,o):await this.unsubscribeByTopic(s,o)},this.isSubscribed=async s=>this.topics.includes(s)?!0:await new Promise((o,u)=>{const c=new ye.Watch;c.start(this.pendingSubscriptionWatchLabel);const l=setInterval(()=>{!this.pending.has(s)&&this.topics.includes(s)&&(clearInterval(l),c.stop(this.pendingSubscriptionWatchLabel),o(!0)),c.elapsed(this.pendingSubscriptionWatchLabel)>=zE&&(clearInterval(l),c.stop(this.pendingSubscriptionWatchLabel),u(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(s,o)=>{this.events.on(s,o)},this.once=(s,o)=>{this.events.once(s,o)},this.off=(s,o)=>{this.events.off(s,o)},this.removeListener=(s,o)=>{this.events.removeListener(s,o)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Je.generateChildLogger(t,this.name),this.clientId=""}get context(){return Je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let s=!1;try{s=this.getSubscription(e).topic===t}catch{}return s}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const s=this.topicMap.get(e);await Promise.all(s.map(async o=>await this.unsubscribeById(e,o,t)))}async unsubscribeById(e,t,s){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:s}});try{const o=cu(s);await this.rpcUnsubscribe(e,t,o);const u=$t("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,u),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:s}})}catch(o){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(o),o}}async rpcSubscribe(e,t){const s={method:Zs(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});try{await await cs(this.relayer.request(s),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(er.connection_stalled)}return vi(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,s={method:Zs(t.protocol).batchSubscribe,params:{topics:e.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});try{return await await cs(this.relayer.request(s),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(er.connection_stalled)}}rpcUnsubscribe(e,t,s){const o={method:Zs(s.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o}),this.relayer.request(o)}onSubscribe(e,t){this.setSubscription(e,Ou(_s({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,_s({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,s){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,s),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,_s({},t)),this.topicMap.set(t.topic,e),this.events.emit(zr.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:s}=fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const s=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(s.topic,e),this.events.emit(zr.deleted,Ou(_s({},s),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(zr.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const s=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(zr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);Jn(t)&&this.onBatchSubscribe(t.map((s,o)=>Ou(_s({},e[o]),{id:s})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(pi.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(er.connect,async()=>{await this.onConnect()}),this.relayer.on(er.disconnect,()=>{this.onDisconnect()}),this.events.on(zr.created,async e=>{const t=zr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(zr.deleted,async e=>{const t=zr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var a3=Object.defineProperty,rd=Object.getOwnPropertySymbols,u3=Object.prototype.hasOwnProperty,c3=Object.prototype.propertyIsEnumerable,nd=(n,e,t)=>e in n?a3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,f3=(n,e)=>{for(var t in e||(e={}))u3.call(e,t)&&nd(n,t,e[t]);if(rd)for(var t of rd(e))c3.call(e,t)&&nd(n,t,e[t]);return n};class h3 extends U_{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Qt.exports.EventEmitter,this.name=LE,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(s){throw this.logger.debug("Failed to Publish Request"),this.logger.error(s),s}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(er.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(er.error,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(cn.payload,this.onPayloadHandler),this.provider.on(cn.connect,this.onConnectHandler),this.provider.on(cn.disconnect,this.onDisconnectHandler),this.provider.on(cn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Je.generateChildLogger(e.logger,this.name):Je.pino(Je.getDefaultLoggerOptions({level:e.logger||NE})),this.messages=new QE(this.logger,e.core),this.subscriber=new o3(this,this.logger),this.publisher=new ZE(this,this.logger),this.relayUrl=e?.relayUrl||Xl,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Ql}...`),await this.restartTransport(Ql)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},ME)}get context(){return Je.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,s){this.isInitialized(),await this.publisher.publish(e,t,s),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var s;this.isInitialized();let o=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"";if(o)return o;let u;const c=l=>{l.topic===e&&(this.subscriber.off(zr.created,c),u())};return await Promise.all([new Promise(l=>{u=l,this.subscriber.on(zr.created,c)}),new Promise(async l=>{o=await this.subscriber.subscribe(e,t),l()})]),o}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await cs(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once(zr.resubscribed,()=>{t()})}),new Promise(async(t,s)=>{try{await cs(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(o){s(o);return}t()})])}catch(t){this.logger.error(t);const s=t;if(!this.isConnectionStalled(s.message))throw t;this.provider.events.emit(cn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await dl())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new un(new Yb(dw({sdkVersion:UE,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:s}=e;await this.messages.set(t,s)}async shouldIgnoreMessageEvent(e){const{topic:t,message:s}=e;if(!s||s.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${s}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const o=this.messages.has(t,s);return o&&this.logger.debug(`Ignoring duplicate message: ${s}`),o}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),wu(e)){if(!e.method.endsWith(FE))return;const t=e.params,{topic:s,message:o,publishedAt:u}=t.data,c={topic:s,message:o,publishedAt:u};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(f3({type:"event",event:t.id},c)),this.events.emit(t.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else io(e)&&this.events.emit(er.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(er.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=vu(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(cn.payload,this.onPayloadHandler),this.provider.off(cn.connect,this.onConnectHandler),this.provider.off(cn.disconnect,this.onDisconnectHandler),this.provider.off(cn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(er.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await dl();sb(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(s=>this.logger.error(s)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(s=>this.logger.error(s))))})}onProviderDisconnect(){this.events.emit(er.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},ye.toMiliseconds($E)))}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var l3=Object.defineProperty,id=Object.getOwnPropertySymbols,d3=Object.prototype.hasOwnProperty,p3=Object.prototype.propertyIsEnumerable,sd=(n,e,t)=>e in n?l3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,od=(n,e)=>{for(var t in e||(e={}))d3.call(e,t)&&sd(n,t,e[t]);if(id)for(var t of id(e))p3.call(e,t)&&sd(n,t,e[t]);return n};class ao extends M_{constructor(e,t,s,o=On,u=void 0){super(e,t,s,o),this.core=e,this.logger=t,this.name=s,this.map=new Map,this.version=qE,this.cached=[],this.initialized=!1,this.storagePrefix=On,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!or(c)?this.map.set(this.getKey(c),c):$w(c)?this.map.set(c.id,c):Uw(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,l)=>{this.isInitialized(),this.map.has(c)?await this.update(c,l):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:l}),this.map.set(c,l),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(l=>Object.keys(c).every(_=>Jb(l[_],c[_]))):this.values),this.update=async(c,l)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:l});const _=od(od({},this.getData(c)),l);this.map.set(c,_),await this.persist()},this.delete=async(c,l)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:l}),this.map.delete(c),await this.persist())},this.logger=Je.generateChildLogger(t,this.name),this.storagePrefix=o,this.getKey=u}get context(){return Je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:s}=fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class g3{constructor(e,t){this.core=e,this.logger=t,this.name=KE,this.version=GE,this.events=new Qt.exports,this.initialized=!1,this.storagePrefix=On,this.ignoredPayloadTypes=[kn],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:s})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...s])]},this.create=async()=>{this.isInitialized();const s=ou(),o=await this.core.crypto.setSymKey(s),u=Hr(ye.FIVE_MINUTES),c={protocol:Jl},l={topic:o,expiry:u,relay:c,active:!1},_=Ow({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:s,relay:c});return await this.pairings.set(o,l),await this.core.relayer.subscribe(o),this.core.expirer.set(o,u),{topic:o,uri:_}},this.pair=async s=>{this.isInitialized(),this.isValidPair(s);const{topic:o,symKey:u,relay:c}=Sw(s.uri);let l;if(this.pairings.keys.includes(o)&&(l=this.pairings.get(o),l.active))throw new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);this.core.crypto.keychain.has(o)||(await this.core.crypto.setSymKey(u,o),await this.core.relayer.subscribe(o,{relay:c}));const _=Hr(ye.FIVE_MINUTES),p={topic:o,relay:c,expiry:_,active:!1};return await this.pairings.set(o,p),this.core.expirer.set(o,_),s.activatePairing&&await this.activate({topic:o}),this.events.emit(gs.create,p),p},this.activate=async({topic:s})=>{this.isInitialized();const o=Hr(ye.THIRTY_DAYS);await this.pairings.update(s,{active:!0,expiry:o}),this.core.expirer.set(s,o)},this.ping=async s=>{this.isInitialized(),await this.isValidPing(s);const{topic:o}=s;if(this.pairings.keys.includes(o)){const u=await this.sendRequest(o,"wc_pairingPing",{}),{done:c,resolve:l,reject:_}=wi();this.events.once(Ft("pairing_ping",u),({error:p})=>{p?_(p):l()}),await c()}},this.updateExpiry=async({topic:s,expiry:o})=>{this.isInitialized(),await this.pairings.update(s,{expiry:o})},this.updateMetadata=async({topic:s,metadata:o})=>{this.isInitialized(),await this.pairings.update(s,{peerMetadata:o})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async s=>{this.isInitialized(),await this.isValidDisconnect(s);const{topic:o}=s;this.pairings.keys.includes(o)&&(await this.sendRequest(o,"wc_pairingDelete",$t("USER_DISCONNECTED")),await this.deletePairing(o))},this.sendRequest=async(s,o,u)=>{const c=Ei(o,u),l=await this.core.crypto.encode(s,c),_=ps[o].req;return this.core.history.set(s,c),this.core.relayer.publish(s,l,_),c.id},this.sendResult=async(s,o,u)=>{const c=vu(s,u),l=await this.core.crypto.encode(o,c),_=await this.core.history.get(o,s),p=ps[_.request.method].res;await this.core.relayer.publish(o,l,p),await this.core.history.resolve(c)},this.sendError=async(s,o,u)=>{const c=no(s,u),l=await this.core.crypto.encode(o,c),_=await this.core.history.get(o,s),p=ps[_.request.method]?ps[_.request.method].res:ps.unregistered_method.res;await this.core.relayer.publish(o,l,p),await this.core.history.resolve(c)},this.deletePairing=async(s,o)=>{await this.core.relayer.unsubscribe(s),await Promise.all([this.pairings.delete(s,$t("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(s),o?Promise.resolve():this.core.expirer.del(s)])},this.cleanup=async()=>{const s=this.pairings.getAll().filter(o=>xn(o.expiry));await Promise.all(s.map(o=>this.deletePairing(o.topic)))},this.onRelayEventRequest=s=>{const{topic:o,payload:u}=s;switch(u.method){case"wc_pairingPing":return this.onPairingPingRequest(o,u);case"wc_pairingDelete":return this.onPairingDeleteRequest(o,u);default:return this.onUnknownRpcMethodRequest(o,u)}},this.onRelayEventResponse=async s=>{const{topic:o,payload:u}=s,c=(await this.core.history.get(o,u.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(o,u);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(s,o)=>{const{id:u}=o;try{this.isValidPing({topic:s}),await this.sendResult(u,s,!0),this.events.emit(gs.ping,{id:u,topic:s})}catch(c){await this.sendError(u,s,c),this.logger.error(c)}},this.onPairingPingResponse=(s,o)=>{const{id:u}=o;setTimeout(()=>{an(o)?this.events.emit(Ft("pairing_ping",u),{}):jr(o)&&this.events.emit(Ft("pairing_ping",u),{error:o.error})},500)},this.onPairingDeleteRequest=async(s,o)=>{const{id:u}=o;try{this.isValidDisconnect({topic:s}),await this.deletePairing(s),this.events.emit(gs.delete,{id:u,topic:s})}catch(c){await this.sendError(u,s,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(s,o)=>{const{id:u,method:c}=o;try{if(this.registeredMethods.includes(c))return;const l=$t("WC_METHOD_UNSUPPORTED",c);await this.sendError(u,s,l),this.logger.error(l)}catch(l){await this.sendError(u,s,l),this.logger.error(l)}},this.onUnknownRpcMethodResponse=s=>{this.registeredMethods.includes(s)||this.logger.error($t("WC_METHOD_UNSUPPORTED",s))},this.isValidPair=s=>{if(!gr(s)){const{message:o}=fe("MISSING_OR_INVALID",`pair() params: ${s}`);throw new Error(o)}if(!Fw(s.uri)){const{message:o}=fe("MISSING_OR_INVALID",`pair() uri: ${s.uri}`);throw new Error(o)}},this.isValidPing=async s=>{if(!gr(s)){const{message:u}=fe("MISSING_OR_INVALID",`ping() params: ${s}`);throw new Error(u)}const{topic:o}=s;await this.isValidPairingTopic(o)},this.isValidDisconnect=async s=>{if(!gr(s)){const{message:u}=fe("MISSING_OR_INVALID",`disconnect() params: ${s}`);throw new Error(u)}const{topic:o}=s;await this.isValidPairingTopic(o)},this.isValidPairingTopic=async s=>{if(!Wt(s,!1)){const{message:o}=fe("MISSING_OR_INVALID",`pairing topic should be a string: ${s}`);throw new Error(o)}if(!this.pairings.keys.includes(s)){const{message:o}=fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${s}`);throw new Error(o)}if(xn(this.pairings.get(s).expiry)){await this.deletePairing(s);const{message:o}=fe("EXPIRED",`pairing topic: ${s}`);throw new Error(o)}},this.core=e,this.logger=Je.generateChildLogger(t,this.name),this.pairings=new ao(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Je.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(er.message,async e=>{const{topic:t,message:s}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(s)))return;const o=await this.core.crypto.decode(t,s);try{wu(o)?(this.core.history.set(t,o),this.onRelayEventRequest({topic:t,payload:o})):io(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:t,payload:o}),this.core.history.delete(t,o.id))}catch(u){this.logger.error(u)}})}registerExpirerEvents(){this.core.expirer.on(Tr.expired,async e=>{const{topic:t}=il(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(gs.expire,{topic:t}))})}}class _3 extends L_{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new Qt.exports.EventEmitter,this.name=WE,this.version=VE,this.cached=[],this.initialized=!1,this.storagePrefix=On,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.records.set(s.id,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(s,o,u)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:s,request:o,chainId:u}),this.records.has(o.id))return;const c={id:o.id,topic:s,request:{method:o.method,params:o.params||null},chainId:u,expiry:Hr(ye.THIRTY_DAYS)};this.records.set(c.id,c),this.events.emit(Xr.created,c)},this.resolve=async s=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:s}),!this.records.has(s.id))return;const o=await this.getRecord(s.id);typeof o.response>"u"&&(o.response=jr(s)?{error:s.error}:{result:s.result},this.records.set(o.id,o),this.events.emit(Xr.updated,o))},this.get=async(s,o)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:s,id:o}),await this.getRecord(o)),this.delete=(s,o)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:o}),this.values.forEach(u=>{if(u.topic===s){if(typeof o<"u"&&u.id!==o)return;this.records.delete(u.id),this.events.emit(Xr.deleted,u)}})},this.exists=async(s,o)=>(this.isInitialized(),this.records.has(o)?(await this.getRecord(o)).topic===s:!1),this.on=(s,o)=>{this.events.on(s,o)},this.once=(s,o)=>{this.events.once(s,o)},this.off=(s,o)=>{this.events.off(s,o)},this.removeListener=(s,o)=>{this.events.removeListener(s,o)},this.logger=Je.generateChildLogger(t,this.name)}get context(){return Je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const s={topic:t.topic,request:Ei(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(s)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:s}=fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Xr.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Xr.created,e=>{const t=Xr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Xr.updated,e=>{const t=Xr.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Xr.deleted,e=>{const t=Xr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(pi.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{ye.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class y3 extends B_{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new Qt.exports.EventEmitter,this.name=kE,this.version=YE,this.cached=[],this.initialized=!1,this.storagePrefix=On,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.expirations.set(s.target,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=s=>{try{const o=this.formatTarget(s);return typeof this.getExpiration(o)<"u"}catch{return!1}},this.set=(s,o)=>{this.isInitialized();const u=this.formatTarget(s),c={target:u,expiry:o};this.expirations.set(u,c),this.checkExpiry(u,c),this.events.emit(Tr.created,{target:u,expiration:c})},this.get=s=>{this.isInitialized();const o=this.formatTarget(s);return this.getExpiration(o)},this.del=s=>{if(this.isInitialized(),this.has(s)){const o=this.formatTarget(s),u=this.getExpiration(o);this.expirations.delete(o),this.events.emit(Tr.deleted,{target:o,expiration:u})}},this.on=(s,o)=>{this.events.on(s,o)},this.once=(s,o)=>{this.events.once(s,o)},this.off=(s,o)=>{this.events.off(s,o)},this.removeListener=(s,o)=>{this.events.removeListener(s,o)},this.logger=Je.generateChildLogger(t,this.name)}get context(){return Je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return pw(e);if(typeof e=="number")return gw(e);const{message:t}=fe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Tr.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:s}=fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return t}checkExpiry(e,t){const{expiry:s}=t;ye.toMiliseconds(s)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Tr.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(pi.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Tr.created,e=>{const t=Tr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Tr.expired,e=>{const t=Tr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Tr.deleted,e=>{const t=Tr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class v3 extends H_{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=xu,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async()=>{if(this.verifyDisabled||os()||!as())return;const s=oo;this.verifyUrl!==s&&this.removeIframe(),this.verifyUrl=s;try{await this.createIframe()}catch(o){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(o)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Zl;try{await this.createIframe()}catch(o){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(o),this.verifyDisabled=!0}}},this.register=async s=>{this.initialized?this.sendPost(s.attestationId):(this.addToQueue(s.attestationId),await this.init())},this.resolve=async s=>{if(this.isDevEnv)return"";const o=s?.verifyUrl||oo;let u;try{u=await this.fetchAttestation(s.attestationId,o)}catch(c){this.logger.info(`failed to resolve attestation: ${s.attestationId} from url: ${o}`),this.logger.info(c),u=await this.fetchAttestation(s.attestationId,Zl)}return u},this.fetchAttestation=async(s,o)=>{this.logger.info(`resolving attestation: ${s} from url: ${o}`);const u=this.startAbortTimer(ye.ONE_SECOND*2),c=await fetch(`${o}/attestation/${s}`,{signal:this.abortController.signal});return clearTimeout(u),c.status===200?await c.json():void 0},this.addToQueue=s=>{this.queue.push(s)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(s=>this.sendPost(s)),this.queue=[])},this.sendPost=s=>{var o;try{if(!this.iframe)return;(o=this.iframe.contentWindow)==null||o.postMessage(s,"*"),this.logger.info(`postMessage sent: ${s} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let s;const o=u=>{u.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",o),s())};await Promise.race([new Promise(u=>{if(document.getElementById(xu))return u();window.addEventListener("message",o);const c=document.createElement("iframe");c.id=xu,c.src=`${this.verifyUrl}/${this.projectId}`,c.style.display="none",document.body.append(c),this.iframe=c,s=u}),new Promise((u,c)=>setTimeout(()=>{window.removeEventListener("message",o),c("verify iframe load timeout")},ye.toMiliseconds(ye.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.logger=Je.generateChildLogger(t,this.name),this.verifyUrl=oo,this.abortController=new AbortController,this.isDevEnv=au()&&process.env.IS_VITEST}get context(){return Je.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ye.toMiliseconds(e))}}var w3=Object.defineProperty,ad=Object.getOwnPropertySymbols,b3=Object.prototype.hasOwnProperty,m3=Object.prototype.propertyIsEnumerable,ud=(n,e,t)=>e in n?w3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cd=(n,e)=>{for(var t in e||(e={}))b3.call(e,t)&&ud(n,t,e[t]);if(ad)for(var t of ad(e))m3.call(e,t)&&ud(n,t,e[t]);return n};class Iu extends N_{constructor(e){super(e),this.protocol=kl,this.version=EE,this.name=Du,this.events=new Qt.exports.EventEmitter,this.initialized=!1,this.on=(s,o)=>this.events.on(s,o),this.once=(s,o)=>this.events.once(s,o),this.off=(s,o)=>this.events.off(s,o),this.removeListener=(s,o)=>this.events.removeListener(s,o),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Xl,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Je.pino(Je.getDefaultLoggerOptions({level:e?.logger||SE.logger}));this.logger=Je.generateChildLogger(t,this.name),this.heartbeat=new pi.HeartBeat,this.crypto=new XE(this,this.logger,e?.keychain),this.history=new _3(this,this.logger),this.expirer=new y3(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new c0(cd(cd({},DE),e?.storageOptions)),this.relayer=new h3({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new g3(this,this.logger),this.verify=new v3(this.projectId||"",this.logger)}static async init(e){const t=new Iu(e);await t.initialize();const s=await t.crypto.getClientId();return await t.storage.setItem(BE,s),t}get context(){return Je.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const E3=Iu,fd="wc",hd=2,ld="client",Pu=`${fd}@${hd}:${ld}:`,Au={name:ld,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},dd="WALLETCONNECT_DEEPLINK_CHOICE",S3="proposal",pd="Proposal expired",D3="session",uo=ye.SEVEN_DAYS,x3="engine",ys={wc_sessionPropose:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1115}}},Cu={min:ye.FIVE_MINUTES,max:ye.SEVEN_DAYS},fn={idle:"IDLE",active:"ACTIVE"},O3="request",I3=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var P3=Object.defineProperty,A3=Object.defineProperties,C3=Object.getOwnPropertyDescriptors,gd=Object.getOwnPropertySymbols,T3=Object.prototype.hasOwnProperty,R3=Object.prototype.propertyIsEnumerable,_d=(n,e,t)=>e in n?P3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_r=(n,e)=>{for(var t in e||(e={}))T3.call(e,t)&&_d(n,t,e[t]);if(gd)for(var t of gd(e))R3.call(e,t)&&_d(n,t,e[t]);return n},vs=(n,e)=>A3(n,C3(e));class N3 extends z_{constructor(e){super(e),this.name=x3,this.events=new Qt.exports,this.initialized=!1,this.ignoredPayloadTypes=[kn],this.requestQueue={state:fn.idle,queue:[]},this.sessionRequestQueue={state:fn.idle,queue:[]},this.requestQueueDelay=ye.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(ys)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const s=vs(_r({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(s);const{pairingTopic:o,requiredNamespaces:u,optionalNamespaces:c,sessionProperties:l,relays:_}=s;let p=o,m,I=!1;if(p&&(I=this.client.core.pairing.pairings.get(p).active),!p||!I){const{topic:M,uri:x}=await this.client.core.pairing.create();p=M,m=x}const D=await this.client.core.crypto.generateKeyPair(),T=_r({requiredNamespaces:u,optionalNamespaces:c,relays:_??[{protocol:Jl}],proposer:{publicKey:D,metadata:this.client.metadata}},l&&{sessionProperties:l}),{reject:R,resolve:j,done:K}=wi(ye.FIVE_MINUTES,pd);if(this.events.once(Ft("session_connect"),async({error:M,session:x})=>{if(M)R(M);else if(x){x.self.publicKey=D;const C=vs(_r({},x),{requiredNamespaces:x.requiredNamespaces,optionalNamespaces:x.optionalNamespaces});await this.client.session.set(x.topic,C),await this.setExpiry(x.topic,x.expiry),p&&await this.client.core.pairing.updateMetadata({topic:p,metadata:x.peer.metadata}),j(C)}}),!p){const{message:M}=fe("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(M)}const se=await this.sendRequest({topic:p,method:"wc_sessionPropose",params:T}),L=Hr(ye.FIVE_MINUTES);return await this.setProposal(se,_r({id:se,expiry:L},T)),{uri:m,approval:K}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);const{id:s,relayProtocol:o,namespaces:u,sessionProperties:c}=t,l=this.client.proposal.get(s);let{pairingTopic:_,proposer:p,requiredNamespaces:m,optionalNamespaces:I}=l;_=_||"",mi(m)||(m=Cw(u,"approve()"));const D=await this.client.core.crypto.generateKeyPair(),T=p.publicKey,R=await this.client.core.crypto.generateSharedKey(D,T);_&&s&&(await this.client.core.pairing.updateMetadata({topic:_,metadata:p.metadata}),await this.sendResult({id:s,topic:_,result:{relay:{protocol:o??"irn"},responderPublicKey:D}}),await this.client.proposal.delete(s,$t("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:_}));const j=_r({relay:{protocol:o??"irn"},namespaces:u,requiredNamespaces:m,optionalNamespaces:I,pairingTopic:_,controller:{publicKey:D,metadata:this.client.metadata},expiry:Hr(uo)},c&&{sessionProperties:c});await this.client.core.relayer.subscribe(R),await this.sendRequest({topic:R,method:"wc_sessionSettle",params:j,throwOnFailedPublish:!0});const K=vs(_r({},j),{topic:R,pairingTopic:_,acknowledged:!1,self:j.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:D});return await this.client.session.set(R,K),await this.setExpiry(R,Hr(uo)),{topic:R,acknowledged:()=>new Promise(se=>setTimeout(()=>se(this.client.session.get(R)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);const{id:s,reason:o}=t,{pairingTopic:u}=this.client.proposal.get(s);u&&(await this.sendError(s,u,o),await this.client.proposal.delete(s,$t("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);const{topic:s,namespaces:o}=t,u=await this.sendRequest({topic:s,method:"wc_sessionUpdate",params:{namespaces:o}}),{done:c,resolve:l,reject:_}=wi();return this.events.once(Ft("session_update",u),({error:p})=>{p?_(p):l()}),await this.client.session.update(s,{namespaces:o}),{acknowledged:c}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);const{topic:s}=t,o=await this.sendRequest({topic:s,method:"wc_sessionExtend",params:{}}),{done:u,resolve:c,reject:l}=wi();return this.events.once(Ft("session_extend",o),({error:_})=>{_?l(_):c()}),await this.setExpiry(s,Hr(uo)),{acknowledged:u}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);const{chainId:s,request:o,topic:u,expiry:c}=t,l=yu(),{done:_,resolve:p,reject:m}=wi(c,"Request expired. Please try again.");return this.events.once(Ft("session_request",l),({error:I,result:D})=>{I?m(I):p(D)}),await Promise.all([new Promise(async I=>{await this.sendRequest({clientRpcId:l,topic:u,method:"wc_sessionRequest",params:{request:o,chainId:s},expiry:c,throwOnFailedPublish:!0}).catch(D=>m(D)),this.client.events.emit("session_request_sent",{topic:u,request:o,chainId:s,id:l}),I()}),new Promise(async I=>{const D=await this.client.core.storage.getItem(dd);_w({id:l,topic:u,wcDeepLink:D}),I()}),_()]).then(I=>I[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:s,response:o}=t,{id:u}=o;an(o)?await this.sendResult({id:u,topic:s,result:o.result,throwOnFailedPublish:!0}):jr(o)&&await this.sendError(u,s,o.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);const{topic:s}=t;if(this.client.session.keys.includes(s)){const o=await this.sendRequest({topic:s,method:"wc_sessionPing",params:{}}),{done:u,resolve:c,reject:l}=wi();this.events.once(Ft("session_ping",o),({error:_})=>{_?l(_):c()}),await u()}else this.client.core.pairing.pairings.keys.includes(s)&&await this.client.core.pairing.ping({topic:s})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:s,event:o,chainId:u}=t;await this.sendRequest({topic:s,method:"wc_sessionEvent",params:{event:o,chainId:u}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:s}=t;this.client.session.keys.includes(s)?(await this.sendRequest({topic:s,method:"wc_sessionDelete",params:$t("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(s)):await this.client.core.pairing.disconnect({topic:s})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(s=>Nw(s,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const s=this.client.core.pairing.pairings.get(t.pairingTopic),o=this.client.core.pairing.pairings.getAll().filter(u=>{var c,l;return((c=u.peerMetadata)==null?void 0:c.url)&&((l=u.peerMetadata)==null?void 0:l.url)===t.peer.metadata.url&&u.topic&&u.topic!==s.topic});if(o.length===0)return;this.client.logger.info(`Cleaning up ${o.length} duplicate pairing(s)`),await Promise.all(o.map(u=>this.client.core.pairing.disconnect({topic:u.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(s){this.client.logger.error(s)}},this.deleteSession=async(t,s)=>{const{self:o}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,$t("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),s||this.client.core.expirer.del(t),this.client.core.storage.removeItem(dd).catch(u=>this.client.logger.warn(u))},this.deleteProposal=async(t,s)=>{await Promise.all([this.client.proposal.delete(t,$t("USER_DISCONNECTED")),s?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,s,o=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,s),o?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(u=>u.id!==t),o&&(this.sessionRequestQueue.state=fn.idle)},this.setExpiry=async(t,s)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:s}),this.client.core.expirer.set(t,s)},this.setProposal=async(t,s)=>{await this.client.proposal.set(t,s),this.client.core.expirer.set(t,s.expiry)},this.setPendingSessionRequest=async t=>{const s=ys.wc_sessionRequest.req.ttl,{id:o,topic:u,params:c,verifyContext:l}=t;await this.client.pendingRequest.set(o,{id:o,topic:u,params:c,verifyContext:l}),s&&this.client.core.expirer.set(o,Hr(s))},this.sendRequest=async t=>{const{topic:s,method:o,params:u,expiry:c,relayRpcId:l,clientRpcId:_,throwOnFailedPublish:p}=t,m=Ei(o,u,_);if(as()&&I3.includes(o)){const T=vi(JSON.stringify(m));this.client.core.verify.register({attestationId:T})}const I=await this.client.core.crypto.encode(s,m),D=ys[o].req;return c&&(D.ttl=c),l&&(D.id=l),this.client.core.history.set(s,m),p?(D.internal=vs(_r({},D.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,I,D)):this.client.core.relayer.publish(s,I,D).catch(T=>this.client.logger.error(T)),m.id},this.sendResult=async t=>{const{id:s,topic:o,result:u,throwOnFailedPublish:c}=t,l=vu(s,u),_=await this.client.core.crypto.encode(o,l),p=await this.client.core.history.get(o,s),m=ys[p.request.method].res;c?(m.internal=vs(_r({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(o,_,m)):this.client.core.relayer.publish(o,_,m).catch(I=>this.client.logger.error(I)),await this.client.core.history.resolve(l)},this.sendError=async(t,s,o)=>{const u=no(t,o),c=await this.client.core.crypto.encode(s,u),l=await this.client.core.history.get(s,t),_=ys[l.request.method].res;this.client.core.relayer.publish(s,c,_),await this.client.core.history.resolve(u)},this.cleanup=async()=>{const t=[],s=[];this.client.session.getAll().forEach(o=>{xn(o.expiry)&&t.push(o.topic)}),this.client.proposal.getAll().forEach(o=>{xn(o.expiry)&&s.push(o.id)}),await Promise.all([...t.map(o=>this.deleteSession(o)),...s.map(o=>this.deleteProposal(o))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===fn.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=fn.active;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(s=>setTimeout(s,300))}catch(s){this.client.logger.warn(s)}}this.requestQueue.state=fn.idle},this.processRequest=t=>{const{topic:s,payload:o}=t,u=o.method;switch(u){case"wc_sessionPropose":return this.onSessionProposeRequest(s,o);case"wc_sessionSettle":return this.onSessionSettleRequest(s,o);case"wc_sessionUpdate":return this.onSessionUpdateRequest(s,o);case"wc_sessionExtend":return this.onSessionExtendRequest(s,o);case"wc_sessionPing":return this.onSessionPingRequest(s,o);case"wc_sessionDelete":return this.onSessionDeleteRequest(s,o);case"wc_sessionRequest":return this.onSessionRequest(s,o);case"wc_sessionEvent":return this.onSessionEventRequest(s,o);default:return this.client.logger.info(`Unsupported request method ${u}`)}},this.onRelayEventResponse=async t=>{const{topic:s,payload:o}=t,u=(await this.client.core.history.get(s,o.id)).request.method;switch(u){case"wc_sessionPropose":return this.onSessionProposeResponse(s,o);case"wc_sessionSettle":return this.onSessionSettleResponse(s,o);case"wc_sessionUpdate":return this.onSessionUpdateResponse(s,o);case"wc_sessionExtend":return this.onSessionExtendResponse(s,o);case"wc_sessionPing":return this.onSessionPingResponse(s,o);case"wc_sessionRequest":return this.onSessionRequestResponse(s,o);default:return this.client.logger.info(`Unsupported response method ${u}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:s}=t,{message:o}=fe("MISSING_OR_INVALID",`Decoded payload on topic ${s} is not identifiable as a JSON-RPC request or a response.`);throw new Error(o)},this.onSessionProposeRequest=async(t,s)=>{const{params:o,id:u}=s;try{this.isValidConnect(_r({},s.params));const c=Hr(ye.FIVE_MINUTES),l=_r({id:u,pairingTopic:t,expiry:c},o);await this.setProposal(u,l);const _=vi(JSON.stringify(s)),p=await this.getVerifyContext(_,l.proposer.metadata);this.client.events.emit("session_proposal",{id:u,params:l,verifyContext:p})}catch(c){await this.sendError(u,t,c),this.client.logger.error(c)}},this.onSessionProposeResponse=async(t,s)=>{const{id:o}=s;if(an(s)){const{result:u}=s;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:u});const c=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const l=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const _=u.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:_});const p=await this.client.core.crypto.generateSharedKey(l,_);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:p});const m=await this.client.core.relayer.subscribe(p);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:m}),await this.client.core.pairing.activate({topic:t})}else jr(s)&&(await this.client.proposal.delete(o,$t("USER_DISCONNECTED")),this.events.emit(Ft("session_connect"),{error:s.error}))},this.onSessionSettleRequest=async(t,s)=>{const{id:o,params:u}=s;try{this.isValidSessionSettleRequest(u);const{relay:c,controller:l,expiry:_,namespaces:p,requiredNamespaces:m,optionalNamespaces:I,sessionProperties:D,pairingTopic:T}=s.params,R=_r({topic:t,relay:c,expiry:_,namespaces:p,acknowledged:!0,pairingTopic:T,requiredNamespaces:m,optionalNamespaces:I,controller:l.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:l.publicKey,metadata:l.metadata}},D&&{sessionProperties:D});await this.sendResult({id:s.id,topic:t,result:!0}),this.events.emit(Ft("session_connect"),{session:R}),this.cleanupDuplicatePairings(R)}catch(c){await this.sendError(o,t,c),this.client.logger.error(c)}},this.onSessionSettleResponse=async(t,s)=>{const{id:o}=s;an(s)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(Ft("session_approve",o),{})):jr(s)&&(await this.client.session.delete(t,$t("USER_DISCONNECTED")),this.events.emit(Ft("session_approve",o),{error:s.error}))},this.onSessionUpdateRequest=async(t,s)=>{const{params:o,id:u}=s;try{const c=`${t}_session_update`,l=ro.get(c);if(l&&this.isRequestOutOfSync(l,u)){this.client.logger.info(`Discarding out of sync request - ${u}`);return}this.isValidUpdate(_r({topic:t},o)),await this.client.session.update(t,{namespaces:o.namespaces}),await this.sendResult({id:u,topic:t,result:!0}),this.client.events.emit("session_update",{id:u,topic:t,params:o}),ro.set(c,u)}catch(c){await this.sendError(u,t,c),this.client.logger.error(c)}},this.isRequestOutOfSync=(t,s)=>parseInt(s.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,s)=>{const{id:o}=s;an(s)?this.events.emit(Ft("session_update",o),{}):jr(s)&&this.events.emit(Ft("session_update",o),{error:s.error})},this.onSessionExtendRequest=async(t,s)=>{const{id:o}=s;try{this.isValidExtend({topic:t}),await this.setExpiry(t,Hr(uo)),await this.sendResult({id:o,topic:t,result:!0}),this.client.events.emit("session_extend",{id:o,topic:t})}catch(u){await this.sendError(o,t,u),this.client.logger.error(u)}},this.onSessionExtendResponse=(t,s)=>{const{id:o}=s;an(s)?this.events.emit(Ft("session_extend",o),{}):jr(s)&&this.events.emit(Ft("session_extend",o),{error:s.error})},this.onSessionPingRequest=async(t,s)=>{const{id:o}=s;try{this.isValidPing({topic:t}),await this.sendResult({id:o,topic:t,result:!0}),this.client.events.emit("session_ping",{id:o,topic:t})}catch(u){await this.sendError(o,t,u),this.client.logger.error(u)}},this.onSessionPingResponse=(t,s)=>{const{id:o}=s;setTimeout(()=>{an(s)?this.events.emit(Ft("session_ping",o),{}):jr(s)&&this.events.emit(Ft("session_ping",o),{error:s.error})},500)},this.onSessionDeleteRequest=async(t,s)=>{const{id:o}=s;try{this.isValidDisconnect({topic:t,reason:s.params}),await Promise.all([new Promise(u=>{this.client.core.relayer.once(er.publish,async()=>{u(await this.deleteSession(t))})}),this.sendResult({id:o,topic:t,result:!0})]),this.client.events.emit("session_delete",{id:o,topic:t})}catch(u){this.client.logger.error(u)}},this.onSessionRequest=async(t,s)=>{const{id:o,params:u}=s;try{this.isValidRequest(_r({topic:t},u));const c=vi(JSON.stringify(Ei("wc_sessionRequest",u,o))),l=this.client.session.get(t),_=await this.getVerifyContext(c,l.peer.metadata),p={id:o,topic:t,params:u,verifyContext:_};await this.setPendingSessionRequest(p),this.addSessionRequestToSessionRequestQueue(p),this.processSessionRequestQueue()}catch(c){await this.sendError(o,t,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(t,s)=>{const{id:o}=s;an(s)?this.events.emit(Ft("session_request",o),{result:s.result}):jr(s)&&this.events.emit(Ft("session_request",o),{error:s.error})},this.onSessionEventRequest=async(t,s)=>{const{id:o,params:u}=s;try{const c=`${t}_session_event_${u.event.name}`,l=ro.get(c);if(l&&this.isRequestOutOfSync(l,o)){this.client.logger.info(`Discarding out of sync request - ${o}`);return}this.isValidEmit(_r({topic:t},u)),this.client.events.emit("session_event",{id:o,topic:t,params:u}),ro.set(c,o)}catch(c){await this.sendError(o,t,c),this.client.logger.error(c)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=fn.idle,this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===fn.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=fn.active,this.client.events.emit("session_request",t)}catch(s){this.client.logger.error(s)}},this.onPairingCreated=t=>{if(t.active)return;const s=this.client.proposal.getAll().find(o=>o.pairingTopic===t.topic);s&&this.onSessionProposeRequest(t.topic,Ei("wc_sessionPropose",{requiredNamespaces:s.requiredNamespaces,optionalNamespaces:s.optionalNamespaces,relays:s.relays,proposer:s.proposer},s.id))},this.isValidConnect=async t=>{if(!gr(t)){const{message:_}=fe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(_)}const{pairingTopic:s,requiredNamespaces:o,optionalNamespaces:u,sessionProperties:c,relays:l}=t;if(or(s)||await this.isValidPairingTopic(s),!Gw(l,!0)){const{message:_}=fe("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(_)}!or(o)&&mi(o)!==0&&this.validateNamespaces(o,"requiredNamespaces"),!or(u)&&mi(u)!==0&&this.validateNamespaces(u,"optionalNamespaces"),or(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(t,s)=>{const o=Kw(t,"connect()",s);if(o)throw new Error(o.message)},this.isValidApprove=async t=>{if(!gr(t))throw new Error(fe("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:s,namespaces:o,relayProtocol:u,sessionProperties:c}=t;await this.isValidProposalId(s);const l=this.client.proposal.get(s),_=to(o,"approve()");if(_)throw new Error(_.message);const p=hl(l.requiredNamespaces,o,"approve()");if(p)throw new Error(p.message);if(!Wt(u,!0)){const{message:m}=fe("MISSING_OR_INVALID",`approve() relayProtocol: ${u}`);throw new Error(m)}or(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async t=>{if(!gr(t)){const{message:u}=fe("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(u)}const{id:s,reason:o}=t;if(await this.isValidProposalId(s),!Vw(o)){const{message:u}=fe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(o)}`);throw new Error(u)}},this.isValidSessionSettleRequest=t=>{if(!gr(t)){const{message:p}=fe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(p)}const{relay:s,controller:o,namespaces:u,expiry:c}=t;if(!cl(s)){const{message:p}=fe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(p)}const l=Mw(o,"onSessionSettleRequest()");if(l)throw new Error(l.message);const _=to(u,"onSessionSettleRequest()");if(_)throw new Error(_.message);if(xn(c)){const{message:p}=fe("EXPIRED","onSessionSettleRequest()");throw new Error(p)}},this.isValidUpdate=async t=>{if(!gr(t)){const{message:_}=fe("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(_)}const{topic:s,namespaces:o}=t;await this.isValidSessionTopic(s);const u=this.client.session.get(s),c=to(o,"update()");if(c)throw new Error(c.message);const l=hl(u.requiredNamespaces,o,"update()");if(l)throw new Error(l.message)},this.isValidExtend=async t=>{if(!gr(t)){const{message:o}=fe("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(o)}const{topic:s}=t;await this.isValidSessionTopic(s)},this.isValidRequest=async t=>{if(!gr(t)){const{message:_}=fe("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(_)}const{topic:s,request:o,chainId:u,expiry:c}=t;await this.isValidSessionTopic(s);const{namespaces:l}=this.client.session.get(s);if(!fl(l,u)){const{message:_}=fe("MISSING_OR_INVALID",`request() chainId: ${u}`);throw new Error(_)}if(!kw(o)){const{message:_}=fe("MISSING_OR_INVALID",`request() ${JSON.stringify(o)}`);throw new Error(_)}if(!Xw(l,u,o.method)){const{message:_}=fe("MISSING_OR_INVALID",`request() method: ${o.method}`);throw new Error(_)}if(c&&!tb(c,Cu)){const{message:_}=fe("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${Cu.min} and ${Cu.max}`);throw new Error(_)}},this.isValidRespond=async t=>{if(!gr(t)){const{message:u}=fe("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(u)}const{topic:s,response:o}=t;if(await this.isValidSessionTopic(s),!Yw(o)){const{message:u}=fe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(u)}},this.isValidPing=async t=>{if(!gr(t)){const{message:o}=fe("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(o)}const{topic:s}=t;await this.isValidSessionOrPairingTopic(s)},this.isValidEmit=async t=>{if(!gr(t)){const{message:l}=fe("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(l)}const{topic:s,event:o,chainId:u}=t;await this.isValidSessionTopic(s);const{namespaces:c}=this.client.session.get(s);if(!fl(c,u)){const{message:l}=fe("MISSING_OR_INVALID",`emit() chainId: ${u}`);throw new Error(l)}if(!Jw(o)){const{message:l}=fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(o)}`);throw new Error(l)}if(!Qw(c,u,o.name)){const{message:l}=fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(o)}`);throw new Error(l)}},this.isValidDisconnect=async t=>{if(!gr(t)){const{message:o}=fe("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(o)}const{topic:s}=t;await this.isValidSessionOrPairingTopic(s)},this.getVerifyContext=async(t,s)=>{const o={verified:{verifyUrl:s.verifyUrl||oo,validation:"UNKNOWN",origin:s.url||""}};try{const u=await this.client.core.verify.resolve({attestationId:t,verifyUrl:s.verifyUrl});u&&(o.verified.origin=u.origin,o.verified.isScam=u.isScam,o.verified.validation=u.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.info(u)}return this.client.logger.info(`Verify context: ${JSON.stringify(o)}`),o},this.validateSessionProps=(t,s)=>{Object.values(t).forEach(o=>{if(!Wt(o,!1)){const{message:u}=fe("MISSING_OR_INVALID",`${s} must be in Record<string, string> format. Received: ${JSON.stringify(o)}`);throw new Error(u)}})}}async isInitialized(){if(!this.initialized){const{message:e}=fe("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(er.message,async e=>{const{topic:t,message:s}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(s)))return;const o=await this.client.core.crypto.decode(t,s);try{wu(o)?(this.client.core.history.set(t,o),this.onRelayEventRequest({topic:t,payload:o})):io(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:t,payload:o}),this.client.core.history.delete(t,o.id)):this.onRelayEventUnknownPayload({topic:t,payload:o})}catch(u){this.client.logger.error(u)}})}registerExpirerEvents(){this.client.core.expirer.on(Tr.expired,async e=>{const{topic:t,id:s}=il(e.target);if(s&&this.client.pendingRequest.keys.includes(s))return await this.deletePendingSessionRequest(s,fe("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):s&&(await this.deleteProposal(s,!0),this.client.events.emit("proposal_expire",{id:s}))})}registerPairingEvents(){this.client.core.pairing.events.on(gs.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!Wt(e,!1)){const{message:t}=fe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(xn(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=fe("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!Wt(e,!1)){const{message:t}=fe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=fe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(xn(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:t}=fe("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Wt(e,!1)){const{message:t}=fe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=fe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!Ww(e)){const{message:t}=fe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=fe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(xn(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:t}=fe("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class L3 extends ao{constructor(e,t){super(e,t,S3,Pu),this.core=e,this.logger=t}}class F3 extends ao{constructor(e,t){super(e,t,D3,Pu),this.core=e,this.logger=t}}class $3 extends ao{constructor(e,t){super(e,t,O3,Pu,s=>s.id),this.core=e,this.logger=t}}class Tu extends j_{constructor(e){super(e),this.protocol=fd,this.version=hd,this.name=Au.name,this.events=new Qt.exports.EventEmitter,this.on=(s,o)=>this.events.on(s,o),this.once=(s,o)=>this.events.once(s,o),this.off=(s,o)=>this.events.off(s,o),this.removeListener=(s,o)=>this.events.removeListener(s,o),this.removeAllListeners=s=>this.events.removeAllListeners(s),this.connect=async s=>{try{return await this.engine.connect(s)}catch(o){throw this.logger.error(o.message),o}},this.pair=async s=>{try{return await this.engine.pair(s)}catch(o){throw this.logger.error(o.message),o}},this.approve=async s=>{try{return await this.engine.approve(s)}catch(o){throw this.logger.error(o.message),o}},this.reject=async s=>{try{return await this.engine.reject(s)}catch(o){throw this.logger.error(o.message),o}},this.update=async s=>{try{return await this.engine.update(s)}catch(o){throw this.logger.error(o.message),o}},this.extend=async s=>{try{return await this.engine.extend(s)}catch(o){throw this.logger.error(o.message),o}},this.request=async s=>{try{return await this.engine.request(s)}catch(o){throw this.logger.error(o.message),o}},this.respond=async s=>{try{return await this.engine.respond(s)}catch(o){throw this.logger.error(o.message),o}},this.ping=async s=>{try{return await this.engine.ping(s)}catch(o){throw this.logger.error(o.message),o}},this.emit=async s=>{try{return await this.engine.emit(s)}catch(o){throw this.logger.error(o.message),o}},this.disconnect=async s=>{try{return await this.engine.disconnect(s)}catch(o){throw this.logger.error(o.message),o}},this.find=s=>{try{return this.engine.find(s)}catch(o){throw this.logger.error(o.message),o}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(s){throw this.logger.error(s.message),s}},this.name=e?.name||Au.name,this.metadata=e?.metadata||cw();const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Je.pino(Je.getDefaultLoggerOptions({level:e?.logger||Au.logger}));this.core=e?.core||new E3(e),this.logger=Je.generateChildLogger(t,this.name),this.session=new F3(this.core,this.logger),this.proposal=new L3(this.core,this.logger),this.pendingRequest=new $3(this.core,this.logger),this.engine=new N3(this)}static async init(e){const t=new Tu(e);return await t.initialize(),t}get context(){return Je.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const yd="error",U3="wss://relay.walletconnect.com",M3="wc",q3="universal_provider",vd=`${M3}@2:${q3}:`,B3="https://rpc.walletconnect.com/v1/",hn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Ru={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,s="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="Invalid `variable` option passed into `_.template`",_="__lodash_hash_undefined__",p=500,m="__lodash_placeholder__",I=1,D=2,T=4,R=1,j=2,K=1,se=2,L=4,M=8,x=16,C=32,E=64,f=128,w=256,V=512,Y=30,ie="...",ue=800,de=16,b=1,P=2,ee=3,X=1/0,G=9007199254740991,W=17976931348623157e292,J=0/0,re=4294967295,be=re-1,oe=re>>>1,me=[["ary",f],["bind",K],["bindKey",se],["curry",M],["curryRight",x],["flip",V],["partial",C],["partialRight",E],["rearg",w]],he="[object Arguments]",ve="[object Array]",H="[object AsyncFunction]",B="[object Boolean]",F="[object Date]",d="[object DOMException]",A="[object Error]",ae="[object Function]",le="[object GeneratorFunction]",xe="[object Map]",je="[object Number]",Ge="[object Null]",Ue="[object Object]",_t="[object Promise]",yt="[object Proxy]",qe="[object RegExp]",Oe="[object Set]",Le="[object String]",Fe="[object Symbol]",Be="[object Undefined]",Pe="[object WeakMap]",$e="[object WeakSet]",De="[object ArrayBuffer]",Ae="[object DataView]",ze="[object Float32Array]",Ie="[object Float64Array]",We="[object Int8Array]",ke="[object Int16Array]",et="[object Int32Array]",tt="[object Uint8Array]",Xe="[object Uint8ClampedArray]",ur="[object Uint16Array]",yr="[object Uint32Array]",Qr=/\b__p \+= '';/g,cr=/\b(__p \+=) '' \+/g,ln=/(__e\(.*?\)|\b__t\)) \+\n'';/g,An=/&(?:amp|lt|gt|quot|#39);/g,Qn=/[&<>"']/g,Dt=RegExp(An.source),vt=RegExp(Qn.source),xt=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,Et=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ut=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,It=/[\\^$.*+?()[\]{}|]/g,qt=RegExp(It.source),Pt=/^\s+/,Tt=/\s/,At=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Uu=/[()=,{}\[\]\/\s]/,Mu=/\\(\\)?/g,qu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rr=/\w*$/,Bu=/^[-+]0x[0-9a-f]+$/i,Hu=/^0b[01]+$/i,ju=/^\[object .+?Constructor\]$/,zu=/^0o[0-7]+$/i,Ku=/^(?:0|[1-9]\d*)$/,dn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Si=/($^)/,Gu=/['\n\r\u2028\u2029\\]/g,Di="\\ud800-\\udfff",Wu="\\u0300-\\u036f",Vu="\\ufe20-\\ufe2f",xi="\\u20d0-\\u20ff",lo=Wu+Vu+xi,po="\\u2700-\\u27bf",Kr="a-z\\xdf-\\xf6\\xf8-\\xff",ku="\\xac\\xb1\\xd7\\xf7",Yu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ju="\\u2000-\\u206f",Xu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",go="A-Z\\xc0-\\xd6\\xd8-\\xde",_o="\\ufe0e\\ufe0f",Zn=ku+Yu+Ju+Xu,ws="['\u2019]",ei="["+Di+"]",bs="["+Zn+"]",ti="["+lo+"]",yo="\\d+",Qu="["+po+"]",vo="["+Kr+"]",wo="[^"+Di+Zn+yo+po+Kr+go+"]",Oi="\\ud83c[\\udffb-\\udfff]",Zu="(?:"+ti+"|"+Oi+")",bo="[^"+Di+"]",Ii="(?:\\ud83c[\\udde6-\\uddff]){2}",Cn="[\\ud800-\\udbff][\\udc00-\\udfff]",xr="["+go+"]",mo="\\u200d",Eo="(?:"+vo+"|"+wo+")",Zr="(?:"+xr+"|"+wo+")",So="(?:"+ws+"(?:d|ll|m|re|s|t|ve))?",Do="(?:"+ws+"(?:D|LL|M|RE|S|T|VE))?",xo=Zu+"?",Oo="["+_o+"]?",ec="(?:"+mo+"(?:"+[bo,Ii,Cn].join("|")+")"+Oo+xo+")*",pn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Io="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Po=Oo+xo+ec,Pi="(?:"+[Qu,Ii,Cn].join("|")+")"+Po,tc="(?:"+[bo+ti+"?",ti,Ii,Cn,ei].join("|")+")",ms=RegExp(ws,"g"),rc=RegExp(ti,"g"),Ai=RegExp(Oi+"(?="+Oi+")|"+tc+Po,"g"),Ao=RegExp([xr+"?"+vo+"+"+So+"(?="+[bs,xr,"$"].join("|")+")",Zr+"+"+Do+"(?="+[bs,xr+Eo,"$"].join("|")+")",xr+"?"+Eo+"+"+So,xr+"+"+Do,Io,pn,yo,Pi].join("|"),"g"),Co=RegExp("["+mo+Di+lo+_o+"]"),ri=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,To=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nc=-1,at={};at[ze]=at[Ie]=at[We]=at[ke]=at[et]=at[tt]=at[Xe]=at[ur]=at[yr]=!0,at[he]=at[ve]=at[De]=at[B]=at[Ae]=at[F]=at[A]=at[ae]=at[xe]=at[je]=at[Ue]=at[qe]=at[Oe]=at[Le]=at[Pe]=!1;var ot={};ot[he]=ot[ve]=ot[De]=ot[Ae]=ot[B]=ot[F]=ot[ze]=ot[Ie]=ot[We]=ot[ke]=ot[et]=ot[xe]=ot[je]=ot[Ue]=ot[qe]=ot[Oe]=ot[Le]=ot[Fe]=ot[tt]=ot[Xe]=ot[ur]=ot[yr]=!0,ot[A]=ot[ae]=ot[Pe]=!1;var S={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},te={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,Te=parseInt,dt=typeof mt=="object"&&mt&&mt.Object===Object&&mt,jt=typeof self=="object"&&self&&self.Object===Object&&self,Qe=dt||jt||Function("return this")(),ct=e&&!e.nodeType&&e,Rt=ct&&!0&&n&&!n.nodeType&&n,vr=Rt&&Rt.exports===ct,zt=vr&&dt.process,pt=function(){try{var $=Rt&&Rt.require&&Rt.require("util").types;return $||zt&&zt.binding&&zt.binding("util")}catch{}}(),fr=pt&&pt.isArrayBuffer,Gr=pt&&pt.isDate,Nr=pt&&pt.isMap,en=pt&&pt.isRegExp,Es=pt&&pt.isSet,ni=pt&&pt.isTypedArray;function Vt($,k,z){switch(z.length){case 0:return $.call(k);case 1:return $.call(k,z[0]);case 2:return $.call(k,z[0],z[1]);case 3:return $.call(k,z[0],z[1],z[2])}return $.apply(k,z)}function hS($,k,z,ge){for(var Ce=-1,rt=$==null?0:$.length;++Ce<rt;){var Kt=$[Ce];k(ge,Kt,z(Kt),$)}return ge}function Lr($,k){for(var z=-1,ge=$==null?0:$.length;++z<ge&&k($[z],z,$)!==!1;);return $}function lS($,k){for(var z=$==null?0:$.length;z--&&k($[z],z,$)!==!1;);return $}function Ad($,k){for(var z=-1,ge=$==null?0:$.length;++z<ge;)if(!k($[z],z,$))return!1;return!0}function Tn($,k){for(var z=-1,ge=$==null?0:$.length,Ce=0,rt=[];++z<ge;){var Kt=$[z];k(Kt,z,$)&&(rt[Ce++]=Kt)}return rt}function Ro($,k){var z=$==null?0:$.length;return!!z&&Ci($,k,0)>-1}function ic($,k,z){for(var ge=-1,Ce=$==null?0:$.length;++ge<Ce;)if(z(k,$[ge]))return!0;return!1}function bt($,k){for(var z=-1,ge=$==null?0:$.length,Ce=Array(ge);++z<ge;)Ce[z]=k($[z],z,$);return Ce}function Rn($,k){for(var z=-1,ge=k.length,Ce=$.length;++z<ge;)$[Ce+z]=k[z];return $}function sc($,k,z,ge){var Ce=-1,rt=$==null?0:$.length;for(ge&&rt&&(z=$[++Ce]);++Ce<rt;)z=k(z,$[Ce],Ce,$);return z}function dS($,k,z,ge){var Ce=$==null?0:$.length;for(ge&&Ce&&(z=$[--Ce]);Ce--;)z=k(z,$[Ce],Ce,$);return z}function oc($,k){for(var z=-1,ge=$==null?0:$.length;++z<ge;)if(k($[z],z,$))return!0;return!1}var pS=ac("length");function gS($){return $.split("")}function _S($){return $.match(Ht)||[]}function Cd($,k,z){var ge;return z($,function(Ce,rt,Kt){if(k(Ce,rt,Kt))return ge=rt,!1}),ge}function No($,k,z,ge){for(var Ce=$.length,rt=z+(ge?1:-1);ge?rt--:++rt<Ce;)if(k($[rt],rt,$))return rt;return-1}function Ci($,k,z){return k===k?PS($,k,z):No($,Td,z)}function yS($,k,z,ge){for(var Ce=z-1,rt=$.length;++Ce<rt;)if(ge($[Ce],k))return Ce;return-1}function Td($){return $!==$}function Rd($,k){var z=$==null?0:$.length;return z?cc($,k)/z:J}function ac($){return function(k){return k==null?t:k[$]}}function uc($){return function(k){return $==null?t:$[k]}}function Nd($,k,z,ge,Ce){return Ce($,function(rt,Kt,ft){z=ge?(ge=!1,rt):k(z,rt,Kt,ft)}),z}function vS($,k){var z=$.length;for($.sort(k);z--;)$[z]=$[z].value;return $}function cc($,k){for(var z,ge=-1,Ce=$.length;++ge<Ce;){var rt=k($[ge]);rt!==t&&(z=z===t?rt:z+rt)}return z}function fc($,k){for(var z=-1,ge=Array($);++z<$;)ge[z]=k(z);return ge}function wS($,k){return bt(k,function(z){return[z,$[z]]})}function Ld($){return $&&$.slice(0,Md($)+1).replace(Pt,"")}function Or($){return function(k){return $(k)}}function hc($,k){return bt(k,function(z){return $[z]})}function Ss($,k){return $.has(k)}function Fd($,k){for(var z=-1,ge=$.length;++z<ge&&Ci(k,$[z],0)>-1;);return z}function $d($,k){for(var z=$.length;z--&&Ci(k,$[z],0)>-1;);return z}function bS($,k){for(var z=$.length,ge=0;z--;)$[z]===k&&++ge;return ge}var mS=uc(S),ES=uc(U);function SS($){return"\\"+pe[$]}function DS($,k){return $==null?t:$[k]}function Ti($){return Co.test($)}function xS($){return ri.test($)}function OS($){for(var k,z=[];!(k=$.next()).done;)z.push(k.value);return z}function lc($){var k=-1,z=Array($.size);return $.forEach(function(ge,Ce){z[++k]=[Ce,ge]}),z}function Ud($,k){return function(z){return $(k(z))}}function Nn($,k){for(var z=-1,ge=$.length,Ce=0,rt=[];++z<ge;){var Kt=$[z];(Kt===k||Kt===m)&&($[z]=m,rt[Ce++]=z)}return rt}function Lo($){var k=-1,z=Array($.size);return $.forEach(function(ge){z[++k]=ge}),z}function IS($){var k=-1,z=Array($.size);return $.forEach(function(ge){z[++k]=[ge,ge]}),z}function PS($,k,z){for(var ge=z-1,Ce=$.length;++ge<Ce;)if($[ge]===k)return ge;return-1}function AS($,k,z){for(var ge=z+1;ge--;)if($[ge]===k)return ge;return ge}function Ri($){return Ti($)?TS($):pS($)}function Wr($){return Ti($)?RS($):gS($)}function Md($){for(var k=$.length;k--&&Tt.test($.charAt(k)););return k}var CS=uc(te);function TS($){for(var k=Ai.lastIndex=0;Ai.test($);)++k;return k}function RS($){return $.match(Ai)||[]}function NS($){return $.match(Ao)||[]}var LS=function $(k){k=k==null?Qe:Ni.defaults(Qe.Object(),k,Ni.pick(Qe,To));var z=k.Array,ge=k.Date,Ce=k.Error,rt=k.Function,Kt=k.Math,ft=k.Object,dc=k.RegExp,FS=k.String,Fr=k.TypeError,Fo=z.prototype,$S=rt.prototype,Li=ft.prototype,$o=k["__core-js_shared__"],Uo=$S.toString,it=Li.hasOwnProperty,US=0,qd=function(){var r=/[^.]+$/.exec($o&&$o.keys&&$o.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Mo=Li.toString,MS=Uo.call(ft),qS=Qe._,BS=dc("^"+Uo.call(it).replace(It,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qo=vr?k.Buffer:t,Ln=k.Symbol,Bo=k.Uint8Array,Bd=qo?qo.allocUnsafe:t,Ho=Ud(ft.getPrototypeOf,ft),Hd=ft.create,jd=Li.propertyIsEnumerable,jo=Fo.splice,zd=Ln?Ln.isConcatSpreadable:t,Ds=Ln?Ln.iterator:t,ii=Ln?Ln.toStringTag:t,zo=function(){try{var r=ci(ft,"defineProperty");return r({},"",{}),r}catch{}}(),HS=k.clearTimeout!==Qe.clearTimeout&&k.clearTimeout,jS=ge&&ge.now!==Qe.Date.now&&ge.now,zS=k.setTimeout!==Qe.setTimeout&&k.setTimeout,Ko=Kt.ceil,Go=Kt.floor,pc=ft.getOwnPropertySymbols,KS=qo?qo.isBuffer:t,Kd=k.isFinite,GS=Fo.join,WS=Ud(ft.keys,ft),Gt=Kt.max,tr=Kt.min,VS=ge.now,kS=k.parseInt,Gd=Kt.random,YS=Fo.reverse,gc=ci(k,"DataView"),xs=ci(k,"Map"),_c=ci(k,"Promise"),Fi=ci(k,"Set"),Os=ci(k,"WeakMap"),Is=ci(ft,"create"),Wo=Os&&new Os,$i={},JS=fi(gc),XS=fi(xs),QS=fi(_c),ZS=fi(Fi),e2=fi(Os),Vo=Ln?Ln.prototype:t,Ps=Vo?Vo.valueOf:t,Wd=Vo?Vo.toString:t;function y(r){if(Ct(r)&&!Re(r)&&!(r instanceof Ye)){if(r instanceof $r)return r;if(it.call(r,"__wrapped__"))return Vp(r)}return new $r(r)}var Ui=function(){function r(){}return function(i){if(!St(i))return{};if(Hd)return Hd(i);r.prototype=i;var a=new r;return r.prototype=t,a}}();function ko(){}function $r(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=t}y.templateSettings={escape:xt,evaluate:Ot,interpolate:Et,variable:"",imports:{_:y}},y.prototype=ko.prototype,y.prototype.constructor=y,$r.prototype=Ui(ko.prototype),$r.prototype.constructor=$r;function Ye(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function t2(){var r=new Ye(this.__wrapped__);return r.__actions__=wr(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=wr(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=wr(this.__views__),r}function r2(){if(this.__filtered__){var r=new Ye(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function n2(){var r=this.__wrapped__.value(),i=this.__dir__,a=Re(r),h=i<0,g=a?r.length:0,v=g6(0,g,this.__views__),O=v.start,N=v.end,q=N-O,Q=h?N:O-1,Z=this.__iteratees__,ne=Z.length,ce=0,_e=tr(q,this.__takeCount__);if(!a||!h&&g==q&&_e==q)return _p(r,this.__actions__);var Ee=[];e:for(;q--&&ce<_e;){Q+=i;for(var He=-1,Se=r[Q];++He<ne;){var Ve=Z[He],Ze=Ve.iteratee,Ar=Ve.type,dr=Ze(Se);if(Ar==P)Se=dr;else if(!dr){if(Ar==b)continue e;break e}}Ee[ce++]=Se}return Ee}Ye.prototype=Ui(ko.prototype),Ye.prototype.constructor=Ye;function si(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var h=r[i];this.set(h[0],h[1])}}function i2(){this.__data__=Is?Is(null):{},this.size=0}function s2(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function o2(r){var i=this.__data__;if(Is){var a=i[r];return a===_?t:a}return it.call(i,r)?i[r]:t}function a2(r){var i=this.__data__;return Is?i[r]!==t:it.call(i,r)}function u2(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=Is&&i===t?_:i,this}si.prototype.clear=i2,si.prototype.delete=s2,si.prototype.get=o2,si.prototype.has=a2,si.prototype.set=u2;function gn(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var h=r[i];this.set(h[0],h[1])}}function c2(){this.__data__=[],this.size=0}function f2(r){var i=this.__data__,a=Yo(i,r);if(a<0)return!1;var h=i.length-1;return a==h?i.pop():jo.call(i,a,1),--this.size,!0}function h2(r){var i=this.__data__,a=Yo(i,r);return a<0?t:i[a][1]}function l2(r){return Yo(this.__data__,r)>-1}function d2(r,i){var a=this.__data__,h=Yo(a,r);return h<0?(++this.size,a.push([r,i])):a[h][1]=i,this}gn.prototype.clear=c2,gn.prototype.delete=f2,gn.prototype.get=h2,gn.prototype.has=l2,gn.prototype.set=d2;function _n(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var h=r[i];this.set(h[0],h[1])}}function p2(){this.size=0,this.__data__={hash:new si,map:new(xs||gn),string:new si}}function g2(r){var i=aa(this,r).delete(r);return this.size-=i?1:0,i}function _2(r){return aa(this,r).get(r)}function y2(r){return aa(this,r).has(r)}function v2(r,i){var a=aa(this,r),h=a.size;return a.set(r,i),this.size+=a.size==h?0:1,this}_n.prototype.clear=p2,_n.prototype.delete=g2,_n.prototype.get=_2,_n.prototype.has=y2,_n.prototype.set=v2;function oi(r){var i=-1,a=r==null?0:r.length;for(this.__data__=new _n;++i<a;)this.add(r[i])}function w2(r){return this.__data__.set(r,_),this}function b2(r){return this.__data__.has(r)}oi.prototype.add=oi.prototype.push=w2,oi.prototype.has=b2;function Vr(r){var i=this.__data__=new gn(r);this.size=i.size}function m2(){this.__data__=new gn,this.size=0}function E2(r){var i=this.__data__,a=i.delete(r);return this.size=i.size,a}function S2(r){return this.__data__.get(r)}function D2(r){return this.__data__.has(r)}function x2(r,i){var a=this.__data__;if(a instanceof gn){var h=a.__data__;if(!xs||h.length<o-1)return h.push([r,i]),this.size=++a.size,this;a=this.__data__=new _n(h)}return a.set(r,i),this.size=a.size,this}Vr.prototype.clear=m2,Vr.prototype.delete=E2,Vr.prototype.get=S2,Vr.prototype.has=D2,Vr.prototype.set=x2;function Vd(r,i){var a=Re(r),h=!a&&hi(r),g=!a&&!h&&qn(r),v=!a&&!h&&!g&&Hi(r),O=a||h||g||v,N=O?fc(r.length,FS):[],q=N.length;for(var Q in r)(i||it.call(r,Q))&&!(O&&(Q=="length"||g&&(Q=="offset"||Q=="parent")||v&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||bn(Q,q)))&&N.push(Q);return N}function kd(r){var i=r.length;return i?r[Ic(0,i-1)]:t}function O2(r,i){return ua(wr(r),ai(i,0,r.length))}function I2(r){return ua(wr(r))}function yc(r,i,a){(a!==t&&!kr(r[i],a)||a===t&&!(i in r))&&yn(r,i,a)}function As(r,i,a){var h=r[i];(!(it.call(r,i)&&kr(h,a))||a===t&&!(i in r))&&yn(r,i,a)}function Yo(r,i){for(var a=r.length;a--;)if(kr(r[a][0],i))return a;return-1}function P2(r,i,a,h){return Fn(r,function(g,v,O){i(h,g,a(g),O)}),h}function Yd(r,i){return r&&rn(i,kt(i),r)}function A2(r,i){return r&&rn(i,mr(i),r)}function yn(r,i,a){i=="__proto__"&&zo?zo(r,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[i]=a}function vc(r,i){for(var a=-1,h=i.length,g=z(h),v=r==null;++a<h;)g[a]=v?t:Qc(r,i[a]);return g}function ai(r,i,a){return r===r&&(a!==t&&(r=r<=a?r:a),i!==t&&(r=r>=i?r:i)),r}function Ur(r,i,a,h,g,v){var O,N=i&I,q=i&D,Q=i&T;if(a&&(O=g?a(r,h,g,v):a(r)),O!==t)return O;if(!St(r))return r;var Z=Re(r);if(Z){if(O=y6(r),!N)return wr(r,O)}else{var ne=rr(r),ce=ne==ae||ne==le;if(qn(r))return wp(r,N);if(ne==Ue||ne==he||ce&&!g){if(O=q||ce?{}:Mp(r),!N)return q?o6(r,A2(O,r)):s6(r,Yd(O,r))}else{if(!ot[ne])return g?r:{};O=v6(r,ne,N)}}v||(v=new Vr);var _e=v.get(r);if(_e)return _e;v.set(r,O),dg(r)?r.forEach(function(Se){O.add(Ur(Se,i,a,Se,r,v))}):hg(r)&&r.forEach(function(Se,Ve){O.set(Ve,Ur(Se,i,a,Ve,r,v))});var Ee=Q?q?Mc:Uc:q?mr:kt,He=Z?t:Ee(r);return Lr(He||r,function(Se,Ve){He&&(Ve=Se,Se=r[Ve]),As(O,Ve,Ur(Se,i,a,Ve,r,v))}),O}function C2(r){var i=kt(r);return function(a){return Jd(a,r,i)}}function Jd(r,i,a){var h=a.length;if(r==null)return!h;for(r=ft(r);h--;){var g=a[h],v=i[g],O=r[g];if(O===t&&!(g in r)||!v(O))return!1}return!0}function Xd(r,i,a){if(typeof r!="function")throw new Fr(c);return $s(function(){r.apply(t,a)},i)}function Cs(r,i,a,h){var g=-1,v=Ro,O=!0,N=r.length,q=[],Q=i.length;if(!N)return q;a&&(i=bt(i,Or(a))),h?(v=ic,O=!1):i.length>=o&&(v=Ss,O=!1,i=new oi(i));e:for(;++g<N;){var Z=r[g],ne=a==null?Z:a(Z);if(Z=h||Z!==0?Z:0,O&&ne===ne){for(var ce=Q;ce--;)if(i[ce]===ne)continue e;q.push(Z)}else v(i,ne,h)||q.push(Z)}return q}var Fn=Dp(tn),Qd=Dp(bc,!0);function T2(r,i){var a=!0;return Fn(r,function(h,g,v){return a=!!i(h,g,v),a}),a}function Jo(r,i,a){for(var h=-1,g=r.length;++h<g;){var v=r[h],O=i(v);if(O!=null&&(N===t?O===O&&!Pr(O):a(O,N)))var N=O,q=v}return q}function R2(r,i,a,h){var g=r.length;for(a=Me(a),a<0&&(a=-a>g?0:g+a),h=h===t||h>g?g:Me(h),h<0&&(h+=g),h=a>h?0:gg(h);a<h;)r[a++]=i;return r}function Zd(r,i){var a=[];return Fn(r,function(h,g,v){i(h,g,v)&&a.push(h)}),a}function Xt(r,i,a,h,g){var v=-1,O=r.length;for(a||(a=b6),g||(g=[]);++v<O;){var N=r[v];i>0&&a(N)?i>1?Xt(N,i-1,a,h,g):Rn(g,N):h||(g[g.length]=N)}return g}var wc=xp(),ep=xp(!0);function tn(r,i){return r&&wc(r,i,kt)}function bc(r,i){return r&&ep(r,i,kt)}function Xo(r,i){return Tn(i,function(a){return mn(r[a])})}function ui(r,i){i=Un(i,r);for(var a=0,h=i.length;r!=null&&a<h;)r=r[nn(i[a++])];return a&&a==h?r:t}function tp(r,i,a){var h=i(r);return Re(r)?h:Rn(h,a(r))}function hr(r){return r==null?r===t?Be:Ge:ii&&ii in ft(r)?p6(r):I6(r)}function mc(r,i){return r>i}function N2(r,i){return r!=null&&it.call(r,i)}function L2(r,i){return r!=null&&i in ft(r)}function F2(r,i,a){return r>=tr(i,a)&&r<Gt(i,a)}function Ec(r,i,a){for(var h=a?ic:Ro,g=r[0].length,v=r.length,O=v,N=z(v),q=1/0,Q=[];O--;){var Z=r[O];O&&i&&(Z=bt(Z,Or(i))),q=tr(Z.length,q),N[O]=!a&&(i||g>=120&&Z.length>=120)?new oi(O&&Z):t}Z=r[0];var ne=-1,ce=N[0];e:for(;++ne<g&&Q.length<q;){var _e=Z[ne],Ee=i?i(_e):_e;if(_e=a||_e!==0?_e:0,!(ce?Ss(ce,Ee):h(Q,Ee,a))){for(O=v;--O;){var He=N[O];if(!(He?Ss(He,Ee):h(r[O],Ee,a)))continue e}ce&&ce.push(Ee),Q.push(_e)}}return Q}function $2(r,i,a,h){return tn(r,function(g,v,O){i(h,a(g),v,O)}),h}function Ts(r,i,a){i=Un(i,r),r=jp(r,i);var h=r==null?r:r[nn(qr(i))];return h==null?t:Vt(h,r,a)}function rp(r){return Ct(r)&&hr(r)==he}function U2(r){return Ct(r)&&hr(r)==De}function M2(r){return Ct(r)&&hr(r)==F}function Rs(r,i,a,h,g){return r===i?!0:r==null||i==null||!Ct(r)&&!Ct(i)?r!==r&&i!==i:q2(r,i,a,h,Rs,g)}function q2(r,i,a,h,g,v){var O=Re(r),N=Re(i),q=O?ve:rr(r),Q=N?ve:rr(i);q=q==he?Ue:q,Q=Q==he?Ue:Q;var Z=q==Ue,ne=Q==Ue,ce=q==Q;if(ce&&qn(r)){if(!qn(i))return!1;O=!0,Z=!1}if(ce&&!Z)return v||(v=new Vr),O||Hi(r)?Fp(r,i,a,h,g,v):l6(r,i,q,a,h,g,v);if(!(a&R)){var _e=Z&&it.call(r,"__wrapped__"),Ee=ne&&it.call(i,"__wrapped__");if(_e||Ee){var He=_e?r.value():r,Se=Ee?i.value():i;return v||(v=new Vr),g(He,Se,a,h,v)}}return ce?(v||(v=new Vr),d6(r,i,a,h,g,v)):!1}function B2(r){return Ct(r)&&rr(r)==xe}function Sc(r,i,a,h){var g=a.length,v=g,O=!h;if(r==null)return!v;for(r=ft(r);g--;){var N=a[g];if(O&&N[2]?N[1]!==r[N[0]]:!(N[0]in r))return!1}for(;++g<v;){N=a[g];var q=N[0],Q=r[q],Z=N[1];if(O&&N[2]){if(Q===t&&!(q in r))return!1}else{var ne=new Vr;if(h)var ce=h(Q,Z,q,r,i,ne);if(!(ce===t?Rs(Z,Q,R|j,h,ne):ce))return!1}}return!0}function np(r){if(!St(r)||E6(r))return!1;var i=mn(r)?BS:ju;return i.test(fi(r))}function H2(r){return Ct(r)&&hr(r)==qe}function j2(r){return Ct(r)&&rr(r)==Oe}function z2(r){return Ct(r)&&pa(r.length)&&!!at[hr(r)]}function ip(r){return typeof r=="function"?r:r==null?Er:typeof r=="object"?Re(r)?ap(r[0],r[1]):op(r):Og(r)}function Dc(r){if(!Fs(r))return WS(r);var i=[];for(var a in ft(r))it.call(r,a)&&a!="constructor"&&i.push(a);return i}function K2(r){if(!St(r))return O6(r);var i=Fs(r),a=[];for(var h in r)h=="constructor"&&(i||!it.call(r,h))||a.push(h);return a}function xc(r,i){return r<i}function sp(r,i){var a=-1,h=br(r)?z(r.length):[];return Fn(r,function(g,v,O){h[++a]=i(g,v,O)}),h}function op(r){var i=Bc(r);return i.length==1&&i[0][2]?Bp(i[0][0],i[0][1]):function(a){return a===r||Sc(a,r,i)}}function ap(r,i){return jc(r)&&qp(i)?Bp(nn(r),i):function(a){var h=Qc(a,r);return h===t&&h===i?Zc(a,r):Rs(i,h,R|j)}}function Qo(r,i,a,h,g){r!==i&&wc(i,function(v,O){if(g||(g=new Vr),St(v))G2(r,i,O,a,Qo,h,g);else{var N=h?h(Kc(r,O),v,O+"",r,i,g):t;N===t&&(N=v),yc(r,O,N)}},mr)}function G2(r,i,a,h,g,v,O){var N=Kc(r,a),q=Kc(i,a),Q=O.get(q);if(Q){yc(r,a,Q);return}var Z=v?v(N,q,a+"",r,i,O):t,ne=Z===t;if(ne){var ce=Re(q),_e=!ce&&qn(q),Ee=!ce&&!_e&&Hi(q);Z=q,ce||_e||Ee?Re(N)?Z=N:Nt(N)?Z=wr(N):_e?(ne=!1,Z=wp(q,!0)):Ee?(ne=!1,Z=bp(q,!0)):Z=[]:Us(q)||hi(q)?(Z=N,hi(N)?Z=_g(N):(!St(N)||mn(N))&&(Z=Mp(q))):ne=!1}ne&&(O.set(q,Z),g(Z,q,h,v,O),O.delete(q)),yc(r,a,Z)}function up(r,i){var a=r.length;if(a)return i+=i<0?a:0,bn(i,a)?r[i]:t}function cp(r,i,a){i.length?i=bt(i,function(v){return Re(v)?function(O){return ui(O,v.length===1?v[0]:v)}:v}):i=[Er];var h=-1;i=bt(i,Or(we()));var g=sp(r,function(v,O,N){var q=bt(i,function(Q){return Q(v)});return{criteria:q,index:++h,value:v}});return vS(g,function(v,O){return i6(v,O,a)})}function W2(r,i){return fp(r,i,function(a,h){return Zc(r,h)})}function fp(r,i,a){for(var h=-1,g=i.length,v={};++h<g;){var O=i[h],N=ui(r,O);a(N,O)&&Ns(v,Un(O,r),N)}return v}function V2(r){return function(i){return ui(i,r)}}function Oc(r,i,a,h){var g=h?yS:Ci,v=-1,O=i.length,N=r;for(r===i&&(i=wr(i)),a&&(N=bt(r,Or(a)));++v<O;)for(var q=0,Q=i[v],Z=a?a(Q):Q;(q=g(N,Z,q,h))>-1;)N!==r&&jo.call(N,q,1),jo.call(r,q,1);return r}function hp(r,i){for(var a=r?i.length:0,h=a-1;a--;){var g=i[a];if(a==h||g!==v){var v=g;bn(g)?jo.call(r,g,1):Cc(r,g)}}return r}function Ic(r,i){return r+Go(Gd()*(i-r+1))}function k2(r,i,a,h){for(var g=-1,v=Gt(Ko((i-r)/(a||1)),0),O=z(v);v--;)O[h?v:++g]=r,r+=a;return O}function Pc(r,i){var a="";if(!r||i<1||i>G)return a;do i%2&&(a+=r),i=Go(i/2),i&&(r+=r);while(i);return a}function Ke(r,i){return Gc(Hp(r,i,Er),r+"")}function Y2(r){return kd(ji(r))}function J2(r,i){var a=ji(r);return ua(a,ai(i,0,a.length))}function Ns(r,i,a,h){if(!St(r))return r;i=Un(i,r);for(var g=-1,v=i.length,O=v-1,N=r;N!=null&&++g<v;){var q=nn(i[g]),Q=a;if(q==="__proto__"||q==="constructor"||q==="prototype")return r;if(g!=O){var Z=N[q];Q=h?h(Z,q,N):t,Q===t&&(Q=St(Z)?Z:bn(i[g+1])?[]:{})}As(N,q,Q),N=N[q]}return r}var lp=Wo?function(r,i){return Wo.set(r,i),r}:Er,X2=zo?function(r,i){return zo(r,"toString",{configurable:!0,enumerable:!1,value:tf(i),writable:!0})}:Er;function Q2(r){return ua(ji(r))}function Mr(r,i,a){var h=-1,g=r.length;i<0&&(i=-i>g?0:g+i),a=a>g?g:a,a<0&&(a+=g),g=i>a?0:a-i>>>0,i>>>=0;for(var v=z(g);++h<g;)v[h]=r[h+i];return v}function Z2(r,i){var a;return Fn(r,function(h,g,v){return a=i(h,g,v),!a}),!!a}function Zo(r,i,a){var h=0,g=r==null?h:r.length;if(typeof i=="number"&&i===i&&g<=oe){for(;h<g;){var v=h+g>>>1,O=r[v];O!==null&&!Pr(O)&&(a?O<=i:O<i)?h=v+1:g=v}return g}return Ac(r,i,Er,a)}function Ac(r,i,a,h){var g=0,v=r==null?0:r.length;if(v===0)return 0;i=a(i);for(var O=i!==i,N=i===null,q=Pr(i),Q=i===t;g<v;){var Z=Go((g+v)/2),ne=a(r[Z]),ce=ne!==t,_e=ne===null,Ee=ne===ne,He=Pr(ne);if(O)var Se=h||Ee;else Q?Se=Ee&&(h||ce):N?Se=Ee&&ce&&(h||!_e):q?Se=Ee&&ce&&!_e&&(h||!He):_e||He?Se=!1:Se=h?ne<=i:ne<i;Se?g=Z+1:v=Z}return tr(v,be)}function dp(r,i){for(var a=-1,h=r.length,g=0,v=[];++a<h;){var O=r[a],N=i?i(O):O;if(!a||!kr(N,q)){var q=N;v[g++]=O===0?0:O}}return v}function pp(r){return typeof r=="number"?r:Pr(r)?J:+r}function Ir(r){if(typeof r=="string")return r;if(Re(r))return bt(r,Ir)+"";if(Pr(r))return Wd?Wd.call(r):"";var i=r+"";return i=="0"&&1/r==-X?"-0":i}function $n(r,i,a){var h=-1,g=Ro,v=r.length,O=!0,N=[],q=N;if(a)O=!1,g=ic;else if(v>=o){var Q=i?null:f6(r);if(Q)return Lo(Q);O=!1,g=Ss,q=new oi}else q=i?[]:N;e:for(;++h<v;){var Z=r[h],ne=i?i(Z):Z;if(Z=a||Z!==0?Z:0,O&&ne===ne){for(var ce=q.length;ce--;)if(q[ce]===ne)continue e;i&&q.push(ne),N.push(Z)}else g(q,ne,a)||(q!==N&&q.push(ne),N.push(Z))}return N}function Cc(r,i){return i=Un(i,r),r=jp(r,i),r==null||delete r[nn(qr(i))]}function gp(r,i,a,h){return Ns(r,i,a(ui(r,i)),h)}function ea(r,i,a,h){for(var g=r.length,v=h?g:-1;(h?v--:++v<g)&&i(r[v],v,r););return a?Mr(r,h?0:v,h?v+1:g):Mr(r,h?v+1:0,h?g:v)}function _p(r,i){var a=r;return a instanceof Ye&&(a=a.value()),sc(i,function(h,g){return g.func.apply(g.thisArg,Rn([h],g.args))},a)}function Tc(r,i,a){var h=r.length;if(h<2)return h?$n(r[0]):[];for(var g=-1,v=z(h);++g<h;)for(var O=r[g],N=-1;++N<h;)N!=g&&(v[g]=Cs(v[g]||O,r[N],i,a));return $n(Xt(v,1),i,a)}function yp(r,i,a){for(var h=-1,g=r.length,v=i.length,O={};++h<g;){var N=h<v?i[h]:t;a(O,r[h],N)}return O}function Rc(r){return Nt(r)?r:[]}function Nc(r){return typeof r=="function"?r:Er}function Un(r,i){return Re(r)?r:jc(r,i)?[r]:Wp(nt(r))}var e6=Ke;function Mn(r,i,a){var h=r.length;return a=a===t?h:a,!i&&a>=h?r:Mr(r,i,a)}var vp=HS||function(r){return Qe.clearTimeout(r)};function wp(r,i){if(i)return r.slice();var a=r.length,h=Bd?Bd(a):new r.constructor(a);return r.copy(h),h}function Lc(r){var i=new r.constructor(r.byteLength);return new Bo(i).set(new Bo(r)),i}function t6(r,i){var a=i?Lc(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}function r6(r){var i=new r.constructor(r.source,Rr.exec(r));return i.lastIndex=r.lastIndex,i}function n6(r){return Ps?ft(Ps.call(r)):{}}function bp(r,i){var a=i?Lc(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}function mp(r,i){if(r!==i){var a=r!==t,h=r===null,g=r===r,v=Pr(r),O=i!==t,N=i===null,q=i===i,Q=Pr(i);if(!N&&!Q&&!v&&r>i||v&&O&&q&&!N&&!Q||h&&O&&q||!a&&q||!g)return 1;if(!h&&!v&&!Q&&r<i||Q&&a&&g&&!h&&!v||N&&a&&g||!O&&g||!q)return-1}return 0}function i6(r,i,a){for(var h=-1,g=r.criteria,v=i.criteria,O=g.length,N=a.length;++h<O;){var q=mp(g[h],v[h]);if(q){if(h>=N)return q;var Q=a[h];return q*(Q=="desc"?-1:1)}}return r.index-i.index}function Ep(r,i,a,h){for(var g=-1,v=r.length,O=a.length,N=-1,q=i.length,Q=Gt(v-O,0),Z=z(q+Q),ne=!h;++N<q;)Z[N]=i[N];for(;++g<O;)(ne||g<v)&&(Z[a[g]]=r[g]);for(;Q--;)Z[N++]=r[g++];return Z}function Sp(r,i,a,h){for(var g=-1,v=r.length,O=-1,N=a.length,q=-1,Q=i.length,Z=Gt(v-N,0),ne=z(Z+Q),ce=!h;++g<Z;)ne[g]=r[g];for(var _e=g;++q<Q;)ne[_e+q]=i[q];for(;++O<N;)(ce||g<v)&&(ne[_e+a[O]]=r[g++]);return ne}function wr(r,i){var a=-1,h=r.length;for(i||(i=z(h));++a<h;)i[a]=r[a];return i}function rn(r,i,a,h){var g=!a;a||(a={});for(var v=-1,O=i.length;++v<O;){var N=i[v],q=h?h(a[N],r[N],N,a,r):t;q===t&&(q=r[N]),g?yn(a,N,q):As(a,N,q)}return a}function s6(r,i){return rn(r,Hc(r),i)}function o6(r,i){return rn(r,$p(r),i)}function ta(r,i){return function(a,h){var g=Re(a)?hS:P2,v=i?i():{};return g(a,r,we(h,2),v)}}function Mi(r){return Ke(function(i,a){var h=-1,g=a.length,v=g>1?a[g-1]:t,O=g>2?a[2]:t;for(v=r.length>3&&typeof v=="function"?(g--,v):t,O&&lr(a[0],a[1],O)&&(v=g<3?t:v,g=1),i=ft(i);++h<g;){var N=a[h];N&&r(i,N,h,v)}return i})}function Dp(r,i){return function(a,h){if(a==null)return a;if(!br(a))return r(a,h);for(var g=a.length,v=i?g:-1,O=ft(a);(i?v--:++v<g)&&h(O[v],v,O)!==!1;);return a}}function xp(r){return function(i,a,h){for(var g=-1,v=ft(i),O=h(i),N=O.length;N--;){var q=O[r?N:++g];if(a(v[q],q,v)===!1)break}return i}}function a6(r,i,a){var h=i&K,g=Ls(r);function v(){var O=this&&this!==Qe&&this instanceof v?g:r;return O.apply(h?a:this,arguments)}return v}function Op(r){return function(i){i=nt(i);var a=Ti(i)?Wr(i):t,h=a?a[0]:i.charAt(0),g=a?Mn(a,1).join(""):i.slice(1);return h[r]()+g}}function qi(r){return function(i){return sc(Dg(Sg(i).replace(ms,"")),r,"")}}function Ls(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var a=Ui(r.prototype),h=r.apply(a,i);return St(h)?h:a}}function u6(r,i,a){var h=Ls(r);function g(){for(var v=arguments.length,O=z(v),N=v,q=Bi(g);N--;)O[N]=arguments[N];var Q=v<3&&O[0]!==q&&O[v-1]!==q?[]:Nn(O,q);if(v-=Q.length,v<a)return Tp(r,i,ra,g.placeholder,t,O,Q,t,t,a-v);var Z=this&&this!==Qe&&this instanceof g?h:r;return Vt(Z,this,O)}return g}function Ip(r){return function(i,a,h){var g=ft(i);if(!br(i)){var v=we(a,3);i=kt(i),a=function(N){return v(g[N],N,g)}}var O=r(i,a,h);return O>-1?g[v?i[O]:O]:t}}function Pp(r){return wn(function(i){var a=i.length,h=a,g=$r.prototype.thru;for(r&&i.reverse();h--;){var v=i[h];if(typeof v!="function")throw new Fr(c);if(g&&!O&&oa(v)=="wrapper")var O=new $r([],!0)}for(h=O?h:a;++h<a;){v=i[h];var N=oa(v),q=N=="wrapper"?qc(v):t;q&&zc(q[0])&&q[1]==(f|M|C|w)&&!q[4].length&&q[9]==1?O=O[oa(q[0])].apply(O,q[3]):O=v.length==1&&zc(v)?O[N]():O.thru(v)}return function(){var Q=arguments,Z=Q[0];if(O&&Q.length==1&&Re(Z))return O.plant(Z).value();for(var ne=0,ce=a?i[ne].apply(this,Q):Z;++ne<a;)ce=i[ne].call(this,ce);return ce}})}function ra(r,i,a,h,g,v,O,N,q,Q){var Z=i&f,ne=i&K,ce=i&se,_e=i&(M|x),Ee=i&V,He=ce?t:Ls(r);function Se(){for(var Ve=arguments.length,Ze=z(Ve),Ar=Ve;Ar--;)Ze[Ar]=arguments[Ar];if(_e)var dr=Bi(Se),Cr=bS(Ze,dr);if(h&&(Ze=Ep(Ze,h,g,_e)),v&&(Ze=Sp(Ze,v,O,_e)),Ve-=Cr,_e&&Ve<Q){var Lt=Nn(Ze,dr);return Tp(r,i,ra,Se.placeholder,a,Ze,Lt,N,q,Q-Ve)}var Yr=ne?a:this,Sn=ce?Yr[r]:r;return Ve=Ze.length,N?Ze=P6(Ze,N):Ee&&Ve>1&&Ze.reverse(),Z&&q<Ve&&(Ze.length=q),this&&this!==Qe&&this instanceof Se&&(Sn=He||Ls(Sn)),Sn.apply(Yr,Ze)}return Se}function Ap(r,i){return function(a,h){return $2(a,r,i(h),{})}}function na(r,i){return function(a,h){var g;if(a===t&&h===t)return i;if(a!==t&&(g=a),h!==t){if(g===t)return h;typeof a=="string"||typeof h=="string"?(a=Ir(a),h=Ir(h)):(a=pp(a),h=pp(h)),g=r(a,h)}return g}}function Fc(r){return wn(function(i){return i=bt(i,Or(we())),Ke(function(a){var h=this;return r(i,function(g){return Vt(g,h,a)})})})}function ia(r,i){i=i===t?" ":Ir(i);var a=i.length;if(a<2)return a?Pc(i,r):i;var h=Pc(i,Ko(r/Ri(i)));return Ti(i)?Mn(Wr(h),0,r).join(""):h.slice(0,r)}function c6(r,i,a,h){var g=i&K,v=Ls(r);function O(){for(var N=-1,q=arguments.length,Q=-1,Z=h.length,ne=z(Z+q),ce=this&&this!==Qe&&this instanceof O?v:r;++Q<Z;)ne[Q]=h[Q];for(;q--;)ne[Q++]=arguments[++N];return Vt(ce,g?a:this,ne)}return O}function Cp(r){return function(i,a,h){return h&&typeof h!="number"&&lr(i,a,h)&&(a=h=t),i=En(i),a===t?(a=i,i=0):a=En(a),h=h===t?i<a?1:-1:En(h),k2(i,a,h,r)}}function sa(r){return function(i,a){return typeof i=="string"&&typeof a=="string"||(i=Br(i),a=Br(a)),r(i,a)}}function Tp(r,i,a,h,g,v,O,N,q,Q){var Z=i&M,ne=Z?O:t,ce=Z?t:O,_e=Z?v:t,Ee=Z?t:v;i|=Z?C:E,i&=~(Z?E:C),i&L||(i&=~(K|se));var He=[r,i,g,_e,ne,Ee,ce,N,q,Q],Se=a.apply(t,He);return zc(r)&&zp(Se,He),Se.placeholder=h,Kp(Se,r,i)}function $c(r){var i=Kt[r];return function(a,h){if(a=Br(a),h=h==null?0:tr(Me(h),292),h&&Kd(a)){var g=(nt(a)+"e").split("e"),v=i(g[0]+"e"+(+g[1]+h));return g=(nt(v)+"e").split("e"),+(g[0]+"e"+(+g[1]-h))}return i(a)}}var f6=Fi&&1/Lo(new Fi([,-0]))[1]==X?function(r){return new Fi(r)}:sf;function Rp(r){return function(i){var a=rr(i);return a==xe?lc(i):a==Oe?IS(i):wS(i,r(i))}}function vn(r,i,a,h,g,v,O,N){var q=i&se;if(!q&&typeof r!="function")throw new Fr(c);var Q=h?h.length:0;if(Q||(i&=~(C|E),h=g=t),O=O===t?O:Gt(Me(O),0),N=N===t?N:Me(N),Q-=g?g.length:0,i&E){var Z=h,ne=g;h=g=t}var ce=q?t:qc(r),_e=[r,i,a,h,g,Z,ne,v,O,N];if(ce&&x6(_e,ce),r=_e[0],i=_e[1],a=_e[2],h=_e[3],g=_e[4],N=_e[9]=_e[9]===t?q?0:r.length:Gt(_e[9]-Q,0),!N&&i&(M|x)&&(i&=~(M|x)),!i||i==K)var Ee=a6(r,i,a);else i==M||i==x?Ee=u6(r,i,N):(i==C||i==(K|C))&&!g.length?Ee=c6(r,i,a,h):Ee=ra.apply(t,_e);var He=ce?lp:zp;return Kp(He(Ee,_e),r,i)}function Np(r,i,a,h){return r===t||kr(r,Li[a])&&!it.call(h,a)?i:r}function Lp(r,i,a,h,g,v){return St(r)&&St(i)&&(v.set(i,r),Qo(r,i,t,Lp,v),v.delete(i)),r}function h6(r){return Us(r)?t:r}function Fp(r,i,a,h,g,v){var O=a&R,N=r.length,q=i.length;if(N!=q&&!(O&&q>N))return!1;var Q=v.get(r),Z=v.get(i);if(Q&&Z)return Q==i&&Z==r;var ne=-1,ce=!0,_e=a&j?new oi:t;for(v.set(r,i),v.set(i,r);++ne<N;){var Ee=r[ne],He=i[ne];if(h)var Se=O?h(He,Ee,ne,i,r,v):h(Ee,He,ne,r,i,v);if(Se!==t){if(Se)continue;ce=!1;break}if(_e){if(!oc(i,function(Ve,Ze){if(!Ss(_e,Ze)&&(Ee===Ve||g(Ee,Ve,a,h,v)))return _e.push(Ze)})){ce=!1;break}}else if(!(Ee===He||g(Ee,He,a,h,v))){ce=!1;break}}return v.delete(r),v.delete(i),ce}function l6(r,i,a,h,g,v,O){switch(a){case Ae:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case De:return!(r.byteLength!=i.byteLength||!v(new Bo(r),new Bo(i)));case B:case F:case je:return kr(+r,+i);case A:return r.name==i.name&&r.message==i.message;case qe:case Le:return r==i+"";case xe:var N=lc;case Oe:var q=h&R;if(N||(N=Lo),r.size!=i.size&&!q)return!1;var Q=O.get(r);if(Q)return Q==i;h|=j,O.set(r,i);var Z=Fp(N(r),N(i),h,g,v,O);return O.delete(r),Z;case Fe:if(Ps)return Ps.call(r)==Ps.call(i)}return!1}function d6(r,i,a,h,g,v){var O=a&R,N=Uc(r),q=N.length,Q=Uc(i),Z=Q.length;if(q!=Z&&!O)return!1;for(var ne=q;ne--;){var ce=N[ne];if(!(O?ce in i:it.call(i,ce)))return!1}var _e=v.get(r),Ee=v.get(i);if(_e&&Ee)return _e==i&&Ee==r;var He=!0;v.set(r,i),v.set(i,r);for(var Se=O;++ne<q;){ce=N[ne];var Ve=r[ce],Ze=i[ce];if(h)var Ar=O?h(Ze,Ve,ce,i,r,v):h(Ve,Ze,ce,r,i,v);if(!(Ar===t?Ve===Ze||g(Ve,Ze,a,h,v):Ar)){He=!1;break}Se||(Se=ce=="constructor")}if(He&&!Se){var dr=r.constructor,Cr=i.constructor;dr!=Cr&&"constructor"in r&&"constructor"in i&&!(typeof dr=="function"&&dr instanceof dr&&typeof Cr=="function"&&Cr instanceof Cr)&&(He=!1)}return v.delete(r),v.delete(i),He}function wn(r){return Gc(Hp(r,t,Jp),r+"")}function Uc(r){return tp(r,kt,Hc)}function Mc(r){return tp(r,mr,$p)}var qc=Wo?function(r){return Wo.get(r)}:sf;function oa(r){for(var i=r.name+"",a=$i[i],h=it.call($i,i)?a.length:0;h--;){var g=a[h],v=g.func;if(v==null||v==r)return g.name}return i}function Bi(r){var i=it.call(y,"placeholder")?y:r;return i.placeholder}function we(){var r=y.iteratee||rf;return r=r===rf?ip:r,arguments.length?r(arguments[0],arguments[1]):r}function aa(r,i){var a=r.__data__;return m6(i)?a[typeof i=="string"?"string":"hash"]:a.map}function Bc(r){for(var i=kt(r),a=i.length;a--;){var h=i[a],g=r[h];i[a]=[h,g,qp(g)]}return i}function ci(r,i){var a=DS(r,i);return np(a)?a:t}function p6(r){var i=it.call(r,ii),a=r[ii];try{r[ii]=t;var h=!0}catch{}var g=Mo.call(r);return h&&(i?r[ii]=a:delete r[ii]),g}var Hc=pc?function(r){return r==null?[]:(r=ft(r),Tn(pc(r),function(i){return jd.call(r,i)}))}:of,$p=pc?function(r){for(var i=[];r;)Rn(i,Hc(r)),r=Ho(r);return i}:of,rr=hr;(gc&&rr(new gc(new ArrayBuffer(1)))!=Ae||xs&&rr(new xs)!=xe||_c&&rr(_c.resolve())!=_t||Fi&&rr(new Fi)!=Oe||Os&&rr(new Os)!=Pe)&&(rr=function(r){var i=hr(r),a=i==Ue?r.constructor:t,h=a?fi(a):"";if(h)switch(h){case JS:return Ae;case XS:return xe;case QS:return _t;case ZS:return Oe;case e2:return Pe}return i});function g6(r,i,a){for(var h=-1,g=a.length;++h<g;){var v=a[h],O=v.size;switch(v.type){case"drop":r+=O;break;case"dropRight":i-=O;break;case"take":i=tr(i,r+O);break;case"takeRight":r=Gt(r,i-O);break}}return{start:r,end:i}}function _6(r){var i=r.match(lt);return i?i[1].split(Bt):[]}function Up(r,i,a){i=Un(i,r);for(var h=-1,g=i.length,v=!1;++h<g;){var O=nn(i[h]);if(!(v=r!=null&&a(r,O)))break;r=r[O]}return v||++h!=g?v:(g=r==null?0:r.length,!!g&&pa(g)&&bn(O,g)&&(Re(r)||hi(r)))}function y6(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&it.call(r,"index")&&(a.index=r.index,a.input=r.input),a}function Mp(r){return typeof r.constructor=="function"&&!Fs(r)?Ui(Ho(r)):{}}function v6(r,i,a){var h=r.constructor;switch(i){case De:return Lc(r);case B:case F:return new h(+r);case Ae:return t6(r,a);case ze:case Ie:case We:case ke:case et:case tt:case Xe:case ur:case yr:return bp(r,a);case xe:return new h;case je:case Le:return new h(r);case qe:return r6(r);case Oe:return new h;case Fe:return n6(r)}}function w6(r,i){var a=i.length;if(!a)return r;var h=a-1;return i[h]=(a>1?"& ":"")+i[h],i=i.join(a>2?", ":" "),r.replace(At,`{
/* [wrapped with `+i+`] */
`)}function b6(r){return Re(r)||hi(r)||!!(zd&&r&&r[zd])}function bn(r,i){var a=typeof r;return i=i??G,!!i&&(a=="number"||a!="symbol"&&Ku.test(r))&&r>-1&&r%1==0&&r<i}function lr(r,i,a){if(!St(a))return!1;var h=typeof i;return(h=="number"?br(a)&&bn(i,a.length):h=="string"&&i in a)?kr(a[i],r):!1}function jc(r,i){if(Re(r))return!1;var a=typeof r;return a=="number"||a=="symbol"||a=="boolean"||r==null||Pr(r)?!0:Ut.test(r)||!wt.test(r)||i!=null&&r in ft(i)}function m6(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function zc(r){var i=oa(r),a=y[i];if(typeof a!="function"||!(i in Ye.prototype))return!1;if(r===a)return!0;var h=qc(a);return!!h&&r===h[0]}function E6(r){return!!qd&&qd in r}var S6=$o?mn:af;function Fs(r){var i=r&&r.constructor,a=typeof i=="function"&&i.prototype||Li;return r===a}function qp(r){return r===r&&!St(r)}function Bp(r,i){return function(a){return a==null?!1:a[r]===i&&(i!==t||r in ft(a))}}function D6(r){var i=la(r,function(h){return a.size===p&&a.clear(),h}),a=i.cache;return i}function x6(r,i){var a=r[1],h=i[1],g=a|h,v=g<(K|se|f),O=h==f&&a==M||h==f&&a==w&&r[7].length<=i[8]||h==(f|w)&&i[7].length<=i[8]&&a==M;if(!(v||O))return r;h&K&&(r[2]=i[2],g|=a&K?0:L);var N=i[3];if(N){var q=r[3];r[3]=q?Ep(q,N,i[4]):N,r[4]=q?Nn(r[3],m):i[4]}return N=i[5],N&&(q=r[5],r[5]=q?Sp(q,N,i[6]):N,r[6]=q?Nn(r[5],m):i[6]),N=i[7],N&&(r[7]=N),h&f&&(r[8]=r[8]==null?i[8]:tr(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=g,r}function O6(r){var i=[];if(r!=null)for(var a in ft(r))i.push(a);return i}function I6(r){return Mo.call(r)}function Hp(r,i,a){return i=Gt(i===t?r.length-1:i,0),function(){for(var h=arguments,g=-1,v=Gt(h.length-i,0),O=z(v);++g<v;)O[g]=h[i+g];g=-1;for(var N=z(i+1);++g<i;)N[g]=h[g];return N[i]=a(O),Vt(r,this,N)}}function jp(r,i){return i.length<2?r:ui(r,Mr(i,0,-1))}function P6(r,i){for(var a=r.length,h=tr(i.length,a),g=wr(r);h--;){var v=i[h];r[h]=bn(v,a)?g[v]:t}return r}function Kc(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var zp=Gp(lp),$s=zS||function(r,i){return Qe.setTimeout(r,i)},Gc=Gp(X2);function Kp(r,i,a){var h=i+"";return Gc(r,w6(h,A6(_6(h),a)))}function Gp(r){var i=0,a=0;return function(){var h=VS(),g=de-(h-a);if(a=h,g>0){if(++i>=ue)return arguments[0]}else i=0;return r.apply(t,arguments)}}function ua(r,i){var a=-1,h=r.length,g=h-1;for(i=i===t?h:i;++a<i;){var v=Ic(a,g),O=r[v];r[v]=r[a],r[a]=O}return r.length=i,r}var Wp=D6(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(Mt,function(a,h,g,v){i.push(g?v.replace(Mu,"$1"):h||a)}),i});function nn(r){if(typeof r=="string"||Pr(r))return r;var i=r+"";return i=="0"&&1/r==-X?"-0":i}function fi(r){if(r!=null){try{return Uo.call(r)}catch{}try{return r+""}catch{}}return""}function A6(r,i){return Lr(me,function(a){var h="_."+a[0];i&a[1]&&!Ro(r,h)&&r.push(h)}),r.sort()}function Vp(r){if(r instanceof Ye)return r.clone();var i=new $r(r.__wrapped__,r.__chain__);return i.__actions__=wr(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function C6(r,i,a){(a?lr(r,i,a):i===t)?i=1:i=Gt(Me(i),0);var h=r==null?0:r.length;if(!h||i<1)return[];for(var g=0,v=0,O=z(Ko(h/i));g<h;)O[v++]=Mr(r,g,g+=i);return O}function T6(r){for(var i=-1,a=r==null?0:r.length,h=0,g=[];++i<a;){var v=r[i];v&&(g[h++]=v)}return g}function R6(){var r=arguments.length;if(!r)return[];for(var i=z(r-1),a=arguments[0],h=r;h--;)i[h-1]=arguments[h];return Rn(Re(a)?wr(a):[a],Xt(i,1))}var N6=Ke(function(r,i){return Nt(r)?Cs(r,Xt(i,1,Nt,!0)):[]}),L6=Ke(function(r,i){var a=qr(i);return Nt(a)&&(a=t),Nt(r)?Cs(r,Xt(i,1,Nt,!0),we(a,2)):[]}),F6=Ke(function(r,i){var a=qr(i);return Nt(a)&&(a=t),Nt(r)?Cs(r,Xt(i,1,Nt,!0),t,a):[]});function $6(r,i,a){var h=r==null?0:r.length;return h?(i=a||i===t?1:Me(i),Mr(r,i<0?0:i,h)):[]}function U6(r,i,a){var h=r==null?0:r.length;return h?(i=a||i===t?1:Me(i),i=h-i,Mr(r,0,i<0?0:i)):[]}function M6(r,i){return r&&r.length?ea(r,we(i,3),!0,!0):[]}function q6(r,i){return r&&r.length?ea(r,we(i,3),!0):[]}function B6(r,i,a,h){var g=r==null?0:r.length;return g?(a&&typeof a!="number"&&lr(r,i,a)&&(a=0,h=g),R2(r,i,a,h)):[]}function kp(r,i,a){var h=r==null?0:r.length;if(!h)return-1;var g=a==null?0:Me(a);return g<0&&(g=Gt(h+g,0)),No(r,we(i,3),g)}function Yp(r,i,a){var h=r==null?0:r.length;if(!h)return-1;var g=h-1;return a!==t&&(g=Me(a),g=a<0?Gt(h+g,0):tr(g,h-1)),No(r,we(i,3),g,!0)}function Jp(r){var i=r==null?0:r.length;return i?Xt(r,1):[]}function H6(r){var i=r==null?0:r.length;return i?Xt(r,X):[]}function j6(r,i){var a=r==null?0:r.length;return a?(i=i===t?1:Me(i),Xt(r,i)):[]}function z6(r){for(var i=-1,a=r==null?0:r.length,h={};++i<a;){var g=r[i];h[g[0]]=g[1]}return h}function Xp(r){return r&&r.length?r[0]:t}function K6(r,i,a){var h=r==null?0:r.length;if(!h)return-1;var g=a==null?0:Me(a);return g<0&&(g=Gt(h+g,0)),Ci(r,i,g)}function G6(r){var i=r==null?0:r.length;return i?Mr(r,0,-1):[]}var W6=Ke(function(r){var i=bt(r,Rc);return i.length&&i[0]===r[0]?Ec(i):[]}),V6=Ke(function(r){var i=qr(r),a=bt(r,Rc);return i===qr(a)?i=t:a.pop(),a.length&&a[0]===r[0]?Ec(a,we(i,2)):[]}),k6=Ke(function(r){var i=qr(r),a=bt(r,Rc);return i=typeof i=="function"?i:t,i&&a.pop(),a.length&&a[0]===r[0]?Ec(a,t,i):[]});function Y6(r,i){return r==null?"":GS.call(r,i)}function qr(r){var i=r==null?0:r.length;return i?r[i-1]:t}function J6(r,i,a){var h=r==null?0:r.length;if(!h)return-1;var g=h;return a!==t&&(g=Me(a),g=g<0?Gt(h+g,0):tr(g,h-1)),i===i?AS(r,i,g):No(r,Td,g,!0)}function X6(r,i){return r&&r.length?up(r,Me(i)):t}var Q6=Ke(Qp);function Qp(r,i){return r&&r.length&&i&&i.length?Oc(r,i):r}function Z6(r,i,a){return r&&r.length&&i&&i.length?Oc(r,i,we(a,2)):r}function eD(r,i,a){return r&&r.length&&i&&i.length?Oc(r,i,t,a):r}var tD=wn(function(r,i){var a=r==null?0:r.length,h=vc(r,i);return hp(r,bt(i,function(g){return bn(g,a)?+g:g}).sort(mp)),h});function rD(r,i){var a=[];if(!(r&&r.length))return a;var h=-1,g=[],v=r.length;for(i=we(i,3);++h<v;){var O=r[h];i(O,h,r)&&(a.push(O),g.push(h))}return hp(r,g),a}function Wc(r){return r==null?r:YS.call(r)}function nD(r,i,a){var h=r==null?0:r.length;return h?(a&&typeof a!="number"&&lr(r,i,a)?(i=0,a=h):(i=i==null?0:Me(i),a=a===t?h:Me(a)),Mr(r,i,a)):[]}function iD(r,i){return Zo(r,i)}function sD(r,i,a){return Ac(r,i,we(a,2))}function oD(r,i){var a=r==null?0:r.length;if(a){var h=Zo(r,i);if(h<a&&kr(r[h],i))return h}return-1}function aD(r,i){return Zo(r,i,!0)}function uD(r,i,a){return Ac(r,i,we(a,2),!0)}function cD(r,i){var a=r==null?0:r.length;if(a){var h=Zo(r,i,!0)-1;if(kr(r[h],i))return h}return-1}function fD(r){return r&&r.length?dp(r):[]}function hD(r,i){return r&&r.length?dp(r,we(i,2)):[]}function lD(r){var i=r==null?0:r.length;return i?Mr(r,1,i):[]}function dD(r,i,a){return r&&r.length?(i=a||i===t?1:Me(i),Mr(r,0,i<0?0:i)):[]}function pD(r,i,a){var h=r==null?0:r.length;return h?(i=a||i===t?1:Me(i),i=h-i,Mr(r,i<0?0:i,h)):[]}function gD(r,i){return r&&r.length?ea(r,we(i,3),!1,!0):[]}function _D(r,i){return r&&r.length?ea(r,we(i,3)):[]}var yD=Ke(function(r){return $n(Xt(r,1,Nt,!0))}),vD=Ke(function(r){var i=qr(r);return Nt(i)&&(i=t),$n(Xt(r,1,Nt,!0),we(i,2))}),wD=Ke(function(r){var i=qr(r);return i=typeof i=="function"?i:t,$n(Xt(r,1,Nt,!0),t,i)});function bD(r){return r&&r.length?$n(r):[]}function mD(r,i){return r&&r.length?$n(r,we(i,2)):[]}function ED(r,i){return i=typeof i=="function"?i:t,r&&r.length?$n(r,t,i):[]}function Vc(r){if(!(r&&r.length))return[];var i=0;return r=Tn(r,function(a){if(Nt(a))return i=Gt(a.length,i),!0}),fc(i,function(a){return bt(r,ac(a))})}function Zp(r,i){if(!(r&&r.length))return[];var a=Vc(r);return i==null?a:bt(a,function(h){return Vt(i,t,h)})}var SD=Ke(function(r,i){return Nt(r)?Cs(r,i):[]}),DD=Ke(function(r){return Tc(Tn(r,Nt))}),xD=Ke(function(r){var i=qr(r);return Nt(i)&&(i=t),Tc(Tn(r,Nt),we(i,2))}),OD=Ke(function(r){var i=qr(r);return i=typeof i=="function"?i:t,Tc(Tn(r,Nt),t,i)}),ID=Ke(Vc);function PD(r,i){return yp(r||[],i||[],As)}function AD(r,i){return yp(r||[],i||[],Ns)}var CD=Ke(function(r){var i=r.length,a=i>1?r[i-1]:t;return a=typeof a=="function"?(r.pop(),a):t,Zp(r,a)});function eg(r){var i=y(r);return i.__chain__=!0,i}function TD(r,i){return i(r),r}function ca(r,i){return i(r)}var RD=wn(function(r){var i=r.length,a=i?r[0]:0,h=this.__wrapped__,g=function(v){return vc(v,r)};return i>1||this.__actions__.length||!(h instanceof Ye)||!bn(a)?this.thru(g):(h=h.slice(a,+a+(i?1:0)),h.__actions__.push({func:ca,args:[g],thisArg:t}),new $r(h,this.__chain__).thru(function(v){return i&&!v.length&&v.push(t),v}))});function ND(){return eg(this)}function LD(){return new $r(this.value(),this.__chain__)}function FD(){this.__values__===t&&(this.__values__=pg(this.value()));var r=this.__index__>=this.__values__.length,i=r?t:this.__values__[this.__index__++];return{done:r,value:i}}function $D(){return this}function UD(r){for(var i,a=this;a instanceof ko;){var h=Vp(a);h.__index__=0,h.__values__=t,i?g.__wrapped__=h:i=h;var g=h;a=a.__wrapped__}return g.__wrapped__=r,i}function MD(){var r=this.__wrapped__;if(r instanceof Ye){var i=r;return this.__actions__.length&&(i=new Ye(this)),i=i.reverse(),i.__actions__.push({func:ca,args:[Wc],thisArg:t}),new $r(i,this.__chain__)}return this.thru(Wc)}function qD(){return _p(this.__wrapped__,this.__actions__)}var BD=ta(function(r,i,a){it.call(r,a)?++r[a]:yn(r,a,1)});function HD(r,i,a){var h=Re(r)?Ad:T2;return a&&lr(r,i,a)&&(i=t),h(r,we(i,3))}function jD(r,i){var a=Re(r)?Tn:Zd;return a(r,we(i,3))}var zD=Ip(kp),KD=Ip(Yp);function GD(r,i){return Xt(fa(r,i),1)}function WD(r,i){return Xt(fa(r,i),X)}function VD(r,i,a){return a=a===t?1:Me(a),Xt(fa(r,i),a)}function tg(r,i){var a=Re(r)?Lr:Fn;return a(r,we(i,3))}function rg(r,i){var a=Re(r)?lS:Qd;return a(r,we(i,3))}var kD=ta(function(r,i,a){it.call(r,a)?r[a].push(i):yn(r,a,[i])});function YD(r,i,a,h){r=br(r)?r:ji(r),a=a&&!h?Me(a):0;var g=r.length;return a<0&&(a=Gt(g+a,0)),ga(r)?a<=g&&r.indexOf(i,a)>-1:!!g&&Ci(r,i,a)>-1}var JD=Ke(function(r,i,a){var h=-1,g=typeof i=="function",v=br(r)?z(r.length):[];return Fn(r,function(O){v[++h]=g?Vt(i,O,a):Ts(O,i,a)}),v}),XD=ta(function(r,i,a){yn(r,a,i)});function fa(r,i){var a=Re(r)?bt:sp;return a(r,we(i,3))}function QD(r,i,a,h){return r==null?[]:(Re(i)||(i=i==null?[]:[i]),a=h?t:a,Re(a)||(a=a==null?[]:[a]),cp(r,i,a))}var ZD=ta(function(r,i,a){r[a?0:1].push(i)},function(){return[[],[]]});function ex(r,i,a){var h=Re(r)?sc:Nd,g=arguments.length<3;return h(r,we(i,4),a,g,Fn)}function tx(r,i,a){var h=Re(r)?dS:Nd,g=arguments.length<3;return h(r,we(i,4),a,g,Qd)}function rx(r,i){var a=Re(r)?Tn:Zd;return a(r,da(we(i,3)))}function nx(r){var i=Re(r)?kd:Y2;return i(r)}function ix(r,i,a){(a?lr(r,i,a):i===t)?i=1:i=Me(i);var h=Re(r)?O2:J2;return h(r,i)}function sx(r){var i=Re(r)?I2:Q2;return i(r)}function ox(r){if(r==null)return 0;if(br(r))return ga(r)?Ri(r):r.length;var i=rr(r);return i==xe||i==Oe?r.size:Dc(r).length}function ax(r,i,a){var h=Re(r)?oc:Z2;return a&&lr(r,i,a)&&(i=t),h(r,we(i,3))}var ux=Ke(function(r,i){if(r==null)return[];var a=i.length;return a>1&&lr(r,i[0],i[1])?i=[]:a>2&&lr(i[0],i[1],i[2])&&(i=[i[0]]),cp(r,Xt(i,1),[])}),ha=jS||function(){return Qe.Date.now()};function cx(r,i){if(typeof i!="function")throw new Fr(c);return r=Me(r),function(){if(--r<1)return i.apply(this,arguments)}}function ng(r,i,a){return i=a?t:i,i=r&&i==null?r.length:i,vn(r,f,t,t,t,t,i)}function ig(r,i){var a;if(typeof i!="function")throw new Fr(c);return r=Me(r),function(){return--r>0&&(a=i.apply(this,arguments)),r<=1&&(i=t),a}}var kc=Ke(function(r,i,a){var h=K;if(a.length){var g=Nn(a,Bi(kc));h|=C}return vn(r,h,i,a,g)}),sg=Ke(function(r,i,a){var h=K|se;if(a.length){var g=Nn(a,Bi(sg));h|=C}return vn(i,h,r,a,g)});function og(r,i,a){i=a?t:i;var h=vn(r,M,t,t,t,t,t,i);return h.placeholder=og.placeholder,h}function ag(r,i,a){i=a?t:i;var h=vn(r,x,t,t,t,t,t,i);return h.placeholder=ag.placeholder,h}function ug(r,i,a){var h,g,v,O,N,q,Q=0,Z=!1,ne=!1,ce=!0;if(typeof r!="function")throw new Fr(c);i=Br(i)||0,St(a)&&(Z=!!a.leading,ne="maxWait"in a,v=ne?Gt(Br(a.maxWait)||0,i):v,ce="trailing"in a?!!a.trailing:ce);function _e(Lt){var Yr=h,Sn=g;return h=g=t,Q=Lt,O=r.apply(Sn,Yr),O}function Ee(Lt){return Q=Lt,N=$s(Ve,i),Z?_e(Lt):O}function He(Lt){var Yr=Lt-q,Sn=Lt-Q,Ig=i-Yr;return ne?tr(Ig,v-Sn):Ig}function Se(Lt){var Yr=Lt-q,Sn=Lt-Q;return q===t||Yr>=i||Yr<0||ne&&Sn>=v}function Ve(){var Lt=ha();if(Se(Lt))return Ze(Lt);N=$s(Ve,He(Lt))}function Ze(Lt){return N=t,ce&&h?_e(Lt):(h=g=t,O)}function Ar(){N!==t&&vp(N),Q=0,h=q=g=N=t}function dr(){return N===t?O:Ze(ha())}function Cr(){var Lt=ha(),Yr=Se(Lt);if(h=arguments,g=this,q=Lt,Yr){if(N===t)return Ee(q);if(ne)return vp(N),N=$s(Ve,i),_e(q)}return N===t&&(N=$s(Ve,i)),O}return Cr.cancel=Ar,Cr.flush=dr,Cr}var fx=Ke(function(r,i){return Xd(r,1,i)}),hx=Ke(function(r,i,a){return Xd(r,Br(i)||0,a)});function lx(r){return vn(r,V)}function la(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new Fr(c);var a=function(){var h=arguments,g=i?i.apply(this,h):h[0],v=a.cache;if(v.has(g))return v.get(g);var O=r.apply(this,h);return a.cache=v.set(g,O)||v,O};return a.cache=new(la.Cache||_n),a}la.Cache=_n;function da(r){if(typeof r!="function")throw new Fr(c);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function dx(r){return ig(2,r)}var px=e6(function(r,i){i=i.length==1&&Re(i[0])?bt(i[0],Or(we())):bt(Xt(i,1),Or(we()));var a=i.length;return Ke(function(h){for(var g=-1,v=tr(h.length,a);++g<v;)h[g]=i[g].call(this,h[g]);return Vt(r,this,h)})}),Yc=Ke(function(r,i){var a=Nn(i,Bi(Yc));return vn(r,C,t,i,a)}),cg=Ke(function(r,i){var a=Nn(i,Bi(cg));return vn(r,E,t,i,a)}),gx=wn(function(r,i){return vn(r,w,t,t,t,i)});function _x(r,i){if(typeof r!="function")throw new Fr(c);return i=i===t?i:Me(i),Ke(r,i)}function yx(r,i){if(typeof r!="function")throw new Fr(c);return i=i==null?0:Gt(Me(i),0),Ke(function(a){var h=a[i],g=Mn(a,0,i);return h&&Rn(g,h),Vt(r,this,g)})}function vx(r,i,a){var h=!0,g=!0;if(typeof r!="function")throw new Fr(c);return St(a)&&(h="leading"in a?!!a.leading:h,g="trailing"in a?!!a.trailing:g),ug(r,i,{leading:h,maxWait:i,trailing:g})}function wx(r){return ng(r,1)}function bx(r,i){return Yc(Nc(i),r)}function mx(){if(!arguments.length)return[];var r=arguments[0];return Re(r)?r:[r]}function Ex(r){return Ur(r,T)}function Sx(r,i){return i=typeof i=="function"?i:t,Ur(r,T,i)}function Dx(r){return Ur(r,I|T)}function xx(r,i){return i=typeof i=="function"?i:t,Ur(r,I|T,i)}function Ox(r,i){return i==null||Jd(r,i,kt(i))}function kr(r,i){return r===i||r!==r&&i!==i}var Ix=sa(mc),Px=sa(function(r,i){return r>=i}),hi=rp(function(){return arguments}())?rp:function(r){return Ct(r)&&it.call(r,"callee")&&!jd.call(r,"callee")},Re=z.isArray,Ax=fr?Or(fr):U2;function br(r){return r!=null&&pa(r.length)&&!mn(r)}function Nt(r){return Ct(r)&&br(r)}function Cx(r){return r===!0||r===!1||Ct(r)&&hr(r)==B}var qn=KS||af,Tx=Gr?Or(Gr):M2;function Rx(r){return Ct(r)&&r.nodeType===1&&!Us(r)}function Nx(r){if(r==null)return!0;if(br(r)&&(Re(r)||typeof r=="string"||typeof r.splice=="function"||qn(r)||Hi(r)||hi(r)))return!r.length;var i=rr(r);if(i==xe||i==Oe)return!r.size;if(Fs(r))return!Dc(r).length;for(var a in r)if(it.call(r,a))return!1;return!0}function Lx(r,i){return Rs(r,i)}function Fx(r,i,a){a=typeof a=="function"?a:t;var h=a?a(r,i):t;return h===t?Rs(r,i,t,a):!!h}function Jc(r){if(!Ct(r))return!1;var i=hr(r);return i==A||i==d||typeof r.message=="string"&&typeof r.name=="string"&&!Us(r)}function $x(r){return typeof r=="number"&&Kd(r)}function mn(r){if(!St(r))return!1;var i=hr(r);return i==ae||i==le||i==H||i==yt}function fg(r){return typeof r=="number"&&r==Me(r)}function pa(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=G}function St(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function Ct(r){return r!=null&&typeof r=="object"}var hg=Nr?Or(Nr):B2;function Ux(r,i){return r===i||Sc(r,i,Bc(i))}function Mx(r,i,a){return a=typeof a=="function"?a:t,Sc(r,i,Bc(i),a)}function qx(r){return lg(r)&&r!=+r}function Bx(r){if(S6(r))throw new Ce(u);return np(r)}function Hx(r){return r===null}function jx(r){return r==null}function lg(r){return typeof r=="number"||Ct(r)&&hr(r)==je}function Us(r){if(!Ct(r)||hr(r)!=Ue)return!1;var i=Ho(r);if(i===null)return!0;var a=it.call(i,"constructor")&&i.constructor;return typeof a=="function"&&a instanceof a&&Uo.call(a)==MS}var Xc=en?Or(en):H2;function zx(r){return fg(r)&&r>=-G&&r<=G}var dg=Es?Or(Es):j2;function ga(r){return typeof r=="string"||!Re(r)&&Ct(r)&&hr(r)==Le}function Pr(r){return typeof r=="symbol"||Ct(r)&&hr(r)==Fe}var Hi=ni?Or(ni):z2;function Kx(r){return r===t}function Gx(r){return Ct(r)&&rr(r)==Pe}function Wx(r){return Ct(r)&&hr(r)==$e}var Vx=sa(xc),kx=sa(function(r,i){return r<=i});function pg(r){if(!r)return[];if(br(r))return ga(r)?Wr(r):wr(r);if(Ds&&r[Ds])return OS(r[Ds]());var i=rr(r),a=i==xe?lc:i==Oe?Lo:ji;return a(r)}function En(r){if(!r)return r===0?r:0;if(r=Br(r),r===X||r===-X){var i=r<0?-1:1;return i*W}return r===r?r:0}function Me(r){var i=En(r),a=i%1;return i===i?a?i-a:i:0}function gg(r){return r?ai(Me(r),0,re):0}function Br(r){if(typeof r=="number")return r;if(Pr(r))return J;if(St(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=St(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=Ld(r);var a=Hu.test(r);return a||zu.test(r)?Te(r.slice(2),a?2:8):Bu.test(r)?J:+r}function _g(r){return rn(r,mr(r))}function Yx(r){return r?ai(Me(r),-G,G):r===0?r:0}function nt(r){return r==null?"":Ir(r)}var Jx=Mi(function(r,i){if(Fs(i)||br(i)){rn(i,kt(i),r);return}for(var a in i)it.call(i,a)&&As(r,a,i[a])}),yg=Mi(function(r,i){rn(i,mr(i),r)}),_a=Mi(function(r,i,a,h){rn(i,mr(i),r,h)}),Xx=Mi(function(r,i,a,h){rn(i,kt(i),r,h)}),Qx=wn(vc);function Zx(r,i){var a=Ui(r);return i==null?a:Yd(a,i)}var e5=Ke(function(r,i){r=ft(r);var a=-1,h=i.length,g=h>2?i[2]:t;for(g&&lr(i[0],i[1],g)&&(h=1);++a<h;)for(var v=i[a],O=mr(v),N=-1,q=O.length;++N<q;){var Q=O[N],Z=r[Q];(Z===t||kr(Z,Li[Q])&&!it.call(r,Q))&&(r[Q]=v[Q])}return r}),t5=Ke(function(r){return r.push(t,Lp),Vt(vg,t,r)});function r5(r,i){return Cd(r,we(i,3),tn)}function n5(r,i){return Cd(r,we(i,3),bc)}function i5(r,i){return r==null?r:wc(r,we(i,3),mr)}function s5(r,i){return r==null?r:ep(r,we(i,3),mr)}function o5(r,i){return r&&tn(r,we(i,3))}function a5(r,i){return r&&bc(r,we(i,3))}function u5(r){return r==null?[]:Xo(r,kt(r))}function c5(r){return r==null?[]:Xo(r,mr(r))}function Qc(r,i,a){var h=r==null?t:ui(r,i);return h===t?a:h}function f5(r,i){return r!=null&&Up(r,i,N2)}function Zc(r,i){return r!=null&&Up(r,i,L2)}var h5=Ap(function(r,i,a){i!=null&&typeof i.toString!="function"&&(i=Mo.call(i)),r[i]=a},tf(Er)),l5=Ap(function(r,i,a){i!=null&&typeof i.toString!="function"&&(i=Mo.call(i)),it.call(r,i)?r[i].push(a):r[i]=[a]},we),d5=Ke(Ts);function kt(r){return br(r)?Vd(r):Dc(r)}function mr(r){return br(r)?Vd(r,!0):K2(r)}function p5(r,i){var a={};return i=we(i,3),tn(r,function(h,g,v){yn(a,i(h,g,v),h)}),a}function g5(r,i){var a={};return i=we(i,3),tn(r,function(h,g,v){yn(a,g,i(h,g,v))}),a}var _5=Mi(function(r,i,a){Qo(r,i,a)}),vg=Mi(function(r,i,a,h){Qo(r,i,a,h)}),y5=wn(function(r,i){var a={};if(r==null)return a;var h=!1;i=bt(i,function(v){return v=Un(v,r),h||(h=v.length>1),v}),rn(r,Mc(r),a),h&&(a=Ur(a,I|D|T,h6));for(var g=i.length;g--;)Cc(a,i[g]);return a});function v5(r,i){return wg(r,da(we(i)))}var w5=wn(function(r,i){return r==null?{}:W2(r,i)});function wg(r,i){if(r==null)return{};var a=bt(Mc(r),function(h){return[h]});return i=we(i),fp(r,a,function(h,g){return i(h,g[0])})}function b5(r,i,a){i=Un(i,r);var h=-1,g=i.length;for(g||(g=1,r=t);++h<g;){var v=r==null?t:r[nn(i[h])];v===t&&(h=g,v=a),r=mn(v)?v.call(r):v}return r}function m5(r,i,a){return r==null?r:Ns(r,i,a)}function E5(r,i,a,h){return h=typeof h=="function"?h:t,r==null?r:Ns(r,i,a,h)}var bg=Rp(kt),mg=Rp(mr);function S5(r,i,a){var h=Re(r),g=h||qn(r)||Hi(r);if(i=we(i,4),a==null){var v=r&&r.constructor;g?a=h?new v:[]:St(r)?a=mn(v)?Ui(Ho(r)):{}:a={}}return(g?Lr:tn)(r,function(O,N,q){return i(a,O,N,q)}),a}function D5(r,i){return r==null?!0:Cc(r,i)}function x5(r,i,a){return r==null?r:gp(r,i,Nc(a))}function O5(r,i,a,h){return h=typeof h=="function"?h:t,r==null?r:gp(r,i,Nc(a),h)}function ji(r){return r==null?[]:hc(r,kt(r))}function I5(r){return r==null?[]:hc(r,mr(r))}function P5(r,i,a){return a===t&&(a=i,i=t),a!==t&&(a=Br(a),a=a===a?a:0),i!==t&&(i=Br(i),i=i===i?i:0),ai(Br(r),i,a)}function A5(r,i,a){return i=En(i),a===t?(a=i,i=0):a=En(a),r=Br(r),F2(r,i,a)}function C5(r,i,a){if(a&&typeof a!="boolean"&&lr(r,i,a)&&(i=a=t),a===t&&(typeof i=="boolean"?(a=i,i=t):typeof r=="boolean"&&(a=r,r=t)),r===t&&i===t?(r=0,i=1):(r=En(r),i===t?(i=r,r=0):i=En(i)),r>i){var h=r;r=i,i=h}if(a||r%1||i%1){var g=Gd();return tr(r+g*(i-r+ut("1e-"+((g+"").length-1))),i)}return Ic(r,i)}var T5=qi(function(r,i,a){return i=i.toLowerCase(),r+(a?Eg(i):i)});function Eg(r){return ef(nt(r).toLowerCase())}function Sg(r){return r=nt(r),r&&r.replace(dn,mS).replace(rc,"")}function R5(r,i,a){r=nt(r),i=Ir(i);var h=r.length;a=a===t?h:ai(Me(a),0,h);var g=a;return a-=i.length,a>=0&&r.slice(a,g)==i}function N5(r){return r=nt(r),r&&vt.test(r)?r.replace(Qn,ES):r}function L5(r){return r=nt(r),r&&qt.test(r)?r.replace(It,"\\$&"):r}var F5=qi(function(r,i,a){return r+(a?"-":"")+i.toLowerCase()}),$5=qi(function(r,i,a){return r+(a?" ":"")+i.toLowerCase()}),U5=Op("toLowerCase");function M5(r,i,a){r=nt(r),i=Me(i);var h=i?Ri(r):0;if(!i||h>=i)return r;var g=(i-h)/2;return ia(Go(g),a)+r+ia(Ko(g),a)}function q5(r,i,a){r=nt(r),i=Me(i);var h=i?Ri(r):0;return i&&h<i?r+ia(i-h,a):r}function B5(r,i,a){r=nt(r),i=Me(i);var h=i?Ri(r):0;return i&&h<i?ia(i-h,a)+r:r}function H5(r,i,a){return a||i==null?i=0:i&&(i=+i),kS(nt(r).replace(Pt,""),i||0)}function j5(r,i,a){return(a?lr(r,i,a):i===t)?i=1:i=Me(i),Pc(nt(r),i)}function z5(){var r=arguments,i=nt(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var K5=qi(function(r,i,a){return r+(a?"_":"")+i.toLowerCase()});function G5(r,i,a){return a&&typeof a!="number"&&lr(r,i,a)&&(i=a=t),a=a===t?re:a>>>0,a?(r=nt(r),r&&(typeof i=="string"||i!=null&&!Xc(i))&&(i=Ir(i),!i&&Ti(r))?Mn(Wr(r),0,a):r.split(i,a)):[]}var W5=qi(function(r,i,a){return r+(a?" ":"")+ef(i)});function V5(r,i,a){return r=nt(r),a=a==null?0:ai(Me(a),0,r.length),i=Ir(i),r.slice(a,a+i.length)==i}function k5(r,i,a){var h=y.templateSettings;a&&lr(r,i,a)&&(i=t),r=nt(r),i=_a({},i,h,Np);var g=_a({},i.imports,h.imports,Np),v=kt(g),O=hc(g,v),N,q,Q=0,Z=i.interpolate||Si,ne="__p += '",ce=dc((i.escape||Si).source+"|"+Z.source+"|"+(Z===Et?qu:Si).source+"|"+(i.evaluate||Si).source+"|$","g"),_e="//# sourceURL="+(it.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nc+"]")+`
`;r.replace(ce,function(Se,Ve,Ze,Ar,dr,Cr){return Ze||(Ze=Ar),ne+=r.slice(Q,Cr).replace(Gu,SS),Ve&&(N=!0,ne+=`' +
__e(`+Ve+`) +
'`),dr&&(q=!0,ne+=`';
`+dr+`;
__p += '`),Ze&&(ne+=`' +
((__t = (`+Ze+`)) == null ? '' : __t) +
'`),Q=Cr+Se.length,Se}),ne+=`';
`;var Ee=it.call(i,"variable")&&i.variable;if(!Ee)ne=`with (obj) {
`+ne+`
}
`;else if(Uu.test(Ee))throw new Ce(l);ne=(q?ne.replace(Qr,""):ne).replace(cr,"$1").replace(ln,"$1;"),ne="function("+(Ee||"obj")+`) {
`+(Ee?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(N?", __e = _.escape":"")+(q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ne+`return __p
}`;var He=xg(function(){return rt(v,_e+"return "+ne).apply(t,O)});if(He.source=ne,Jc(He))throw He;return He}function Y5(r){return nt(r).toLowerCase()}function J5(r){return nt(r).toUpperCase()}function X5(r,i,a){if(r=nt(r),r&&(a||i===t))return Ld(r);if(!r||!(i=Ir(i)))return r;var h=Wr(r),g=Wr(i),v=Fd(h,g),O=$d(h,g)+1;return Mn(h,v,O).join("")}function Q5(r,i,a){if(r=nt(r),r&&(a||i===t))return r.slice(0,Md(r)+1);if(!r||!(i=Ir(i)))return r;var h=Wr(r),g=$d(h,Wr(i))+1;return Mn(h,0,g).join("")}function Z5(r,i,a){if(r=nt(r),r&&(a||i===t))return r.replace(Pt,"");if(!r||!(i=Ir(i)))return r;var h=Wr(r),g=Fd(h,Wr(i));return Mn(h,g).join("")}function eO(r,i){var a=Y,h=ie;if(St(i)){var g="separator"in i?i.separator:g;a="length"in i?Me(i.length):a,h="omission"in i?Ir(i.omission):h}r=nt(r);var v=r.length;if(Ti(r)){var O=Wr(r);v=O.length}if(a>=v)return r;var N=a-Ri(h);if(N<1)return h;var q=O?Mn(O,0,N).join(""):r.slice(0,N);if(g===t)return q+h;if(O&&(N+=q.length-N),Xc(g)){if(r.slice(N).search(g)){var Q,Z=q;for(g.global||(g=dc(g.source,nt(Rr.exec(g))+"g")),g.lastIndex=0;Q=g.exec(Z);)var ne=Q.index;q=q.slice(0,ne===t?N:ne)}}else if(r.indexOf(Ir(g),N)!=N){var ce=q.lastIndexOf(g);ce>-1&&(q=q.slice(0,ce))}return q+h}function tO(r){return r=nt(r),r&&Dt.test(r)?r.replace(An,CS):r}var rO=qi(function(r,i,a){return r+(a?" ":"")+i.toUpperCase()}),ef=Op("toUpperCase");function Dg(r,i,a){return r=nt(r),i=a?t:i,i===t?xS(r)?NS(r):_S(r):r.match(i)||[]}var xg=Ke(function(r,i){try{return Vt(r,t,i)}catch(a){return Jc(a)?a:new Ce(a)}}),nO=wn(function(r,i){return Lr(i,function(a){a=nn(a),yn(r,a,kc(r[a],r))}),r});function iO(r){var i=r==null?0:r.length,a=we();return r=i?bt(r,function(h){if(typeof h[1]!="function")throw new Fr(c);return[a(h[0]),h[1]]}):[],Ke(function(h){for(var g=-1;++g<i;){var v=r[g];if(Vt(v[0],this,h))return Vt(v[1],this,h)}})}function sO(r){return C2(Ur(r,I))}function tf(r){return function(){return r}}function oO(r,i){return r==null||r!==r?i:r}var aO=Pp(),uO=Pp(!0);function Er(r){return r}function rf(r){return ip(typeof r=="function"?r:Ur(r,I))}function cO(r){return op(Ur(r,I))}function fO(r,i){return ap(r,Ur(i,I))}var hO=Ke(function(r,i){return function(a){return Ts(a,r,i)}}),lO=Ke(function(r,i){return function(a){return Ts(r,a,i)}});function nf(r,i,a){var h=kt(i),g=Xo(i,h);a==null&&!(St(i)&&(g.length||!h.length))&&(a=i,i=r,r=this,g=Xo(i,kt(i)));var v=!(St(a)&&"chain"in a)||!!a.chain,O=mn(r);return Lr(g,function(N){var q=i[N];r[N]=q,O&&(r.prototype[N]=function(){var Q=this.__chain__;if(v||Q){var Z=r(this.__wrapped__),ne=Z.__actions__=wr(this.__actions__);return ne.push({func:q,args:arguments,thisArg:r}),Z.__chain__=Q,Z}return q.apply(r,Rn([this.value()],arguments))})}),r}function dO(){return Qe._===this&&(Qe._=qS),this}function sf(){}function pO(r){return r=Me(r),Ke(function(i){return up(i,r)})}var gO=Fc(bt),_O=Fc(Ad),yO=Fc(oc);function Og(r){return jc(r)?ac(nn(r)):V2(r)}function vO(r){return function(i){return r==null?t:ui(r,i)}}var wO=Cp(),bO=Cp(!0);function of(){return[]}function af(){return!1}function mO(){return{}}function EO(){return""}function SO(){return!0}function DO(r,i){if(r=Me(r),r<1||r>G)return[];var a=re,h=tr(r,re);i=we(i),r-=re;for(var g=fc(h,i);++a<r;)i(a);return g}function xO(r){return Re(r)?bt(r,nn):Pr(r)?[r]:wr(Wp(nt(r)))}function OO(r){var i=++US;return nt(r)+i}var IO=na(function(r,i){return r+i},0),PO=$c("ceil"),AO=na(function(r,i){return r/i},1),CO=$c("floor");function TO(r){return r&&r.length?Jo(r,Er,mc):t}function RO(r,i){return r&&r.length?Jo(r,we(i,2),mc):t}function NO(r){return Rd(r,Er)}function LO(r,i){return Rd(r,we(i,2))}function FO(r){return r&&r.length?Jo(r,Er,xc):t}function $O(r,i){return r&&r.length?Jo(r,we(i,2),xc):t}var UO=na(function(r,i){return r*i},1),MO=$c("round"),qO=na(function(r,i){return r-i},0);function BO(r){return r&&r.length?cc(r,Er):0}function HO(r,i){return r&&r.length?cc(r,we(i,2)):0}return y.after=cx,y.ary=ng,y.assign=Jx,y.assignIn=yg,y.assignInWith=_a,y.assignWith=Xx,y.at=Qx,y.before=ig,y.bind=kc,y.bindAll=nO,y.bindKey=sg,y.castArray=mx,y.chain=eg,y.chunk=C6,y.compact=T6,y.concat=R6,y.cond=iO,y.conforms=sO,y.constant=tf,y.countBy=BD,y.create=Zx,y.curry=og,y.curryRight=ag,y.debounce=ug,y.defaults=e5,y.defaultsDeep=t5,y.defer=fx,y.delay=hx,y.difference=N6,y.differenceBy=L6,y.differenceWith=F6,y.drop=$6,y.dropRight=U6,y.dropRightWhile=M6,y.dropWhile=q6,y.fill=B6,y.filter=jD,y.flatMap=GD,y.flatMapDeep=WD,y.flatMapDepth=VD,y.flatten=Jp,y.flattenDeep=H6,y.flattenDepth=j6,y.flip=lx,y.flow=aO,y.flowRight=uO,y.fromPairs=z6,y.functions=u5,y.functionsIn=c5,y.groupBy=kD,y.initial=G6,y.intersection=W6,y.intersectionBy=V6,y.intersectionWith=k6,y.invert=h5,y.invertBy=l5,y.invokeMap=JD,y.iteratee=rf,y.keyBy=XD,y.keys=kt,y.keysIn=mr,y.map=fa,y.mapKeys=p5,y.mapValues=g5,y.matches=cO,y.matchesProperty=fO,y.memoize=la,y.merge=_5,y.mergeWith=vg,y.method=hO,y.methodOf=lO,y.mixin=nf,y.negate=da,y.nthArg=pO,y.omit=y5,y.omitBy=v5,y.once=dx,y.orderBy=QD,y.over=gO,y.overArgs=px,y.overEvery=_O,y.overSome=yO,y.partial=Yc,y.partialRight=cg,y.partition=ZD,y.pick=w5,y.pickBy=wg,y.property=Og,y.propertyOf=vO,y.pull=Q6,y.pullAll=Qp,y.pullAllBy=Z6,y.pullAllWith=eD,y.pullAt=tD,y.range=wO,y.rangeRight=bO,y.rearg=gx,y.reject=rx,y.remove=rD,y.rest=_x,y.reverse=Wc,y.sampleSize=ix,y.set=m5,y.setWith=E5,y.shuffle=sx,y.slice=nD,y.sortBy=ux,y.sortedUniq=fD,y.sortedUniqBy=hD,y.split=G5,y.spread=yx,y.tail=lD,y.take=dD,y.takeRight=pD,y.takeRightWhile=gD,y.takeWhile=_D,y.tap=TD,y.throttle=vx,y.thru=ca,y.toArray=pg,y.toPairs=bg,y.toPairsIn=mg,y.toPath=xO,y.toPlainObject=_g,y.transform=S5,y.unary=wx,y.union=yD,y.unionBy=vD,y.unionWith=wD,y.uniq=bD,y.uniqBy=mD,y.uniqWith=ED,y.unset=D5,y.unzip=Vc,y.unzipWith=Zp,y.update=x5,y.updateWith=O5,y.values=ji,y.valuesIn=I5,y.without=SD,y.words=Dg,y.wrap=bx,y.xor=DD,y.xorBy=xD,y.xorWith=OD,y.zip=ID,y.zipObject=PD,y.zipObjectDeep=AD,y.zipWith=CD,y.entries=bg,y.entriesIn=mg,y.extend=yg,y.extendWith=_a,nf(y,y),y.add=IO,y.attempt=xg,y.camelCase=T5,y.capitalize=Eg,y.ceil=PO,y.clamp=P5,y.clone=Ex,y.cloneDeep=Dx,y.cloneDeepWith=xx,y.cloneWith=Sx,y.conformsTo=Ox,y.deburr=Sg,y.defaultTo=oO,y.divide=AO,y.endsWith=R5,y.eq=kr,y.escape=N5,y.escapeRegExp=L5,y.every=HD,y.find=zD,y.findIndex=kp,y.findKey=r5,y.findLast=KD,y.findLastIndex=Yp,y.findLastKey=n5,y.floor=CO,y.forEach=tg,y.forEachRight=rg,y.forIn=i5,y.forInRight=s5,y.forOwn=o5,y.forOwnRight=a5,y.get=Qc,y.gt=Ix,y.gte=Px,y.has=f5,y.hasIn=Zc,y.head=Xp,y.identity=Er,y.includes=YD,y.indexOf=K6,y.inRange=A5,y.invoke=d5,y.isArguments=hi,y.isArray=Re,y.isArrayBuffer=Ax,y.isArrayLike=br,y.isArrayLikeObject=Nt,y.isBoolean=Cx,y.isBuffer=qn,y.isDate=Tx,y.isElement=Rx,y.isEmpty=Nx,y.isEqual=Lx,y.isEqualWith=Fx,y.isError=Jc,y.isFinite=$x,y.isFunction=mn,y.isInteger=fg,y.isLength=pa,y.isMap=hg,y.isMatch=Ux,y.isMatchWith=Mx,y.isNaN=qx,y.isNative=Bx,y.isNil=jx,y.isNull=Hx,y.isNumber=lg,y.isObject=St,y.isObjectLike=Ct,y.isPlainObject=Us,y.isRegExp=Xc,y.isSafeInteger=zx,y.isSet=dg,y.isString=ga,y.isSymbol=Pr,y.isTypedArray=Hi,y.isUndefined=Kx,y.isWeakMap=Gx,y.isWeakSet=Wx,y.join=Y6,y.kebabCase=F5,y.last=qr,y.lastIndexOf=J6,y.lowerCase=$5,y.lowerFirst=U5,y.lt=Vx,y.lte=kx,y.max=TO,y.maxBy=RO,y.mean=NO,y.meanBy=LO,y.min=FO,y.minBy=$O,y.stubArray=of,y.stubFalse=af,y.stubObject=mO,y.stubString=EO,y.stubTrue=SO,y.multiply=UO,y.nth=X6,y.noConflict=dO,y.noop=sf,y.now=ha,y.pad=M5,y.padEnd=q5,y.padStart=B5,y.parseInt=H5,y.random=C5,y.reduce=ex,y.reduceRight=tx,y.repeat=j5,y.replace=z5,y.result=b5,y.round=MO,y.runInContext=$,y.sample=nx,y.size=ox,y.snakeCase=K5,y.some=ax,y.sortedIndex=iD,y.sortedIndexBy=sD,y.sortedIndexOf=oD,y.sortedLastIndex=aD,y.sortedLastIndexBy=uD,y.sortedLastIndexOf=cD,y.startCase=W5,y.startsWith=V5,y.subtract=qO,y.sum=BO,y.sumBy=HO,y.template=k5,y.times=DO,y.toFinite=En,y.toInteger=Me,y.toLength=gg,y.toLower=Y5,y.toNumber=Br,y.toSafeInteger=Yx,y.toString=nt,y.toUpper=J5,y.trim=X5,y.trimEnd=Q5,y.trimStart=Z5,y.truncate=eO,y.unescape=tO,y.uniqueId=OO,y.upperCase=rO,y.upperFirst=ef,y.each=tg,y.eachRight=rg,y.first=Xp,nf(y,function(){var r={};return tn(y,function(i,a){it.call(y.prototype,a)||(r[a]=i)}),r}(),{chain:!1}),y.VERSION=s,Lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),Lr(["drop","take"],function(r,i){Ye.prototype[r]=function(a){a=a===t?1:Gt(Me(a),0);var h=this.__filtered__&&!i?new Ye(this):this.clone();return h.__filtered__?h.__takeCount__=tr(a,h.__takeCount__):h.__views__.push({size:tr(a,re),type:r+(h.__dir__<0?"Right":"")}),h},Ye.prototype[r+"Right"]=function(a){return this.reverse()[r](a).reverse()}}),Lr(["filter","map","takeWhile"],function(r,i){var a=i+1,h=a==b||a==ee;Ye.prototype[r]=function(g){var v=this.clone();return v.__iteratees__.push({iteratee:we(g,3),type:a}),v.__filtered__=v.__filtered__||h,v}}),Lr(["head","last"],function(r,i){var a="take"+(i?"Right":"");Ye.prototype[r]=function(){return this[a](1).value()[0]}}),Lr(["initial","tail"],function(r,i){var a="drop"+(i?"":"Right");Ye.prototype[r]=function(){return this.__filtered__?new Ye(this):this[a](1)}}),Ye.prototype.compact=function(){return this.filter(Er)},Ye.prototype.find=function(r){return this.filter(r).head()},Ye.prototype.findLast=function(r){return this.reverse().find(r)},Ye.prototype.invokeMap=Ke(function(r,i){return typeof r=="function"?new Ye(this):this.map(function(a){return Ts(a,r,i)})}),Ye.prototype.reject=function(r){return this.filter(da(we(r)))},Ye.prototype.slice=function(r,i){r=Me(r);var a=this;return a.__filtered__&&(r>0||i<0)?new Ye(a):(r<0?a=a.takeRight(-r):r&&(a=a.drop(r)),i!==t&&(i=Me(i),a=i<0?a.dropRight(-i):a.take(i-r)),a)},Ye.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Ye.prototype.toArray=function(){return this.take(re)},tn(Ye.prototype,function(r,i){var a=/^(?:filter|find|map|reject)|While$/.test(i),h=/^(?:head|last)$/.test(i),g=y[h?"take"+(i=="last"?"Right":""):i],v=h||/^find/.test(i);g&&(y.prototype[i]=function(){var O=this.__wrapped__,N=h?[1]:arguments,q=O instanceof Ye,Q=N[0],Z=q||Re(O),ne=function(Ve){var Ze=g.apply(y,Rn([Ve],N));return h&&ce?Ze[0]:Ze};Z&&a&&typeof Q=="function"&&Q.length!=1&&(q=Z=!1);var ce=this.__chain__,_e=!!this.__actions__.length,Ee=v&&!ce,He=q&&!_e;if(!v&&Z){O=He?O:new Ye(this);var Se=r.apply(O,N);return Se.__actions__.push({func:ca,args:[ne],thisArg:t}),new $r(Se,ce)}return Ee&&He?r.apply(this,N):(Se=this.thru(ne),Ee?h?Se.value()[0]:Se.value():Se)})}),Lr(["pop","push","shift","sort","splice","unshift"],function(r){var i=Fo[r],a=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",h=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var g=arguments;if(h&&!this.__chain__){var v=this.value();return i.apply(Re(v)?v:[],g)}return this[a](function(O){return i.apply(Re(O)?O:[],g)})}}),tn(Ye.prototype,function(r,i){var a=y[i];if(a){var h=a.name+"";it.call($i,h)||($i[h]=[]),$i[h].push({name:i,func:a})}}),$i[ra(t,se).name]=[{name:"wrapper",func:t}],Ye.prototype.clone=t2,Ye.prototype.reverse=r2,Ye.prototype.value=n2,y.prototype.at=RD,y.prototype.chain=ND,y.prototype.commit=LD,y.prototype.next=FD,y.prototype.plant=UD,y.prototype.reverse=MD,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=qD,y.prototype.first=y.prototype.head,Ds&&(y.prototype[Ds]=$D),y},Ni=LS();Rt?((Rt.exports=Ni)._=Ni,ct._=Ni):Qe._=Ni}).call(mt)})(Ru,Ru.exports);var H3=Object.defineProperty,j3=Object.defineProperties,z3=Object.getOwnPropertyDescriptors,wd=Object.getOwnPropertySymbols,K3=Object.prototype.hasOwnProperty,G3=Object.prototype.propertyIsEnumerable,bd=(n,e,t)=>e in n?H3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,co=(n,e)=>{for(var t in e||(e={}))K3.call(e,t)&&bd(n,t,e[t]);if(wd)for(var t of wd(e))G3.call(e,t)&&bd(n,t,e[t]);return n},W3=(n,e)=>j3(n,z3(e));function In(n,e,t){var s;const o=V1(n);return((s=e.rpcMap)==null?void 0:s[o.reference])||`${B3}?chainId=${o.namespace}:${o.reference}&projectId=${t}`}function Xn(n){return n.includes(":")?n.split(":")[1]:n}function md(n){return n.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function V3(n,e){const t=Object.keys(e.namespaces).filter(o=>o.includes(n));if(!t.length)return[];const s=[];return t.forEach(o=>{const u=e.namespaces[o].accounts;s.push(...u)}),s}function k3(n={},e={}){const t=Ed(n),s=Ed(e);return Ru.exports.merge(t,s)}function Ed(n){var e,t,s,o;const u={};if(!mi(n))return u;for(const[c,l]of Object.entries(n)){const _=fu(c)?[c]:l.chains,p=l.methods||[],m=l.events||[],I=l.rpcMap||{},D=fs(c);u[D]=W3(co(co({},u[D]),l),{chains:uu(_,(e=u[D])==null?void 0:e.chains),methods:uu(p,(t=u[D])==null?void 0:t.methods),events:uu(m,(s=u[D])==null?void 0:s.events),rpcMap:co(co({},I),(o=u[D])==null?void 0:o.rpcMap)})}return u}function Y3(n){return n.includes(":")?n.split(":")[2]:n}function J3(n){const e={};for(const[t,s]of Object.entries(n)){const o=s.methods||[],u=s.events||[],c=s.accounts||[],l=fu(t)?[t]:s.chains?s.chains:md(s.accounts);e[t]={chains:l,methods:o,events:u,accounts:c}}return e}function Nu(n){return typeof n=="number"?n:n.includes("0x")?parseInt(n,16):n.includes(":")?Number(n.split(":")[1]):Number(n)}const Sd={},gt=n=>Sd[n],Lu=(n,e)=>{Sd[n]=e};var Fu={exports:{}};(function(n,e){var t=typeof self<"u"?self:mt,s=function(){function u(){this.fetch=!1,this.DOMException=t.DOMException}return u.prototype=t,new u}();(function(u){(function(c){var l={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function _(b){return b&&DataView.prototype.isPrototypeOf(b)}if(l.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(b){return b&&p.indexOf(Object.prototype.toString.call(b))>-1};function I(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function D(b){return typeof b!="string"&&(b=String(b)),b}function T(b){var P={next:function(){var ee=b.shift();return{done:ee===void 0,value:ee}}};return l.iterable&&(P[Symbol.iterator]=function(){return P}),P}function R(b){this.map={},b instanceof R?b.forEach(function(P,ee){this.append(ee,P)},this):Array.isArray(b)?b.forEach(function(P){this.append(P[0],P[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(P){this.append(P,b[P])},this)}R.prototype.append=function(b,P){b=I(b),P=D(P);var ee=this.map[b];this.map[b]=ee?ee+", "+P:P},R.prototype.delete=function(b){delete this.map[I(b)]},R.prototype.get=function(b){return b=I(b),this.has(b)?this.map[b]:null},R.prototype.has=function(b){return this.map.hasOwnProperty(I(b))},R.prototype.set=function(b,P){this.map[I(b)]=D(P)},R.prototype.forEach=function(b,P){for(var ee in this.map)this.map.hasOwnProperty(ee)&&b.call(P,this.map[ee],ee,this)},R.prototype.keys=function(){var b=[];return this.forEach(function(P,ee){b.push(ee)}),T(b)},R.prototype.values=function(){var b=[];return this.forEach(function(P){b.push(P)}),T(b)},R.prototype.entries=function(){var b=[];return this.forEach(function(P,ee){b.push([ee,P])}),T(b)},l.iterable&&(R.prototype[Symbol.iterator]=R.prototype.entries);function j(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function K(b){return new Promise(function(P,ee){b.onload=function(){P(b.result)},b.onerror=function(){ee(b.error)}})}function se(b){var P=new FileReader,ee=K(P);return P.readAsArrayBuffer(b),ee}function L(b){var P=new FileReader,ee=K(P);return P.readAsText(b),ee}function M(b){for(var P=new Uint8Array(b),ee=new Array(P.length),X=0;X<P.length;X++)ee[X]=String.fromCharCode(P[X]);return ee.join("")}function x(b){if(b.slice)return b.slice(0);var P=new Uint8Array(b.byteLength);return P.set(new Uint8Array(b)),P.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:l.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:l.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():l.arrayBuffer&&l.blob&&_(b)?(this._bodyArrayBuffer=x(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||m(b))?this._bodyArrayBuffer=x(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var b=j(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(se)}),this.text=function(){var b=j(this);if(b)return b;if(this._bodyBlob)return L(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function f(b){var P=b.toUpperCase();return E.indexOf(P)>-1?P:b}function w(b,P){P=P||{};var ee=P.body;if(b instanceof w){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,P.headers||(this.headers=new R(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!ee&&b._bodyInit!=null&&(ee=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new R(P.headers)),this.method=f(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ee)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ee)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function V(b){var P=new FormData;return b.trim().split("&").forEach(function(ee){if(ee){var X=ee.split("="),G=X.shift().replace(/\+/g," "),W=X.join("=").replace(/\+/g," ");P.append(decodeURIComponent(G),decodeURIComponent(W))}}),P}function Y(b){var P=new R,ee=b.replace(/\r?\n[\t ]+/g," ");return ee.split(/\r?\n/).forEach(function(X){var G=X.split(":"),W=G.shift().trim();if(W){var J=G.join(":").trim();P.append(W,J)}}),P}C.call(w.prototype);function ie(b,P){P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in P?P.statusText:"OK",this.headers=new R(P.headers),this.url=P.url||"",this._initBody(b)}C.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new R(this.headers),url:this.url})},ie.error=function(){var b=new ie(null,{status:0,statusText:""});return b.type="error",b};var ue=[301,302,303,307,308];ie.redirect=function(b,P){if(ue.indexOf(P)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:P,headers:{location:b}})},c.DOMException=u.DOMException;try{new c.DOMException}catch{c.DOMException=function(P,ee){this.message=P,this.name=ee;var X=Error(P);this.stack=X.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function de(b,P){return new Promise(function(ee,X){var G=new w(b,P);if(G.signal&&G.signal.aborted)return X(new c.DOMException("Aborted","AbortError"));var W=new XMLHttpRequest;function J(){W.abort()}W.onload=function(){var re={status:W.status,statusText:W.statusText,headers:Y(W.getAllResponseHeaders()||"")};re.url="responseURL"in W?W.responseURL:re.headers.get("X-Request-URL");var be="response"in W?W.response:W.responseText;ee(new ie(be,re))},W.onerror=function(){X(new TypeError("Network request failed"))},W.ontimeout=function(){X(new TypeError("Network request failed"))},W.onabort=function(){X(new c.DOMException("Aborted","AbortError"))},W.open(G.method,G.url,!0),G.credentials==="include"?W.withCredentials=!0:G.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&l.blob&&(W.responseType="blob"),G.headers.forEach(function(re,be){W.setRequestHeader(be,re)}),G.signal&&(G.signal.addEventListener("abort",J),W.onreadystatechange=function(){W.readyState===4&&G.signal.removeEventListener("abort",J)}),W.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return de.polyfill=!0,u.fetch||(u.fetch=de,u.Headers=R,u.Request=w,u.Response=ie),c.Headers=R,c.Request=w,c.Response=ie,c.fetch=de,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var o=s;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,n.exports=e})(Fu,Fu.exports);var Dd=Pg(Fu.exports);const xd={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},Od=10;class Pn{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new Qt.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!Dl(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{const s=ts(e),u=await(await Dd(this.url,Object.assign(Object.assign({},xd),{body:s}))).json();this.onPayload({data:u})}catch(s){this.onError(e.id,s)}}async register(e=this.url){if(!Dl(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((s,o)=>{this.events.once("register_error",u=>{this.resetMaxListeners(),o(u)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return o(new Error("HTTP connection is missing or invalid"));s()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=ts({id:1,jsonrpc:"2.0",method:"test",params:[]});await Dd(e,Object.assign(Object.assign({},xd),{body:t}))}this.onOpen()}catch(t){const s=this.parseError(t);throw this.events.emit("register_error",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Ma(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const s=this.parseError(t),o=s.message||s.toString(),u=no(e,o);this.events.emit("payload",u)}parseError(e,t=this.url){return yl(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Od&&this.events.setMaxListeners(Od)}}class X3{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const o=Xn(t);e[o]=this.createHttpProvider(o,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||In(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new un(new Pn(s,gt("disableProviderPing")))}}class Q3{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const s=t||In(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new un(new Pn(s,gt("disableProviderPing")))}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const o=parseInt(Xn(t));e[o]=this.createHttpProvider(o,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,s;let o=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";o=o.startsWith("0x")?o:`0x${o}`;const u=parseInt(o,16);if(this.isChainApproved(u))this.setDefaultChain(`${u}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:o}]},chainId:(s=this.namespace.chains)==null?void 0:s[0]}),this.setDefaultChain(`${u}`);else throw new Error(`Failed to switch to chain 'eip155:${u}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class Z3{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const o=Xn(t);e[o]=this.createHttpProvider(o,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||In(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new un(new Pn(s,gt("disableProviderPing")))}}class eS{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const o=Xn(t);e[o]=this.createHttpProvider(o,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||In(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new un(new Pn(s,gt("disableProviderPing")))}}class tS{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const s=this.getCardanoRPCUrl(t),o=Xn(t);e[o]=this.createHttpProvider(o,s)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||this.getCardanoRPCUrl(e);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new un(new Pn(s,gt("disableProviderPing")))}}class rS{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const o=Xn(t);e[o]=this.createHttpProvider(o,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||In(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new un(new Pn(s,gt("disableProviderPing")))}}class nS{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const o=Xn(t);e[o]=this.createHttpProvider(o,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||In(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new un(new Pn(s,gt("disableProviderPing")))}}class iS{constructor(e){this.name="near",this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const s=t||In(`${this.name}:${e}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.events.emit(hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;e[t]=this.createHttpProvider(t,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||In(e,this.namespace);return typeof s>"u"?void 0:new un(new Pn(s,gt("disableProviderPing")))}}var sS=Object.defineProperty,oS=Object.defineProperties,aS=Object.getOwnPropertyDescriptors,Id=Object.getOwnPropertySymbols,uS=Object.prototype.hasOwnProperty,cS=Object.prototype.propertyIsEnumerable,Pd=(n,e,t)=>e in n?sS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fo=(n,e)=>{for(var t in e||(e={}))uS.call(e,t)&&Pd(n,t,e[t]);if(Id)for(var t of Id(e))cS.call(e,t)&&Pd(n,t,e[t]);return n},$u=(n,e)=>oS(n,aS(e));class ho{constructor(e){this.events=new Qt.exports,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Je.pino(Je.getDefaultLoggerOptions({level:e?.logger||yd})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new ho(e);return await t.initialize(),t}async request(e,t){const[s,o]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:fo({},e),chainId:`${s}:${o}`,topic:this.session.topic})}sendAsync(e,t,s){this.request(e,s).then(o=>t(null,o)).catch(o=>t(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:$t("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:s,approval:o}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});s&&(this.uri=s,this.events.emit("display_uri",s)),await o().then(u=>{this.session=u,this.namespaces||(this.namespaces=J3(u.namespaces),this.persist("namespaces",this.namespaces))}).catch(u=>{if(u.message!==pd)throw u;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[s,o]=this.validateChain(e);this.getProvider(s).setDefaultChain(o,t)}catch(s){if(!/Please call connect/.test(s.message))throw s}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(Jn(t)){for(const s of t)e.deletePairings?this.client.core.expirer.set(s.topic,0):await this.client.core.relayer.subscriber.unsubscribe(s.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Tu.init({logger:this.providerOpts.logger||yd,relayUrl:this.providerOpts.relayUrl||U3,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>fs(t)))];Lu("client",this.client),Lu("events",this.events),Lu("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const s=V3(t,this.session),o=md(s),u=k3(this.namespaces,this.optionalNamespaces),c=$u(fo({},u[t]),{accounts:s,chains:o});switch(t){case"eip155":this.rpcProviders[t]=new Q3({namespace:c});break;case"solana":this.rpcProviders[t]=new Z3({namespace:c});break;case"cosmos":this.rpcProviders[t]=new eS({namespace:c});break;case"polkadot":this.rpcProviders[t]=new X3({namespace:c});break;case"cip34":this.rpcProviders[t]=new tS({namespace:c});break;case"elrond":this.rpcProviders[t]=new rS({namespace:c});break;case"multiversx":this.rpcProviders[t]=new nS({namespace:c});break;case"near":this.rpcProviders[t]=new iS({namespace:c});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:t}=e,{event:s}=t;if(s.name==="accountsChanged"){const o=s.data;o&&Jn(o)&&this.events.emit("accountsChanged",o.map(Y3))}else if(s.name==="chainChanged"){const o=t.chainId,u=t.event.data,c=fs(o),l=Nu(o)!==Nu(u)?`${c}:${Nu(u)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var s;const{namespaces:o}=t,u=(s=this.client)==null?void 0:s.session.get(e);this.session=$u(fo({},u),{namespaces:o}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",$u(fo({},$t("USER_DISCONNECTED")),{data:e.topic}))}),this.on(hn.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:s,sessionProperties:o}=e;t&&Object.keys(t).length&&(this.namespaces=t),s&&Object.keys(s).length&&(this.optionalNamespaces=s),this.sessionProperties=o,this.persist("namespaces",t),this.persist("optionalNamespaces",s)}validateChain(e){const[t,s]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,s];if(t&&!Object.keys(this.namespaces||{}).map(c=>fs(c)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&s)return[t,s];const o=fs(Object.keys(this.namespaces)[0]),u=this.rpcProviders[o].getDefaultChain();return[o,u]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var s;if(!this.namespaces)return;const[o,u]=this.validateChain(e);t||this.getProvider(o).setDefaultChain(u),((s=this.namespaces[o])!=null?s:this.namespaces[`${o}:${u}`]).defaultChain=u,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",u)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${vd}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${vd}/${e}`)}}const fS=ho;Bn.UniversalProvider=fS,Bn.default=ho,Object.defineProperty(Bn,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
